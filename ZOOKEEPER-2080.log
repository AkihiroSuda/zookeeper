Buildfile: /home/suda/WORK/zookeeper/build.xml

init:

ivy-download:

ivy-taskdef:

ivy-init:

ivy-retrieve:
[ivy:retrieve] :: Ivy 2.2.0 - 20100923230623 :: http://ant.apache.org/ivy/ ::
[ivy:retrieve] :: loading settings :: file = /home/suda/WORK/zookeeper/ivysettings.xml
[ivy:retrieve] :: resolving dependencies :: org.apache.zookeeper#zookeeper;3.6.0-SNAPSHOT
[ivy:retrieve] 	confs: [default]
[ivy:retrieve] 	found jline#jline;2.11 in maven2
[ivy:retrieve] 	found org.mortbay.jetty#jetty;6.1.26 in maven2
[ivy:retrieve] 	found org.mortbay.jetty#jetty-util;6.1.26 in maven2
[ivy:retrieve] 	found org.mortbay.jetty#servlet-api;2.5-20081211 in maven2
[ivy:retrieve] 	found org.codehaus.jackson#jackson-mapper-asl;1.9.11 in maven2
[ivy:retrieve] 	found org.codehaus.jackson#jackson-core-asl;1.9.11 in maven2
[ivy:retrieve] 	found org.slf4j#slf4j-api;1.7.5 in maven2
[ivy:retrieve] 	found org.slf4j#slf4j-log4j12;1.7.5 in maven2
[ivy:retrieve] 	found commons-cli#commons-cli;1.2 in maven2
[ivy:retrieve] 	found log4j#log4j;1.2.16 in maven2
[ivy:retrieve] 	found io.netty#netty;3.7.0.Final in maven2
[ivy:retrieve] 	found net.java.dev.javacc#javacc;5.0 in maven2
[ivy:retrieve] :: resolution report :: resolve 242ms :: artifacts dl 11ms
	---------------------------------------------------------------------
	|                  |            modules            ||   artifacts   |
	|       conf       | number| search|dwnlded|evicted|| number|dwnlded|
	---------------------------------------------------------------------
	|      default     |   12  |   0   |   0   |   0   ||   12  |   0   |
	---------------------------------------------------------------------
[ivy:retrieve] :: retrieving :: org.apache.zookeeper#zookeeper
[ivy:retrieve] 	confs: [default]
[ivy:retrieve] 	1 artifacts copied, 11 already retrieved (291kB/7ms)

clover.setup:

clover.info:

clover:

generate_jute_parser:
[ivy:artifactproperty] DEPRECATED: 'ivy.conf.file' is deprecated, use 'ivy.settings.file' instead
[ivy:artifactproperty] :: loading settings :: file = /home/suda/WORK/zookeeper/ivysettings.xml
     [move] Moving 1 file to /home/suda/WORK/zookeeper/build/lib
   [javacc] Java Compiler Compiler Version 5.0 (Parser Generator)
   [javacc] (type "javacc" with no arguments for help)
   [javacc] Reading from file /home/suda/WORK/zookeeper/src/java/main/org/apache/jute/compiler/generated/rcc.jj . . .
   [javacc] File "TokenMgrError.java" is being rebuilt.
   [javacc] File "ParseException.java" is being rebuilt.
   [javacc] File "Token.java" is being rebuilt.
   [javacc] File "SimpleCharStream.java" is being rebuilt.
   [javacc] Parser generated successfully.

jute:
    [javac] Compiling 7 source files to /home/suda/WORK/zookeeper/build/classes

compile_jute_uptodate:

compile_jute:

ver-gen:

svn-revision:
     [exec] svn: E155007: '/home/suda/WORK/zookeeper' は作業コピーではありません

version-info:
     [java] Unknown REVISION number, using -1

process-template:

build-generated:
    [javac] Compiling 1 source file to /home/suda/WORK/zookeeper/build/classes

compile:

jar:
      [jar] Building jar: /home/suda/WORK/zookeeper/build/zookeeper-3.6.0-SNAPSHOT.jar

ivy-retrieve-test:
[ivy:retrieve] :: resolving dependencies :: org.apache.zookeeper#zookeeper;3.6.0-SNAPSHOT
[ivy:retrieve] 	confs: [test]
[ivy:retrieve] 	found junit#junit;4.12 in maven2
[ivy:retrieve] 	found org.hamcrest#hamcrest-core;1.3 in maven2
[ivy:retrieve] 	found org.mockito#mockito-all;1.8.2 in maven2
[ivy:retrieve] 	found checkstyle#checkstyle;5.0 in maven2
[ivy:retrieve] 	found antlr#antlr;2.7.6 in maven2
[ivy:retrieve] 	found commons-beanutils#commons-beanutils-core;1.7.0 in maven2
[ivy:retrieve] 	found commons-collections#commons-collections;2.0 in maven2
[ivy:retrieve] 	found commons-cli#commons-cli;1.0 in maven2
[ivy:retrieve] 	found commons-lang#commons-lang;1.0 in maven2
[ivy:retrieve] 	found commons-logging#commons-logging;1.0.3 in maven2
[ivy:retrieve] 	found com.google.collections#google-collections;0.9 in maven2
[ivy:retrieve] :: resolution report :: resolve 120ms :: artifacts dl 6ms
[ivy:retrieve] 	:: evicted modules:
[ivy:retrieve] 	commons-logging#commons-logging;1.0 by [commons-logging#commons-logging;1.0.3] in [test]
[ivy:retrieve] 	junit#junit;3.7 by [junit#junit;4.12] in [test]
	---------------------------------------------------------------------
	|                  |            modules            ||   artifacts   |
	|       conf       | number| search|dwnlded|evicted|| number|dwnlded|
	---------------------------------------------------------------------
	|       test       |   13  |   0   |   0   |   2   ||   11  |   0   |
	---------------------------------------------------------------------
[ivy:retrieve] :: retrieving :: org.apache.zookeeper#zookeeper
[ivy:retrieve] 	confs: [test]
[ivy:retrieve] 	0 artifacts copied, 11 already retrieved (0kB/3ms)

compile-test:

test-init:
   [delete] Deleting directory /home/suda/WORK/zookeeper/build/test/logs
   [delete] Deleting directory /home/suda/WORK/zookeeper/build/test/tmp
   [delete] Deleting directory /home/suda/WORK/zookeeper/build/test/data/invalidsnap
   [delete] Deleting directory /home/suda/WORK/zookeeper/build/test/data/buffersize
   [delete] Deleting directory /home/suda/WORK/zookeeper/build/test/data/ssl
   [delete] Deleting directory /home/suda/WORK/zookeeper/build/test/data
    [mkdir] Created dir: /home/suda/WORK/zookeeper/build/test/logs
    [mkdir] Created dir: /home/suda/WORK/zookeeper/build/test/tmp
    [mkdir] Created dir: /home/suda/WORK/zookeeper/build/test/data
    [mkdir] Created dir: /home/suda/WORK/zookeeper/build/test/data/invalidsnap
     [copy] Copying 8 files to /home/suda/WORK/zookeeper/build/test/data/invalidsnap
    [mkdir] Created dir: /home/suda/WORK/zookeeper/build/test/data/buffersize
     [copy] Copying 7 files to /home/suda/WORK/zookeeper/build/test/data/buffersize
    [mkdir] Created dir: /home/suda/WORK/zookeeper/build/test/data/ssl
     [copy] Copying 3 files to /home/suda/WORK/zookeeper/build/test/data/ssl

test-category:

junit-init:

junit.run-single:

junit.run-concurrent:
     [echo] Running 1 concurrent JUnit processes.
    [junit] 2015-07-07 19:07:16,051 [myid:] - INFO  [main:JUnit4ZKTestRunner@49] - Picked up test.method=testCurrentObserverIsParticipantInNewConfig
    [junit] Running org.apache.zookeeper.server.quorum.ReconfigRecoveryTest
    [junit] 2015-07-07 19:07:16,058 [myid:] - INFO  [main:JUnit4ZKTestRunner@49] - Picked up test.method=testCurrentObserverIsParticipantInNewConfig
    [junit] 2015-07-07 19:07:16,065 [myid:] - INFO  [main:ZKTestCase$1@55] - STARTING testCurrentObserverIsParticipantInNewConfig
    [junit] 2015-07-07 19:07:16,065 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@77] - RUNNING TEST METHOD testCurrentObserverIsParticipantInNewConfig
    [junit] 2015-07-07 19:07:16,070 [myid:] - INFO  [main:PortAssignment@157] - Single test process using ports from 11221 - 32767.
    [junit] 2015-07-07 19:07:16,074 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11222 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,074 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11223 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,074 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11224 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,074 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11225 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,074 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11226 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,075 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11227 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,075 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11228 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,075 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11229 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,075 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11230 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,075 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11231 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,076 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11232 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,077 [myid:] - INFO  [main:PortAssignment@85] - Assigned port 11233 from range 11221 - 32767.
    [junit] 2015-07-07 19:07:16,077 [myid:] - INFO  [main:ReconfigRecoveryTest@481] - Run servers 0..2 for a while
    [junit] 2015-07-07 19:07:16,087 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 0 tmpDir = /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir clientPort = 11224 adminServerPort = 8080
    [junit] 2015-07-07 19:07:16,093 [myid:] - INFO  [Thread-0:QuorumPeerConfig@114] - Reading configuration from: /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/zoo.cfg
    [junit] 2015-07-07 19:07:16,094 [myid:] - INFO  [Thread-0:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11224
    [junit] 2015-07-07 19:07:16,094 [myid:] - INFO  [Thread-0:QuorumPeerConfig@320] - secureClientPort is not set
    [junit] 2015-07-07 19:07:16,096 [myid:] - INFO  [main:Environment@109] - Client environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 07/07/2015 06:47 GMT
    [junit] 2015-07-07 19:07:16,096 [myid:] - INFO  [main:Environment@109] - Client environment:host.name=suda-PC2
    [junit] 2015-07-07 19:07:16,096 [myid:] - INFO  [main:Environment@109] - Client environment:java.version=1.7.0_79
    [junit] 2015-07-07 19:07:16,096 [myid:] - INFO  [main:Environment@109] - Client environment:java.vendor=Oracle Corporation
    [junit] 2015-07-07 19:07:16,096 [myid:] - INFO  [main:Environment@109] - Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
    [junit] 2015-07-07 19:07:16,096 [myid:] - INFO  [main:Environment@109] - Client environment:java.class.path=/home/suda/WORK/zookeeper/build/test/classes:/home/suda/WORK/zookeeper/build/test/lib/antlr-2.7.6.jar:/home/suda/WORK/zookeeper/build/test/lib/checkstyle-5.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-cli-1.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-collections-2.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-lang-1.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-logging-1.0.3.jar:/home/suda/WORK/zookeeper/build/test/lib/google-collections-0.9.jar:/home/suda/WORK/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/home/suda/WORK/zookeeper/build/test/lib/junit-4.12.jar:/home/suda/WORK/zookeeper/build/test/lib/mockito-all-1.8.2.jar:/home/suda/WORK/zookeeper/build/classes:/home/suda/WORK/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/home/suda/WORK/zookeeper/src/java/lib/ivy-2.2.0.jar:/usr/share/ant/lib/ant.jar:/home/suda/WORK/zookeeper/build/lib/commons-cli-1.2.jar:/home/suda/WORK/zookeeper/build/lib/jackson-core-asl-1.9.11.jar:/home/suda/WORK/zookeeper/build/lib/jackson-mapper-asl-1.9.11.jar:/home/suda/WORK/zookeeper/build/lib/javacc.jar:/home/suda/WORK/zookeeper/build/lib/jetty-6.1.26.jar:/home/suda/WORK/zookeeper/build/lib/jetty-util-6.1.26.jar:/home/suda/WORK/zookeeper/build/lib/jline-2.11.jar:/home/suda/WORK/zookeeper/build/lib/log4j-1.2.16.jar:/home/suda/WORK/zookeeper/build/lib/netty-3.7.0.Final.jar:/home/suda/WORK/zookeeper/build/lib/servlet-api-2.5-20081211.jar:/home/suda/WORK/zookeeper/build/lib/slf4j-api-1.7.5.jar:/home/suda/WORK/zookeeper/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.4.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
    [junit] 2015-07-07 19:07:16,096 [myid:] - INFO  [main:Environment@109] - Client environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:java.io.tmpdir=/tmp
    [junit] 2015-07-07 19:07:16,097 [myid:] - WARN  [Thread-0:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:java.compiler=<NA>
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:os.name=Linux
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:os.arch=amd64
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:os.version=3.19.0-22-generic
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:user.name=nfqhooked
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:user.home=/home/nfqhooked
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:user.dir=/home/suda/WORK/zookeeper/build/test
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.free=226MB
    [junit] 2015-07-07 19:07:16,097 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.max=455MB
    [junit] 2015-07-07 19:07:16,098 [myid:] - INFO  [main:Environment@109] - Client environment:os.memory.total=239MB
    [junit] 2015-07-07 19:07:16,099 [myid:] - INFO  [main:ZooKeeper@716] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4ab6d2e5
    [junit] 2015-07-07 19:07:16,100 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
    [junit] 2015-07-07 19:07:16,100 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
    [junit] 2015-07-07 19:07:16,100 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@101] - Purge task is not scheduled.
    [junit] 2015-07-07 19:07:16,101 [myid:] - DEBUG [main:ClientCnxn@124] - zookeeper.disableAutoWatchReset is false
    [junit] 2015-07-07 19:07:16,109 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 1 tmpDir = /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir clientPort = 11227 adminServerPort = 8080
    [junit] 2015-07-07 19:07:16,109 [myid:] - INFO  [Thread-2:QuorumPeerConfig@114] - Reading configuration from: /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/zoo.cfg
    [junit] 2015-07-07 19:07:16,109 [myid:] - INFO  [main:ZooKeeper@716] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4ab6d2e5
    [junit] 2015-07-07 19:07:16,110 [myid:] - INFO  [Thread-2:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11227
    [junit] 2015-07-07 19:07:16,110 [myid:] - INFO  [Thread-2:QuorumPeerConfig@320] - secureClientPort is not set
    [junit] 2015-07-07 19:07:16,110 [myid:] - WARN  [Thread-2:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
    [junit] 2015-07-07 19:07:16,110 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
    [junit] 2015-07-07 19:07:16,110 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
    [junit] 2015-07-07 19:07:16,110 [myid:1] - INFO  [Thread-2:DatadirCleanupManager@101] - Purge task is not scheduled.
    [junit] 2015-07-07 19:07:16,111 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:16,114 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:16,114 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 2 tmpDir = /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir clientPort = 11230 adminServerPort = 8080
    [junit] 2015-07-07 19:07:16,114 [myid:] - INFO  [Thread-3:QuorumPeerConfig@114] - Reading configuration from: /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/zoo.cfg
    [junit] 2015-07-07 19:07:16,114 [myid:] - INFO  [main:ZooKeeper@716] - Initiating client connection, connectString=127.0.0.1:11230 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4ab6d2e5
    [junit] 2015-07-07 19:07:16,115 [myid:] - INFO  [Thread-3:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11230
    [junit] 2015-07-07 19:07:16,115 [myid:] - INFO  [Thread-3:QuorumPeerConfig@320] - secureClientPort is not set
    [junit] 2015-07-07 19:07:16,115 [myid:] - WARN  [Thread-3:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
    [junit] 2015-07-07 19:07:16,115 [myid:2] - WARN  [Thread-3:QuorumPeerConfig@620] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
    [junit] 2015-07-07 19:07:16,115 [myid:2] - INFO  [Thread-3:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
    [junit] 2015-07-07 19:07:16,115 [myid:2] - INFO  [Thread-3:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
    [junit] 2015-07-07 19:07:16,115 [myid:2] - INFO  [Thread-3:DatadirCleanupManager@101] - Purge task is not scheduled.
    [junit] 2015-07-07 19:07:16,116 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:16,132 [myid:] - WARN  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1257] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
    [junit] 	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1236)
    [junit] 2015-07-07 19:07:16,133 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxnSocketNIO@199] - Ignoring exception during shutdown input
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownInput(SocketChannelImpl.java:802)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownInput(SocketAdaptor.java:426)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:196)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1267)
    [junit] 2015-07-07 19:07:16,133 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxnSocketNIO@206] - Ignoring exception during shutdown output
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:819)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownOutput(SocketAdaptor.java:434)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:203)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1267)
    [junit] 2015-07-07 19:07:16,147 [myid:] - WARN  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1257] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
    [junit] 	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1236)
    [junit] 2015-07-07 19:07:16,147 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxnSocketNIO@199] - Ignoring exception during shutdown input
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownInput(SocketChannelImpl.java:802)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownInput(SocketAdaptor.java:426)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:196)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1267)
    [junit] 2015-07-07 19:07:16,147 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxnSocketNIO@206] - Ignoring exception during shutdown output
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:819)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownOutput(SocketAdaptor.java:434)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:203)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1267)
    [junit] 2015-07-07 19:07:16,147 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:hiearchy=default
    [junit] 2015-07-07 19:07:16,147 [myid:0] - DEBUG [Thread-0:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:hiearchy=default
    [junit] 2015-07-07 19:07:16,147 [myid:1] - DEBUG [Thread-2:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:hiearchy=default
    [junit] 2015-07-07 19:07:16,148 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@260] - postRegister is called.
    [junit] 2015-07-07 19:07:16,148 [myid:1] - DEBUG [Thread-2:HierarchyDynamicMBean@260] - postRegister is called.
    [junit] 2015-07-07 19:07:16,148 [myid:0] - DEBUG [Thread-0:HierarchyDynamicMBean@260] - postRegister is called.
    [junit] 2015-07-07 19:07:16,149 [myid:1] - DEBUG [Thread-2:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=root
    [junit] 2015-07-07 19:07:16,149 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=root
    [junit] 2015-07-07 19:07:16,149 [myid:0] - DEBUG [Thread-0:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=root
    [junit] 2015-07-07 19:07:16,149 [myid:1] - DEBUG [Thread-2:LoggerDynamicMBean@258] - Adding AppenderMBean for appender named CONSOLE
    [junit] 2015-07-07 19:07:16,149 [myid:2] - DEBUG [Thread-3:LoggerDynamicMBean@258] - Adding AppenderMBean for appender named CONSOLE
    [junit] 2015-07-07 19:07:16,149 [myid:0] - DEBUG [Thread-0:LoggerDynamicMBean@258] - Adding AppenderMBean for appender named CONSOLE
    [junit] 2015-07-07 19:07:16,151 [myid:1] - DEBUG [Thread-2:AppenderDynamicMBean@158] - getMBeanInfo called.
    [junit] 2015-07-07 19:07:16,151 [myid:0] - DEBUG [Thread-0:AppenderDynamicMBean@158] - getMBeanInfo called.
    [junit] 2015-07-07 19:07:16,151 [myid:2] - DEBUG [Thread-3:AppenderDynamicMBean@158] - getMBeanInfo called.
    [junit] 2015-07-07 19:07:16,151 [myid:2] - DEBUG [Thread-3:AppenderDynamicMBean@337] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:appender=CONSOLE
    [junit] 2015-07-07 19:07:16,151 [myid:0] - DEBUG [Thread-0:AppenderDynamicMBean@337] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:appender=CONSOLE
    [junit] 2015-07-07 19:07:16,151 [myid:0] - DEBUG [Thread-0:AppenderDynamicMBean@197] - Adding LayoutMBean:CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 2015-07-07 19:07:16,151 [myid:1] - DEBUG [Thread-2:AppenderDynamicMBean@337] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:appender=CONSOLE
    [junit] 2015-07-07 19:07:16,151 [myid:1] - DEBUG [Thread-2:AppenderDynamicMBean@197] - Adding LayoutMBean:CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 2015-07-07 19:07:16,151 [myid:2] - DEBUG [Thread-3:AppenderDynamicMBean@197] - Adding LayoutMBean:CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 2015-07-07 19:07:16,152 [myid:0] - DEBUG [Thread-0:LayoutDynamicMBean@140] - getMBeanInfo called.
    [junit] 2015-07-07 19:07:16,152 [myid:2] - DEBUG [Thread-3:LayoutDynamicMBean@140] - getMBeanInfo called.
    [junit] 2015-07-07 19:07:16,152 [myid:1] - DEBUG [Thread-2:LayoutDynamicMBean@140] - getMBeanInfo called.
    [junit] 2015-07-07 19:07:16,152 [myid:1] - DEBUG [Thread-2:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 2015-07-07 19:07:16,152 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 2015-07-07 19:07:16,152 [myid:0] - DEBUG [Thread-0:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 2015-07-07 19:07:16,152 [myid:2] - ERROR [Thread-3:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
    [junit] javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
    [junit] 	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,152 [myid:1] - DEBUG [Thread-2:HierarchyDynamicMBean@128] - ---Adding logger [root] as listener.
    [junit] 2015-07-07 19:07:16,153 [myid:2] - ERROR [Thread-3:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
    [junit] javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,154 [myid:2] - ERROR [Thread-3:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
    [junit] javax.management.InstanceAlreadyExistsException: log4j:logger=root
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,152 [myid:0] - ERROR [Thread-0:AppenderDynamicMBean@209] - Could not add DynamicLayoutMBean for [CONSOLE,layout=org.apache.log4j.PatternLayout].
    [junit] javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.AppenderDynamicMBean.registerLayoutMBean(AppenderDynamicMBean.java:203)
    [junit] 	at org.apache.log4j.jmx.AppenderDynamicMBean.preRegister(AppenderDynamicMBean.java:339)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.preRegister(DefaultMBeanServerInterceptor.java:1007)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:919)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,154 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.client.StaticHostProvider
    [junit] 2015-07-07 19:07:16,153 [myid:1] - WARN  [Thread-2:QuorumPeerMain@133] - Unable to register log4j JMX control
    [junit] javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,155 [myid:1] - INFO  [Thread-2:QuorumPeerMain@136] - Starting quorum peer
    [junit] 2015-07-07 19:07:16,155 [myid:0] - ERROR [Thread-0:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
    [junit] javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
    [junit] 	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,156 [myid:0] - ERROR [Thread-0:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
    [junit] javax.management.InstanceAlreadyExistsException: log4j:logger=root
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
    [junit] 	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,156 [myid:0] - WARN  [Thread-0:QuorumPeerMain@133] - Unable to register log4j JMX control
    [junit] javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:16,156 [myid:0] - INFO  [Thread-0:QuorumPeerMain@136] - Starting quorum peer
    [junit] 2015-07-07 19:07:16,155 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.client.StaticHostProvider] as listener.
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.test.ClientBase
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.test.ClientBase] as listener.
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.ClientCnxn
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.ClientCnxn] as listener.
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.log4j.jmx.LoggerDynamicMBean
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.LoggerDynamicMBean] as listener.
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.ZKTestCase
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.ZKTestCase] as listener.
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.CreateMode
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.CreateMode] as listener.
    [junit] 2015-07-07 19:07:16,157 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.jmx.MBeanRegistry
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.jmx.MBeanRegistry] as listener.
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.client.ZooKeeperSaslClient
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.client.ZooKeeperSaslClient] as listener.
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.test.ReconfigTest
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.test.ReconfigTest] as listener.
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.server.quorum.QuorumPeerConfig
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.quorum.QuorumPeerConfig] as listener.
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.log4j.jmx.AppenderDynamicMBean
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.AppenderDynamicMBean] as listener.
    [junit] 2015-07-07 19:07:16,158 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.ClientCnxnSocket
    [junit] 2015-07-07 19:07:16,159 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.ClientCnxnSocket] as listener.
    [junit] 2015-07-07 19:07:16,159 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest
    [junit] 2015-07-07 19:07:16,159 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.quorum.ReconfigRecoveryTest] as listener.
    [junit] 2015-07-07 19:07:16,159 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.ClientCnxnSocketNIO
    [junit] 2015-07-07 19:07:16,159 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.ClientCnxnSocketNIO] as listener.
    [junit] 2015-07-07 19:07:16,159 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
    [junit] 2015-07-07 19:07:16,159 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.server.quorum.QuorumPeerMain
    [junit] 2015-07-07 19:07:16,159 [myid:1] - INFO  [Thread-2:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
    [junit] 2015-07-07 19:07:16,159 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.quorum.QuorumPeerMain] as listener.
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.log4j.jmx.HierarchyDynamicMBean
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.HierarchyDynamicMBean] as listener.
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.PortAssignment
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.PortAssignment] as listener.
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.server.quorum.QuorumPeerTestBase
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.quorum.QuorumPeerTestBase] as listener.
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.ZooKeeper
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.ZooKeeper] as listener.
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.JUnit4ZKTestRunner
    [junit] 2015-07-07 19:07:16,160 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.JUnit4ZKTestRunner] as listener.
    [junit] 2015-07-07 19:07:16,163 [myid:] - WARN  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1257] - Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
    [junit] 	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:355)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1236)
    [junit] 2015-07-07 19:07:16,161 [myid:1] - INFO  [Thread-2:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11227
    [junit] 2015-07-07 19:07:16,165 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxnSocketNIO@199] - Ignoring exception during shutdown input
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownInput(SocketChannelImpl.java:802)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownInput(SocketAdaptor.java:426)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:196)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1267)
    [junit] 2015-07-07 19:07:16,166 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxnSocketNIO@206] - Ignoring exception during shutdown output
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:819)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownOutput(SocketAdaptor.java:434)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:203)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1267)
    [junit] 2015-07-07 19:07:16,165 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.server.DatadirCleanupManager
    [junit] 2015-07-07 19:07:16,167 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.DatadirCleanupManager] as listener.
    [junit] 2015-07-07 19:07:16,167 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.log4j.jmx.LayoutDynamicMBean
    [junit] 2015-07-07 19:07:16,167 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.LayoutDynamicMBean] as listener.
    [junit] 2015-07-07 19:07:16,167 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.server.persistence.FileTxnLog
    [junit] 2015-07-07 19:07:16,170 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.persistence.FileTxnLog] as listener.
    [junit] 2015-07-07 19:07:16,170 [myid:2] - DEBUG [Thread-3:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:logger=org.apache.zookeeper.server.ZooKeeperThread
    [junit] 2015-07-07 19:07:16,170 [myid:2] - DEBUG [Thread-3:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.ZooKeeperThread] as listener.
    [junit] 2015-07-07 19:07:16,170 [myid:2] - INFO  [Thread-3:QuorumPeerMain@136] - Starting quorum peer
    [junit] 2015-07-07 19:07:16,170 [myid:2] - INFO  [Thread-3:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
    [junit] 2015-07-07 19:07:16,170 [myid:2] - INFO  [Thread-3:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11230
    [junit] 2015-07-07 19:07:16,179 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11224
    [junit] 2015-07-07 19:07:16,188 [myid:2] - DEBUG [Thread-3:FileTxnSnapLog@84] - Opening datadir:/home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data snapDir:/home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data
    [junit] 2015-07-07 19:07:16,188 [myid:0] - DEBUG [Thread-0:FileTxnSnapLog@84] - Opening datadir:/home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data snapDir:/home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data
    [junit] 2015-07-07 19:07:16,188 [myid:1] - DEBUG [Thread-2:FileTxnSnapLog@84] - Opening datadir:/home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data snapDir:/home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data
    [junit] 2015-07-07 19:07:16,189 [myid:2] - INFO  [Thread-3:QuorumPeer@1280] - Local sessions disabled
    [junit] 2015-07-07 19:07:16,189 [myid:2] - INFO  [Thread-3:QuorumPeer@1291] - Local session upgrading disabled
    [junit] 2015-07-07 19:07:16,189 [myid:1] - INFO  [Thread-2:QuorumPeer@1280] - Local sessions disabled
    [junit] 2015-07-07 19:07:16,190 [myid:1] - INFO  [Thread-2:QuorumPeer@1291] - Local session upgrading disabled
    [junit] 2015-07-07 19:07:16,190 [myid:1] - INFO  [Thread-2:QuorumPeer@1258] - tickTime set to 4000
    [junit] 2015-07-07 19:07:16,189 [myid:0] - INFO  [Thread-0:QuorumPeer@1280] - Local sessions disabled
    [junit] 2015-07-07 19:07:16,190 [myid:0] - INFO  [Thread-0:QuorumPeer@1291] - Local session upgrading disabled
    [junit] 2015-07-07 19:07:16,190 [myid:0] - INFO  [Thread-0:QuorumPeer@1258] - tickTime set to 4000
    [junit] 2015-07-07 19:07:16,190 [myid:1] - INFO  [Thread-2:QuorumPeer@1302] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:16,190 [myid:1] - INFO  [Thread-2:QuorumPeer@1313] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:16,190 [myid:1] - INFO  [Thread-2:QuorumPeer@1328] - initLimit set to 10
    [junit] 2015-07-07 19:07:16,190 [myid:2] - INFO  [Thread-3:QuorumPeer@1258] - tickTime set to 4000
    [junit] 2015-07-07 19:07:16,190 [myid:2] - INFO  [Thread-3:QuorumPeer@1302] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:16,190 [myid:2] - INFO  [Thread-3:QuorumPeer@1313] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:16,191 [myid:2] - INFO  [Thread-3:QuorumPeer@1328] - initLimit set to 10
    [junit] 2015-07-07 19:07:16,190 [myid:0] - INFO  [Thread-0:QuorumPeer@1302] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:16,191 [myid:0] - INFO  [Thread-0:QuorumPeer@1313] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:16,191 [myid:0] - INFO  [Thread-0:QuorumPeer@1328] - initLimit set to 10
    [junit] 2015-07-07 19:07:16,200 [myid:1] - INFO  [Thread-2:QuorumPeer@744] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:16,200 [myid:0] - INFO  [Thread-0:QuorumPeer@744] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:16,203 [myid:2] - INFO  [Thread-3:QuorumPeer@744] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:16,250 [myid:1] - INFO  [Thread-2:QuorumPeer@759] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:16,250 [myid:0] - INFO  [Thread-0:QuorumPeer@759] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:16,284 [myid:2] - INFO  [Thread-3:QuorumPeer@759] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:16,320 [myid:1] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,320 [myid:1] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,320 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@950] - Starting quorum peer
    [junit] 2015-07-07 19:07:16,320 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11226
    [junit] 2015-07-07 19:07:16,320 [myid:0] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,320 [myid:0] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,320 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11223
    [junit] 2015-07-07 19:07:16,321 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@950] - Starting quorum peer
    [junit] 2015-07-07 19:07:16,324 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:16,324 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:16,324 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:16,324 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:16,325 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@795] - Updating proposal: 0 (newleader), 0x0 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:16,325 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x0 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:16,325 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@894] - New election. My id =  0, proposed zxid=0x0
    [junit] 2015-07-07 19:07:16,325 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@894] - New election. My id =  1, proposed zxid=0x0
    [junit] 2015-07-07 19:07:16,325 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,325 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 0 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,325 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,325 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 0 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,326 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,326 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,326 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:16,326 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,326 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,326 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:16,329 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,329 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,330 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11229
    [junit] 2015-07-07 19:07:16,330 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@950] - Starting quorum peer
    [junit] 2015-07-07 19:07:16,330 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:16,330 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:16,330 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: -9223372036854775808 (newleader), 0x8000000000000000 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:16,331 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@894] - New election. My id =  2, proposed zxid=0x8000000000000000
    [junit] 2015-07-07 19:07:16,331 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,331 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,331 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,331 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,331 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:16,391 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:16,392 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:16,393 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:16,393 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:16,394 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:16,394 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:16,407 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:16,407 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (1, 0)
    [junit] 2015-07-07 19:07:16,407 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:16,407 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:16,408 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:16,408 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:16,423 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:16,423 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:16,423 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,423 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:16,423 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:16,439 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59956
    [junit] 2015-07-07 19:07:16,456 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:16,471 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35271
    [junit] 2015-07-07 19:07:16,487 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:16,487 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:16,487 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:16,487 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 1, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:16,488 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:16,487 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@365] - Create new connection to server: 0
    [junit] 2015-07-07 19:07:16,488 [myid:1] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:16,488 [myid:1] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:16,488 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:16,488 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 1
    [junit] 2015-07-07 19:07:16,519 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59957
    [junit] 2015-07-07 19:07:16,535 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:16,568 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:16,568 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:16,568 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 0, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:16,568 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x0 (newzxid), 0 (oldleader), 0x0 (oldzxid)
    [junit] 2015-07-07 19:07:16,568 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 0 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,568 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 0 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,568 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:16,568 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:16,569 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:16,569 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:16,569 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:16,569 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:16,595 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:16,595 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,595 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,595 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:07:16,623 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:16,632 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:16,632 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:16,632 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:16,632 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:16,632 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:16,632 [myid:0] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:16,633 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 0
    [junit] 2015-07-07 19:07:16,680 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:16,712 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:16,712 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:16,712 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,712 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,713 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:07:16,712 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:16,713 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:16,760 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:16,760 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:16,760 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:16,761 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:16,761 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:16,761 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:16,761 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:16,769 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@817] - I'm a participant: 0
    [junit] 2015-07-07 19:07:16,769 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x0, my id=0, my state=FOLLOWING
    [junit] 2015-07-07 19:07:16,769 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
    [junit] 2015-07-07 19:07:16,770 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1062] - FOLLOWING
    [junit] 2015-07-07 19:07:16,772 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@88] - TCP NoDelay set to: true
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 07/07/2015 06:47 GMT
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:host.name=suda-PC2
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:java.version=1.7.0_79
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:java.vendor=Oracle Corporation
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:java.class.path=/home/suda/WORK/zookeeper/build/test/classes:/home/suda/WORK/zookeeper/build/test/lib/antlr-2.7.6.jar:/home/suda/WORK/zookeeper/build/test/lib/checkstyle-5.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-beanutils-core-1.7.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-cli-1.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-collections-2.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-lang-1.0.jar:/home/suda/WORK/zookeeper/build/test/lib/commons-logging-1.0.3.jar:/home/suda/WORK/zookeeper/build/test/lib/google-collections-0.9.jar:/home/suda/WORK/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/home/suda/WORK/zookeeper/build/test/lib/junit-4.12.jar:/home/suda/WORK/zookeeper/build/test/lib/mockito-all-1.8.2.jar:/home/suda/WORK/zookeeper/build/classes:/home/suda/WORK/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/home/suda/WORK/zookeeper/src/java/lib/ivy-2.2.0.jar:/usr/share/ant/lib/ant.jar:/home/suda/WORK/zookeeper/build/lib/commons-cli-1.2.jar:/home/suda/WORK/zookeeper/build/lib/jackson-core-asl-1.9.11.jar:/home/suda/WORK/zookeeper/build/lib/jackson-mapper-asl-1.9.11.jar:/home/suda/WORK/zookeeper/build/lib/javacc.jar:/home/suda/WORK/zookeeper/build/lib/jetty-6.1.26.jar:/home/suda/WORK/zookeeper/build/lib/jetty-util-6.1.26.jar:/home/suda/WORK/zookeeper/build/lib/jline-2.11.jar:/home/suda/WORK/zookeeper/build/lib/log4j-1.2.16.jar:/home/suda/WORK/zookeeper/build/lib/netty-3.7.0.Final.jar:/home/suda/WORK/zookeeper/build/lib/servlet-api-2.5-20081211.jar:/home/suda/WORK/zookeeper/build/lib/slf4j-api-1.7.5.jar:/home/suda/WORK/zookeeper/build/lib/slf4j-log4j12-1.7.5.jar:/usr/share/ant/lib/junit.jar:/usr/share/java/ant-launcher-1.9.4.jar:/usr/share/ant/lib/ant-junit.jar:/usr/share/ant/lib/ant-junit4.jar
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:java.io.tmpdir=/tmp
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:java.compiler=<NA>
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:os.name=Linux
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:os.arch=amd64
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:os.version=3.19.0-22-generic
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:user.name=nfqhooked
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:user.home=/home/nfqhooked
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:user.dir=/home/suda/WORK/zookeeper/build/test
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:os.memory.free=180MB
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:os.memory.max=455MB
    [junit] 2015-07-07 19:07:16,774 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Environment@109] - Server environment:os.memory.total=239MB
    [junit] 2015-07-07 19:07:16,775 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:16,775 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:16,775 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2
    [junit] 2015-07-07 19:07:16,775 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 6
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:16,809 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: -9223372036854775808, zxid: 0x0, proposed zxid: 0x8000000000000000
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: 0 (newleader), 0x0 (newzxid), -9223372036854775808 (oldleader), 0x8000000000000000 (oldzxid)
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:16,809 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:16,824 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35274
    [junit] 2015-07-07 19:07:16,841 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:16,873 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59959
    [junit] 2015-07-07 19:07:16,889 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:16,889 [myid:0] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:16,905 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:16,921 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=39856, connecting to localhost/127.0.0.1:11225
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1064)
    [junit] 2015-07-07 19:07:16,970 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:16,974 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:16,975 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:17,002 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:17,002 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,002 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=1 zxid=0x0 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:17,002 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:17,066 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:17,098 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:17,098 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,146 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:17,146 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 0, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x0 (newzxid), 0 (oldleader), 0x0 (oldzxid)
    [junit] 2015-07-07 19:07:17,147 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:17,147 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:17,147 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:17,161 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:17,162 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:17,162 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:17,162 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@928] - Notification time out: 800
    [junit] 2015-07-07 19:07:17,162 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:17,162 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,162 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:17,163 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,163 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:17,163 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:17,162 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:17,163 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:17,164 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:17,164 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,164 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:17,194 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:17,194 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,194 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:17,235 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:17,248 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:17,266 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:17,322 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:17,322 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,322 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=1 zxid=0x0 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:17,323 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:17,340 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:17,356 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:17,364 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x0, my id=1, my state=LEADING
    [junit] 2015-07-07 19:07:17,364 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
    [junit] 2015-07-07 19:07:17,364 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1074] - LEADING
    [junit] 2015-07-07 19:07:17,366 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@63] - TCP NoDelay set to: true
    [junit] 2015-07-07 19:07:17,366 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@83] - zookeeper.leader.maxConcurrentSnapshots = 10
    [junit] 2015-07-07 19:07:17,366 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@85] - zookeeper.leader.maxConcurrentSnapshotTimeout = 5
    [junit] 2015-07-07 19:07:17,366 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:17,366 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:17,367 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2
    [junit] 2015-07-07 19:07:17,367 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@412] - LEADING - LEADER ELECTION TOOK - 3
    [junit] 2015-07-07 19:07:17,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/snapshot.0
    [junit] 2015-07-07 19:07:17,394 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@821] - I'm an observer: 2
    [junit] 2015-07-07 19:07:17,395 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x0, my id=2, my state=OBSERVING
    [junit] 2015-07-07 19:07:17,395 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
    [junit] 2015-07-07 19:07:17,395 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@1049] - OBSERVING
    [junit] 2015-07-07 19:07:17,396 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:17,396 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:17,396 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data/version-2
    [junit] 2015-07-07 19:07:17,396 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
    [junit] 2015-07-07 19:07:17,398 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):Observer@72] - Observing localhost/127.0.0.1:11225
    [junit] 2015-07-07 19:07:17,548 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39533, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:17,549 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:17,564 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38195, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:17,564 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:17,596 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39913, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:17,596 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:17,613 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:17,613 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), OBSERVING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,629 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:17,629 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), OBSERVING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,629 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =2 recipient=1 zxid=0x0 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:17,629 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:17,645 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:17,645 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x0 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:17,693 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39533
    [junit] 2015-07-07 19:07:17,710 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:17,710 [myid:0] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:17,710 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39533 (no session established for client)
    [junit] 2015-07-07 19:07:17,724 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38195
    [junit] 2015-07-07 19:07:17,740 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:17,741 [myid:1] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:17,741 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38195 (no session established for client)
    [junit] 2015-07-07 19:07:17,788 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39913
    [junit] 2015-07-07 19:07:17,804 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:17,804 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:17,805 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39913 (no session established for client)
    [junit] 2015-07-07 19:07:17,900 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:17,948 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:17,980 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:18,014 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47658:LearnerHandler@382] - Follower sid: 2 : info : localhost:11228:11229:observer;localhost:11230
    [junit] 2015-07-07 19:07:18,046 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:18,224 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:18,224 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), OBSERVING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:18,303 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47658:LearnerHandler@683] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
    [junit] 2015-07-07 19:07:18,303 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47658:LearnerHandler@727] - Sending DIFF zxid=0x0 for peer sid: 2
    [junit] 2015-07-07 19:07:18,304 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47658:LearnerHandler@777] - Start forwarding 0x0 for peer sid: 2
    [junit] 2015-07-07 19:07:18,304 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47658:LearnerHandler@429] - Sending NEWLEADER message to 2
    [junit] 2015-07-07 19:07:18,335 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47660:LearnerHandler@382] - Follower sid: 0 : info : localhost:11222:11223:participant;localhost:11224
    [junit] 2015-07-07 19:07:18,351 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
    [junit] 2015-07-07 19:07:18,353 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):Learner@509] - Learner received NEWLEADER message
    [junit] 2015-07-07 19:07:18,354 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data/version-2/snapshot.0
    [junit] 2015-07-07 19:07:18,399 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47658:LearnerHandler@489] - Received NEWLEADER-ACK message from 2
    [junit] 2015-07-07 19:07:18,431 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47660:LearnerHandler@683] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
    [junit] 2015-07-07 19:07:18,431 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47660:LearnerHandler@727] - Sending DIFF zxid=0x0 for peer sid: 0
    [junit] 2015-07-07 19:07:18,431 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:LearnerHandler@777] - Start forwarding 0x0 for peer sid: 0
    [junit] 2015-07-07 19:07:18,432 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:LearnerHandler@429] - Sending NEWLEADER message to 0
    [junit] 2015-07-07 19:07:18,448 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x0
    [junit] 2015-07-07 19:07:18,448 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
    [junit] 2015-07-07 19:07:18,449 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x0 to /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2/snapshot.0
    [junit] 2015-07-07 19:07:18,497 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:LearnerHandler@489] - Received NEWLEADER-ACK message from 0
    [junit] 2015-07-07 19:07:18,498 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@1245] - Have quorum of supporters, sids: [ [0, 1] ]; starting up and setting last processed zxid: 0x100000000
    [junit] 2015-07-07 19:07:18,498 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1410] - 1 setQuorumVerifier called with known or old config 4294967296. Current version: 4294967296
    [junit] 2015-07-07 19:07:18,501 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):CommitProcessor@254] - Configuring CommitProcessor with 4 worker threads.
    [junit] 2015-07-07 19:07:18,505 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ContainerManager@64] - Using checkIntervalMs=60000 maxPerMinute=10000
    [junit] 2015-07-07 19:07:18,506 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47658:LearnerHandler@510] - Sending UPTODATE message to 2
    [junit] 2015-07-07 19:07:18,507 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:LearnerHandler@510] - Sending UPTODATE message to 0
    [junit] 2015-07-07 19:07:18,523 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):Learner@493] - Learner received UPTODATE message
    [junit] 2015-07-07 19:07:18,523 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@1410] - 2 setQuorumVerifier called with known or old config 4294967296. Current version: 4294967296
    [junit] 2015-07-07 19:07:18,523 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@254] - Configuring CommitProcessor with 4 worker threads.
    [junit] 2015-07-07 19:07:18,539 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@493] - Learner received UPTODATE message
    [junit] 2015-07-07 19:07:18,539 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1410] - 0 setQuorumVerifier called with known or old config 4294967296. Current version: 4294967296
    [junit] 2015-07-07 19:07:18,539 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@254] - Configuring CommitProcessor with 4 worker threads.
    [junit] 2015-07-07 19:07:18,555 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47658:LearnerHandler@536] - Received ACK from Observer  2
    [junit] 2015-07-07 19:07:19,710 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:19,711 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:19,760 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39917, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:19,760 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:19,776 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39540, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:19,776 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:19,792 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39917
    [junit] 2015-07-07 19:07:19,809 [myid:2] - DEBUG [NIOWorkerThread-2:ZooKeeperServer@881] - Session establishment request from client /127.0.0.1:39917 client's lastZxid is 0x0
    [junit] 2015-07-07 19:07:19,810 [myid:2] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:39917
    [junit] 2015-07-07 19:07:19,810 [myid:2] - DEBUG [ObserverRequestProcessor:2:CommitProcessor@340] - Processing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0xfffffffffffffffe txntype:unknown reqpath:n/a
    [junit] 2015-07-07 19:07:19,825 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39540
    [junit] 2015-07-07 19:07:19,841 [myid:0] - DEBUG [NIOWorkerThread-2:ZooKeeperServer@881] - Session establishment request from client /127.0.0.1:39540 client's lastZxid is 0x0
    [junit] 2015-07-07 19:07:19,841 [myid:0] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:39540
    [junit] 2015-07-07 19:07:19,841 [myid:0] - DEBUG [FollowerRequestProcessor:0:CommitProcessor@340] - Processing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0xfffffffffffffffe txntype:unknown reqpath:n/a
    [junit] 2015-07-07 19:07:19,863 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:19,874 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::SessionTrackerImpl@269] - Adding session 0x20001d6e29a0000
    [junit] 2015-07-07 19:07:19,874 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::CommitProcessor@340] - Processing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:19,874 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::Leader@1066] - Proposing:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:19,874 [myid:1] - INFO  [SyncThread:1:FileTxnLog@200] - Creating new log file: log.100000001
    [junit] 2015-07-07 19:07:19,905 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::SessionTrackerImpl@269] - Adding session 0x1d6e2f90000
    [junit] 2015-07-07 19:07:19,905 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::CommitProcessor@340] - Processing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:19,906 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::Leader@1066] - Proposing:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:19,956 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
    [junit] 2015-07-07 19:07:19,956 [myid:0] - INFO  [SyncThread:0:FileTxnLog@200] - Creating new log file: log.100000001
    [junit] 2015-07-07 19:07:19,988 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38202, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:19,988 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:20,021 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:CommitProcessor@327] - Committing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,022 [myid:1] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,038 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38202
    [junit] 2015-07-07 19:07:20,056 [myid:1] - DEBUG [NIOWorkerThread-2:ZooKeeperServer@881] - Session establishment request from client /127.0.0.1:38202 client's lastZxid is 0x0
    [junit] 2015-07-07 19:07:20,057 [myid:1] - INFO  [NIOWorkerThread-2:ZooKeeperServer@931] - Client attempting to establish new session at /127.0.0.1:38202
    [junit] 2015-07-07 19:07:20,057 [myid:1] - DEBUG [NIOWorkerThread-2:SessionTrackerImpl@269] - Adding session 0x10001d6e32b0000
    [junit] 2015-07-07 19:07:20,057 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::CommitProcessor@340] - Processing request:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,058 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::Leader@1066] - Proposing:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,091 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,091 [myid:1] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,107 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,108 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,123 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,123 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
    [junit] 2015-07-07 19:07:20,124 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,124 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@178] - sessionid:0x20001d6e29a0000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,126 [myid:2] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x20001d6e29a0000 with negotiated timeout 30000 for client /127.0.0.1:39917
    [junit] 2015-07-07 19:07:20,171 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,171 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,172 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@178] - sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,172 [myid:0] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x1d6e2f90000 with negotiated timeout 30000 for client /127.0.0.1:39540
    [junit] 2015-07-07 19:07:20,187 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,188 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:createSession cxid:0x0 zxid:0x100000002 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,203 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1400] - Session establishment complete on server 127.0.0.1/127.0.0.1:11230, sessionid = 0x20001d6e29a0000, negotiated timeout = 30000
    [junit] 2015-07-07 19:07:20,267 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:CommitProcessor@327] - Committing request:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,268 [myid:1] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,268 [myid:1] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@178] - sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,268 [myid:1] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@645] - Established session 0x10001d6e32b0000 with negotiated timeout 30000 for client /127.0.0.1:38202
    [junit] 2015-07-07 19:07:20,283 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1400] - Session establishment complete on server 127.0.0.1/127.0.0.1:11224, sessionid = 0x1d6e2f90000, negotiated timeout = 30000
    [junit] 2015-07-07 19:07:20,331 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,332 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,348 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,348 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x10001d6e32b0000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
    [junit] 2015-07-07 19:07:20,364 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1400] - Session establishment complete on server 127.0.0.1/127.0.0.1:11227, sessionid = 0x10001d6e32b0000, negotiated timeout = 30000
    [junit] 2015-07-07 19:07:20,397 [myid:0] - DEBUG [FollowerRequestProcessor:0:CommitProcessor@340] - Processing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0xfffffffffffffffe txntype:unknown reqpath:/test
    [junit] 2015-07-07 19:07:20,476 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::SessionTrackerImpl@291] - Checking session 0x1d6e2f90000
    [junit] 2015-07-07 19:07:20,477 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@923] - Processing ACL: 31,s{'world,'anyone}
    [junit] 
    [junit] 2015-07-07 19:07:20,478 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@300] - Permission requested: 4 
    [junit] 2015-07-07 19:07:20,478 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@301] - ACLs for node: [31,s{'world,'anyone}
    [junit] ]
    [junit] 2015-07-07 19:07:20,478 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@302] - Client credentials: ['ip,'127.0.0.1
    [junit] ]
    [junit] 2015-07-07 19:07:20,478 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::CommitProcessor@340] - Processing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:n/a
    [junit] 2015-07-07 19:07:20,478 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::Leader@1066] - Proposing:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:n/a
    [junit] 2015-07-07 19:07:20,527 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:n/a
    [junit] 2015-07-07 19:07:20,527 [myid:1] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:n/a
    [junit] 2015-07-07 19:07:20,575 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:n/a
    [junit] 2015-07-07 19:07:20,575 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:/test
    [junit] 2015-07-07 19:07:20,575 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@178] - sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:/test
    [junit] 2015-07-07 19:07:20,623 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:n/a
    [junit] 2015-07-07 19:07:20,623 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:create cxid:0x1 zxid:0x100000004 txntype:1 reqpath:n/a
    [junit] 2015-07-07 19:07:20,656 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@944] - Reading reply sessionid:0x1d6e2f90000, packet:: clientPath:null serverPath:null finished:false header:: 1,1  replyHeader:: 1,4294967300,0  request:: '/test,#74657374,v{s{31,s{'world,'anyone}}},0  response:: '/test 
    [junit] 2015-07-07 19:07:20,719 [myid:0] - DEBUG [FollowerRequestProcessor:0:CommitProcessor@340] - Processing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0xfffffffffffffffe txntype:unknown reqpath:/test
    [junit] 2015-07-07 19:07:20,768 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::SessionTrackerImpl@291] - Checking session 0x1d6e2f90000
    [junit] 2015-07-07 19:07:20,768 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@300] - Permission requested: 2 
    [junit] 2015-07-07 19:07:20,768 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@301] - ACLs for node: [31,s{'world,'anyone}
    [junit] ]
    [junit] 2015-07-07 19:07:20,769 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@302] - Client credentials: ['ip,'127.0.0.1
    [junit] ]
    [junit] 2015-07-07 19:07:20,769 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::CommitProcessor@340] - Processing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:n/a
    [junit] 2015-07-07 19:07:20,769 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::Leader@1066] - Proposing:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:n/a
    [junit] 2015-07-07 19:07:20,832 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47660:CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:n/a
    [junit] 2015-07-07 19:07:20,832 [myid:1] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:n/a
    [junit] 2015-07-07 19:07:20,848 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:n/a
    [junit] 2015-07-07 19:07:20,848 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:/test
    [junit] 2015-07-07 19:07:20,849 [myid:0] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@178] - sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:/test
    [junit] 2015-07-07 19:07:20,865 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:n/a
    [junit] 2015-07-07 19:07:20,865 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x1d6e2f90000 type:setData cxid:0x2 zxid:0x100000005 txntype:5 reqpath:n/a
    [junit] 2015-07-07 19:07:20,881 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@944] - Reading reply sessionid:0x1d6e2f90000, packet:: clientPath:null serverPath:null finished:false header:: 2,5  replyHeader:: 2,4294967301,0  request:: '/test,#7465737432,-1  response:: s{4294967300,4294967301,1436263640476,1436263640768,1,0,0,0,5,0,4294967300} 
    [junit] 2015-07-07 19:07:20,914 [myid:2] - DEBUG [ObserverRequestProcessor:2:CommitProcessor@340] - Processing request:: sessionid:0x20001d6e29a0000 type:sync: cxid:0x1 zxid:0xfffffffffffffffe txntype:unknown reqpath:/
    [junit] 2015-07-07 19:07:20,962 [myid:2] - DEBUG [ObserverRequestProcessor:2:CommitProcessor@340] - Processing request:: sessionid:0x20001d6e29a0000 type:getData cxid:0x2 zxid:0xfffffffffffffffe txntype:unknown reqpath:/test
    [junit] 2015-07-07 19:07:20,978 [myid:1] - DEBUG [ProcessThread(sid:1 cport:-1)::SessionTrackerImpl@291] - Checking session 0x20001d6e29a0000
    [junit] 2015-07-07 19:07:21,042 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@327] - Committing request:: sessionid:0x20001d6e29a0000 type:sync: cxid:0x1 zxid:0xfffffffffffffffe txntype:unknown reqpath:/
    [junit] 2015-07-07 19:07:21,042 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x20001d6e29a0000 type:sync: cxid:0x1 zxid:0xfffffffffffffffe txntype:unknown reqpath:/
    [junit] 2015-07-07 19:07:21,042 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@178] - sessionid:0x20001d6e29a0000 type:sync: cxid:0x1 zxid:0xfffffffffffffffe txntype:unknown reqpath:/
    [junit] 2015-07-07 19:07:21,043 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@91] - Processing request:: sessionid:0x20001d6e29a0000 type:getData cxid:0x2 zxid:0xfffffffffffffffe txntype:unknown reqpath:/test
    [junit] 2015-07-07 19:07:21,043 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@178] - sessionid:0x20001d6e29a0000 type:getData cxid:0x2 zxid:0xfffffffffffffffe txntype:unknown reqpath:/test
    [junit] 2015-07-07 19:07:21,043 [myid:2] - DEBUG [CommitProcWorkThread-1:PrepRequestProcessor@300] - Permission requested: 1 
    [junit] 2015-07-07 19:07:21,043 [myid:2] - DEBUG [CommitProcWorkThread-1:PrepRequestProcessor@301] - ACLs for node: [31,s{'world,'anyone}
    [junit] ]
    [junit] 2015-07-07 19:07:21,043 [myid:2] - DEBUG [CommitProcWorkThread-1:PrepRequestProcessor@302] - Client credentials: ['ip,'127.0.0.1
    [junit] ]
    [junit] 2015-07-07 19:07:21,075 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@944] - Reading reply sessionid:0x20001d6e29a0000, packet:: clientPath:/ serverPath:/ finished:false header:: 1,9  replyHeader:: 1,4294967301,0  request:: '/  response:: '/ 
    [junit] 2015-07-07 19:07:21,107 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@944] - Reading reply sessionid:0x20001d6e29a0000, packet:: clientPath:null serverPath:null finished:false header:: 2,4  replyHeader:: 2,4294967301,0  request:: '/test,F  response:: #7465737432,s{4294967300,4294967301,1436263640476,1436263640768,1,0,0,0,5,0,4294967300} 
    [junit] 2015-07-07 19:07:21,108 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11224
    [junit] 2015-07-07 19:07:21,171 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39542
    [junit] 2015-07-07 19:07:21,187 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39542
    [junit] 2015-07-07 19:07:21,190 [myid:0] - INFO  [NIOWorkerThread-8:StatCommand@49] - Stat command output
    [junit] 2015-07-07 19:07:21,190 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39542 (no session established for client)
    [junit] 2015-07-07 19:07:21,251 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11227
    [junit] 2015-07-07 19:07:21,331 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38204
    [junit] 2015-07-07 19:07:21,347 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:38204
    [junit] 2015-07-07 19:07:21,348 [myid:1] - INFO  [NIOWorkerThread-4:StatCommand@49] - Stat command output
    [junit] 2015-07-07 19:07:21,348 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38204 (no session established for client)
    [junit] 2015-07-07 19:07:21,411 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:21,492 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39922
    [junit] 2015-07-07 19:07:21,508 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39922
    [junit] 2015-07-07 19:07:21,508 [myid:2] - INFO  [NIOWorkerThread-8:StatCommand@49] - Stat command output
    [junit] 2015-07-07 19:07:21,509 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39922 (no session established for client)
    [junit] 2015-07-07 19:07:21,573 [myid:] - INFO  [main:ReconfigRecoveryTest@501] - shut servers 0..2 down
    [junit] 2015-07-07 19:07:21,574 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled)
    [junit] 2015-07-07 19:07:21,574 [myid:] - INFO  [main:Follower@198] - shutdown called
    [junit] java.lang.Exception: shutdown Follower
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1137)
    [junit] 	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
    [junit] 	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:503)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:606)
    [junit] 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
    [junit] 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    [junit] 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
    [junit] 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
    [junit] 	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:79)
    [junit] 	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
    [junit] 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    [junit] 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    [junit] 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    [junit] 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    [junit] 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    [junit] 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    [junit] 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    [junit] 	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1179)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1030)
    [junit] 2015-07-07 19:07:21,575 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x1d6e2f90000]
    [junit] 2015-07-07 19:07:21,575 [myid:] - INFO  [main:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39540 which had sessionid 0x1d6e2f90000
    [junit] 2015-07-07 19:07:21,575 [myid:] - INFO  [main:LearnerZooKeeperServer@165] - Shutting down
    [junit] 2015-07-07 19:07:21,575 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
    [junit] 2015-07-07 19:07:21,575 [myid:] - INFO  [main:FollowerRequestProcessor@138] - Shutting down
    [junit] 2015-07-07 19:07:21,575 [myid:] - INFO  [main:CommitProcessor@358] - Shutting down
    [junit] 2015-07-07 19:07:21,575 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@109] - FollowerRequestProcessor exited loop!
    [junit] 2015-07-07 19:07:21,575 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@193] - CommitProcessor exited loop!
    [junit] 2015-07-07 19:07:21,575 [myid:] - INFO  [main:FinalRequestProcessor@492] - shutdown of request processor complete
    [junit] 2015-07-07 19:07:21,576 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower,name3=InMemoryDataTree]
    [junit] 2015-07-07 19:07:21,576 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
    [junit] 2015-07-07 19:07:21,576 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@169] - SyncRequestProcessor exited!
    [junit] 2015-07-07 19:07:21,576 [myid:0] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
    [junit] 2015-07-07 19:07:21,577 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
    [junit] 2015-07-07 19:07:21,577 [myid:0] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
    [junit] 2015-07-07 19:07:21,578 [myid:] - DEBUG [main:FastLeaderElection@657] - Shutting down connection manager
    [junit] 2015-07-07 19:07:21,578 [myid:] - DEBUG [main:QuorumCnxManager@537] - Halting listener
    [junit] 2015-07-07 19:07:21,578 [myid:] - DEBUG [main:QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=localhost/127.0.0.1,localport=11223]
    [junit] 2015-07-07 19:07:21,578 [myid:] - DEBUG [main:QuorumCnxManager$Listener@683] - Closing listener: 0
    [junit] 2015-07-07 19:07:21,578 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@659] - Leaving listener
    [junit] 2015-07-07 19:07:21,578 [myid:] - DEBUG [main:QuorumCnxManager@554] - Halting sender: Thread[SendWorker:2,5,main]
    [junit] 2015-07-07 19:07:21,578 [myid:] - DEBUG [main:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:21,578 [myid:] - DEBUG [main:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:21,579 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 0, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:21,578 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:21,579 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:21,579 [myid:] - DEBUG [main:QuorumCnxManager@554] - Halting sender: Thread[SendWorker:1,5,main]
    [junit] 2015-07-07 19:07:21,579 [myid:0] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:21,579 [myid:] - DEBUG [main:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:21,579 [myid:0] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:21,579 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 0
    [junit] 2015-07-07 19:07:21,579 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 0, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:21,580 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:21,579 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:21,579 [myid:] - DEBUG [main:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:21,580 [myid:] - DEBUG [main:FastLeaderElection@659] - Shutting down messenger
    [junit] 2015-07-07 19:07:21,580 [myid:0] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:21,580 [myid:] - DEBUG [main:FastLeaderElection@661] - FLE is down
    [junit] 2015-07-07 19:07:21,580 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:21,580 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 0
    [junit] 2015-07-07 19:07:21,580 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled)
    [junit] 2015-07-07 19:07:21,581 [myid:] - DEBUG [main:FastLeaderElection@657] - Shutting down connection manager
    [junit] 2015-07-07 19:07:21,581 [myid:] - DEBUG [main:QuorumCnxManager@537] - Halting listener
    [junit] 2015-07-07 19:07:21,581 [myid:] - DEBUG [main:QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=localhost/127.0.0.1,localport=11223]
    [junit] 2015-07-07 19:07:21,581 [myid:] - DEBUG [main:QuorumCnxManager$Listener@683] - Closing listener: 0
    [junit] 2015-07-07 19:07:21,581 [myid:] - DEBUG [main:FastLeaderElection@659] - Shutting down messenger
    [junit] 2015-07-07 19:07:21,581 [myid:] - DEBUG [main:FastLeaderElection@661] - FLE is down
    [junit] 2015-07-07 19:07:21,581 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled) to exit thread
    [junit] 2015-07-07 19:07:21,621 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x1d6e2f90000, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:21,637 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 2, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:21,637 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:21,638 [myid:2] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:21,638 [myid:2] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:21,638 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:21,638 [myid:2] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:21,638 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 2
    [junit] 2015-07-07 19:07:21,653 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:21,653 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:21,654 [myid:1] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:21,654 [myid:1] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:21,654 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:21,654 [myid:1] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:21,654 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 1
    [junit] 2015-07-07 19:07:22,539 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
    [junit] 2015-07-07 19:07:22,540 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Follower@198] - shutdown called
    [junit] java.lang.Exception: shutdown Follower
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1068)
    [junit] 2015-07-07 19:07:22,540 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):LearnerZooKeeperServer@162] - ZooKeeper server is not running, so not proceeding to shutdown!
    [junit] 2015-07-07 19:07:22,540 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1111] - PeerState set to LOOKING
    [junit] 2015-07-07 19:07:22,540 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1093] - QuorumPeer main thread exited
    [junit] 2015-07-07 19:07:22,540 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0]
    [junit] 2015-07-07 19:07:22,540 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0]
    [junit] 2015-07-07 19:07:22,540 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.1]
    [junit] 2015-07-07 19:07:22,540 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.2]
    [junit] 2015-07-07 19:07:22,541 [myid:] - DEBUG [main:ZooKeeper@1099] - Closing session: 0x1d6e2f90000
    [junit] 2015-07-07 19:07:22,541 [myid:] - DEBUG [main:ClientCnxn@1471] - Closing client for session: 0x1d6e2f90000
    [junit] 2015-07-07 19:07:23,149 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:23,167 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1241] - An exception was thrown while closing send thread for session 0x1d6e2f90000 : 接続を拒否されました
    [junit] 2015-07-07 19:07:23,167 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxnSocketNIO@199] - Ignoring exception during shutdown input
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownInput(SocketChannelImpl.java:802)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownInput(SocketAdaptor.java:426)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:196)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1282)
    [junit] 2015-07-07 19:07:23,167 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxnSocketNIO@206] - Ignoring exception during shutdown output
    [junit] java.nio.channels.ClosedChannelException
    [junit] 	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:819)
    [junit] 	at sun.nio.ch.SocketAdaptor.shutdownOutput(SocketAdaptor.java:434)
    [junit] 	at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:203)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1347)
    [junit] 	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1282)
    [junit] 2015-07-07 19:07:23,268 [myid:] - DEBUG [main:ClientCnxn@1455] - Disconnecting client for session: 0x1d6e2f90000
    [junit] 2015-07-07 19:07:23,268 [myid:] - INFO  [main:ZooKeeper@1110] - Session: 0x1d6e2f90000 closed
    [junit] 2015-07-07 19:07:23,268 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@542] - EventThread shut down for session: 0x1d6e2f90000
    [junit] 2015-07-07 19:07:23,268 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled)
    [junit] 2015-07-07 19:07:23,268 [myid:] - INFO  [main:Leader@613] - Shutting down
    [junit] 2015-07-07 19:07:23,268 [myid:] - INFO  [main:Leader@619] - Shutdown called
    [junit] java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
    [junit] 	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:619)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1134)
    [junit] 	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:395)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:252)
    [junit] 	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:503)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:606)
    [junit] 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
    [junit] 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    [junit] 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
    [junit] 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
    [junit] 	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:79)
    [junit] 	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
    [junit] 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    [junit] 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    [junit] 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    [junit] 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    [junit] 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    [junit] 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    [junit] 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    [junit] 	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1179)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1030)
    [junit] 2015-07-07 19:07:23,269 [myid:1] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11225:Leader$LearnerCnxAcceptor@373] - exception while shutting down acceptor: java.net.SocketException: Socket closed
    [junit] 2015-07-07 19:07:23,269 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=Connections,name4=127.0.0.1,name5=0x10001d6e32b0000]
    [junit] 2015-07-07 19:07:23,269 [myid:] - INFO  [main:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38202 which had sessionid 0x10001d6e32b0000
    [junit] 2015-07-07 19:07:23,270 [myid:] - INFO  [main:ZooKeeperServer@465] - shutting down
    [junit] 2015-07-07 19:07:23,270 [myid:] - INFO  [main:SessionTrackerImpl@232] - Shutting down
    [junit] 2015-07-07 19:07:23,270 [myid:] - INFO  [main:LeaderRequestProcessor@77] - Shutting down
    [junit] 2015-07-07 19:07:23,270 [myid:] - INFO  [main:PrepRequestProcessor@967] - Shutting down
    [junit] 2015-07-07 19:07:23,270 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
    [junit] 2015-07-07 19:07:23,270 [myid:] - INFO  [main:CommitProcessor@358] - Shutting down
    [junit] 2015-07-07 19:07:23,270 [myid:1] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@154] - PrepRequestProcessor exited loop!
    [junit] 2015-07-07 19:07:23,270 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@914] - Shutting down
    [junit] 2015-07-07 19:07:23,270 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@193] - CommitProcessor exited loop!
    [junit] 2015-07-07 19:07:23,271 [myid:] - INFO  [main:FinalRequestProcessor@492] - shutdown of request processor complete
    [junit] 2015-07-07 19:07:23,271 [myid:] - INFO  [main:SyncRequestProcessor@191] - Shutting down
    [junit] 2015-07-07 19:07:23,271 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@169] - SyncRequestProcessor exited!
    [junit] 2015-07-07 19:07:23,271 [myid:] - INFO  [main:MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader,name3=InMemoryDataTree]
    [junit] 2015-07-07 19:07:23,271 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:47658:LearnerHandler@619] - ******* GOODBYE /127.0.0.1:47658 ********
    [junit] 2015-07-07 19:07:23,271 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:47660:LearnerHandler@619] - ******* GOODBYE /127.0.0.1:47660 ********
    [junit] 2015-07-07 19:07:23,272 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:47660:LearnerHandler@903] - Ignoring unexpected exception
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
    [junit] 	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
    [junit] 	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
    [junit] 	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:901)
    [junit] 	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:622)
    [junit] 2015-07-07 19:07:23,271 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:47658:LearnerHandler@903] - Ignoring unexpected exception
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1219)
    [junit] 	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)
    [junit] 	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:338)
    [junit] 	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:901)
    [junit] 	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:622)
    [junit] 2015-07-07 19:07:23,271 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
    [junit] 2015-07-07 19:07:23,272 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
    [junit] 2015-07-07 19:07:23,272 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
    [junit] 2015-07-07 19:07:23,273 [myid:] - DEBUG [main:FastLeaderElection@657] - Shutting down connection manager
    [junit] 2015-07-07 19:07:23,273 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
    [junit] 2015-07-07 19:07:23,273 [myid:] - DEBUG [main:QuorumCnxManager@537] - Halting listener
    [junit] 2015-07-07 19:07:23,273 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1080] - Unexpected exception
    [junit] java.lang.InterruptedException
    [junit] 	at java.lang.Object.wait(Native Method)
    [junit] 	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:559)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1077)
    [junit] 2015-07-07 19:07:23,273 [myid:] - DEBUG [main:QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=localhost/127.0.0.1,localport=11226]
    [junit] 2015-07-07 19:07:23,273 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@613] - Shutting down
    [junit] 2015-07-07 19:07:23,273 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1111] - PeerState set to LOOKING
    [junit] 2015-07-07 19:07:23,273 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1093] - QuorumPeer main thread exited
    [junit] 2015-07-07 19:07:23,273 [myid:] - DEBUG [main:QuorumCnxManager$Listener@683] - Closing listener: 1
    [junit] 2015-07-07 19:07:23,273 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1]
    [junit] 2015-07-07 19:07:23,273 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@659] - Leaving listener
    [junit] 2015-07-07 19:07:23,273 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1]
    [junit] 2015-07-07 19:07:23,273 [myid:] - DEBUG [main:QuorumCnxManager@554] - Halting sender: Thread[SendWorker:2,5,main]
    [junit] 2015-07-07 19:07:23,274 [myid:] - DEBUG [main:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:23,274 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.0]
    [junit] 2015-07-07 19:07:23,274 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:23,274 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:23,274 [myid:] - DEBUG [main:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:23,274 [myid:] - DEBUG [main:FastLeaderElection@659] - Shutting down messenger
    [junit] 2015-07-07 19:07:23,274 [myid:] - DEBUG [main:FastLeaderElection@661] - FLE is down
    [junit] 2015-07-07 19:07:23,274 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2]
    [junit] 2015-07-07 19:07:23,274 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:23,274 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled)
    [junit] 2015-07-07 19:07:23,274 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:23,275 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:23,275 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:23,275 [myid:] - DEBUG [main:FastLeaderElection@657] - Shutting down connection manager
    [junit] 2015-07-07 19:07:23,275 [myid:] - DEBUG [main:QuorumCnxManager@537] - Halting listener
    [junit] 2015-07-07 19:07:23,275 [myid:] - DEBUG [main:QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=localhost/127.0.0.1,localport=11226]
    [junit] 2015-07-07 19:07:23,275 [myid:] - DEBUG [main:QuorumCnxManager$Listener@683] - Closing listener: 1
    [junit] 2015-07-07 19:07:23,275 [myid:] - DEBUG [main:FastLeaderElection@659] - Shutting down messenger
    [junit] 2015-07-07 19:07:23,275 [myid:] - DEBUG [main:FastLeaderElection@661] - FLE is down
    [junit] 2015-07-07 19:07:23,276 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled) to exit thread
    [junit] 2015-07-07 19:07:23,276 [myid:] - DEBUG [main:ZooKeeper@1099] - Closing session: 0x10001d6e32b0000
    [junit] 2015-07-07 19:07:23,276 [myid:] - DEBUG [main:ClientCnxn@1471] - Closing client for session: 0x10001d6e32b0000
    [junit] 2015-07-07 19:07:23,286 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1241] - An exception was thrown while closing send thread for session 0x10001d6e32b0000 : Unable to read additional data from server sessionid 0x10001d6e32b0000, likely server has closed socket
    [junit] 2015-07-07 19:07:23,302 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):Observer@86] - Exception when observing the leader
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
    [junit] 	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
    [junit] 	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:82)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1051)
    [junit] 2015-07-07 19:07:23,302 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1]
    [junit] 2015-07-07 19:07:23,302 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):Observer@167] - shutdown called
    [junit] java.lang.Exception: shutdown Observer
    [junit] 	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:167)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1055)
    [junit] 2015-07-07 19:07:23,302 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1,name3=Connections,name4=127.0.0.1,name5=0x20001d6e29a0000]
    [junit] 2015-07-07 19:07:23,302 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39917 which had sessionid 0x20001d6e29a0000
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):LearnerZooKeeperServer@165] - Shutting down
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):ZooKeeperServer@465] - shutting down
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):ObserverRequestProcessor@150] - Shutting down
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):CommitProcessor@358] - Shutting down
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [ObserverRequestProcessor:2:ObserverRequestProcessor@118] - ObserverRequestProcessor exited loop!
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FinalRequestProcessor@492] - shutdown of request processor complete
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@193] - CommitProcessor exited loop!
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1,name3=InMemoryDataTree]
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):SyncRequestProcessor@191] - Shutting down
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@169] - SyncRequestProcessor exited!
    [junit] 2015-07-07 19:07:23,303 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):SyncRequestProcessor@191] - Shutting down
    [junit] 2015-07-07 19:07:23,304 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@1111] - PeerState set to LOOKING
    [junit] 2015-07-07 19:07:23,304 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:23,304 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:23,304 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: -9223372036854775808 (newleader), 0x8000000000000000 (newzxid), 1 (oldleader), 0x0 (oldzxid)
    [junit] 2015-07-07 19:07:23,304 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@894] - New election. My id =  2, proposed zxid=0x8000000000000000
    [junit] 2015-07-07 19:07:23,304 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x2 (n.round), 0 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,304 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x2 (n.round), 1 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,304 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,304 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,304 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:23,334 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:23,334 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:23,334 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:23,334 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:23,334 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:23,334 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:23,334 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:23,340 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@440] - WorkerReceiver is down
    [junit] 2015-07-07 19:07:23,340 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@470] - WorkerSender is down
    [junit] 2015-07-07 19:07:23,386 [myid:] - DEBUG [main:ClientCnxn@1455] - Disconnecting client for session: 0x10001d6e32b0000
    [junit] 2015-07-07 19:07:23,386 [myid:] - INFO  [main:ZooKeeper@1110] - Session: 0x10001d6e32b0000 closed
    [junit] 2015-07-07 19:07:23,386 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@542] - EventThread shut down for session: 0x10001d6e32b0000
    [junit] 2015-07-07 19:07:23,386 [myid:] - INFO  [main:QuorumBase@394] - Shutting down quorum peer QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled)
    [junit] 2015-07-07 19:07:23,386 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@583] - ConnnectionExpirerThread interrupted
    [junit] 2015-07-07 19:07:23,387 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@219] - accept thread exitted run method
    [junit] 2015-07-07 19:07:23,387 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@420] - selector thread exitted run method
    [junit] 2015-07-07 19:07:23,387 [myid:] - DEBUG [main:FastLeaderElection@657] - Shutting down connection manager
    [junit] 2015-07-07 19:07:23,387 [myid:] - DEBUG [main:QuorumCnxManager@537] - Halting listener
    [junit] 2015-07-07 19:07:23,387 [myid:] - DEBUG [main:QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=localhost/127.0.0.1,localport=11229]
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:QuorumCnxManager$Listener@683] - Closing listener: 2
    [junit] 2015-07-07 19:07:23,388 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@659] - Leaving listener
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:FastLeaderElection@659] - Shutting down messenger
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:FastLeaderElection@661] - FLE is down
    [junit] 2015-07-07 19:07:23,388 [myid:] - INFO  [main:QuorumBase@398] - Shutting down leader election QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled)
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:FastLeaderElection@657] - Shutting down connection manager
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:QuorumCnxManager@537] - Halting listener
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=localhost/127.0.0.1,localport=11229]
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:QuorumCnxManager$Listener@683] - Closing listener: 2
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:FastLeaderElection@659] - Shutting down messenger
    [junit] 2015-07-07 19:07:23,388 [myid:] - DEBUG [main:FastLeaderElection@661] - FLE is down
    [junit] 2015-07-07 19:07:23,389 [myid:] - INFO  [main:QuorumBase@403] - Waiting for QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled) to exit thread
    [junit] 2015-07-07 19:07:23,397 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x20001d6e29a0000, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:23,413 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@459] - Cannot open channel to 0 at election address localhost/127.0.0.1:11223
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:444)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:485)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:421)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:486)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:465)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,414 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@470] - WorkerSender is down
    [junit] 2015-07-07 19:07:23,414 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
    [junit] 2015-07-07 19:07:23,414 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@1093] - QuorumPeer main thread exited
    [junit] 2015-07-07 19:07:23,414 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2]
    [junit] 2015-07-07 19:07:23,414 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2]
    [junit] 2015-07-07 19:07:23,414 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.0]
    [junit] 2015-07-07 19:07:23,414 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1]
    [junit] 2015-07-07 19:07:23,415 [myid:] - DEBUG [main:ZooKeeper@1099] - Closing session: 0x20001d6e29a0000
    [junit] 2015-07-07 19:07:23,415 [myid:] - DEBUG [main:ClientCnxn@1471] - Closing client for session: 0x20001d6e29a0000
    [junit] 2015-07-07 19:07:23,498 [myid:] - DEBUG [main:ClientCnxn@1455] - Disconnecting client for session: 0x20001d6e29a0000
    [junit] 2015-07-07 19:07:23,498 [myid:] - INFO  [main:ZooKeeper@1110] - Session: 0x20001d6e29a0000 closed
    [junit] 2015-07-07 19:07:23,498 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@542] - EventThread shut down for session: 0x20001d6e29a0000
    [junit] 2015-07-07 19:07:23,498 [myid:] - INFO  [main:ReconfigRecoveryTest@508] - generate new config string
    [junit] 2015-07-07 19:07:23,498 [myid:] - INFO  [main:ReconfigRecoveryTest@519] - simulate reconfig in progress - servers 0..2 have a temp reconfig file when they boot
    [junit] 2015-07-07 19:07:23,498 [myid:] - INFO  [Thread-7:QuorumPeerConfig@114] - Reading configuration from: /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/zoo.cfg
    [junit] 2015-07-07 19:07:23,498 [myid:] - INFO  [main:ZooKeeper@716] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4ab6d2e5
    [junit] 2015-07-07 19:07:23,499 [myid:] - INFO  [Thread-7:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11224
    [junit] 2015-07-07 19:07:23,499 [myid:] - INFO  [Thread-7:QuorumPeerConfig@320] - secureClientPort is not set
    [junit] 2015-07-07 19:07:23,499 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:23,499 [myid:] - WARN  [Thread-7:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
    [junit] 2015-07-07 19:07:23,499 [myid:] - INFO  [main:ZooKeeper@716] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4ab6d2e5
    [junit] 2015-07-07 19:07:23,499 [myid:] - INFO  [Thread-8:QuorumPeerConfig@114] - Reading configuration from: /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/zoo.cfg
    [junit] 2015-07-07 19:07:23,499 [myid:0] - INFO  [Thread-7:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
    [junit] 2015-07-07 19:07:23,499 [myid:] - INFO  [Thread-8:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11227
    [junit] 2015-07-07 19:07:23,500 [myid:0] - INFO  [Thread-7:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
    [junit] 2015-07-07 19:07:23,500 [myid:0] - INFO  [Thread-7:DatadirCleanupManager@101] - Purge task is not scheduled.
    [junit] 2015-07-07 19:07:23,500 [myid:] - INFO  [Thread-8:QuorumPeerConfig@320] - secureClientPort is not set
    [junit] 2015-07-07 19:07:23,500 [myid:0] - DEBUG [Thread-7:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:hiearchy=default
    [junit] 2015-07-07 19:07:23,500 [myid:0] - DEBUG [Thread-7:HierarchyDynamicMBean@260] - postRegister is called.
    [junit] 2015-07-07 19:07:23,500 [myid:0] - WARN  [Thread-7:QuorumPeerMain@133] - Unable to register log4j JMX control
    [junit] javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,500 [myid:0] - INFO  [Thread-7:QuorumPeerMain@136] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,500 [myid:] - WARN  [Thread-8:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
    [junit] 2015-07-07 19:07:23,501 [myid:1] - INFO  [Thread-8:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
    [junit] 2015-07-07 19:07:23,501 [myid:1] - INFO  [Thread-8:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
    [junit] 2015-07-07 19:07:23,501 [myid:1] - INFO  [Thread-8:DatadirCleanupManager@101] - Purge task is not scheduled.
    [junit] 2015-07-07 19:07:23,501 [myid:1] - DEBUG [Thread-8:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:hiearchy=default
    [junit] 2015-07-07 19:07:23,501 [myid:1] - DEBUG [Thread-8:HierarchyDynamicMBean@260] - postRegister is called.
    [junit] 2015-07-07 19:07:23,501 [myid:1] - WARN  [Thread-8:QuorumPeerMain@133] - Unable to register log4j JMX control
    [junit] javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,501 [myid:0] - INFO  [Thread-7:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
    [junit] 2015-07-07 19:07:23,501 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:23,501 [myid:0] - INFO  [Thread-7:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11224
    [junit] 2015-07-07 19:07:23,501 [myid:1] - INFO  [Thread-8:QuorumPeerMain@136] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,501 [myid:] - INFO  [main:ZooKeeper@716] - Initiating client connection, connectString=127.0.0.1:11230 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4ab6d2e5
    [junit] 2015-07-07 19:07:23,502 [myid:1] - INFO  [Thread-8:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
    [junit] 2015-07-07 19:07:23,502 [myid:0] - DEBUG [Thread-7:FileTxnSnapLog@84] - Opening datadir:/home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data snapDir:/home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data
    [junit] 2015-07-07 19:07:23,502 [myid:1] - INFO  [Thread-8:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11227
    [junit] 2015-07-07 19:07:23,502 [myid:0] - INFO  [Thread-7:QuorumPeer@1280] - Local sessions disabled
    [junit] 2015-07-07 19:07:23,502 [myid:] - INFO  [Thread-9:QuorumPeerConfig@114] - Reading configuration from: /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/zoo.cfg
    [junit] 2015-07-07 19:07:23,502 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:23,502 [myid:0] - INFO  [Thread-7:QuorumPeer@1291] - Local session upgrading disabled
    [junit] 2015-07-07 19:07:23,502 [myid:] - INFO  [Thread-9:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11230
    [junit] 2015-07-07 19:07:23,502 [myid:] - INFO  [main:ReconfigRecoveryTest@529] - new server 3 has still its invalid joiner config - everyone in old config + itself
    [junit] 2015-07-07 19:07:23,502 [myid:1] - DEBUG [Thread-8:FileTxnSnapLog@84] - Opening datadir:/home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data snapDir:/home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data
    [junit] 2015-07-07 19:07:23,502 [myid:] - INFO  [Thread-9:QuorumPeerConfig@320] - secureClientPort is not set
    [junit] 2015-07-07 19:07:23,502 [myid:0] - INFO  [Thread-7:QuorumPeer@1258] - tickTime set to 4000
    [junit] 2015-07-07 19:07:23,502 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@130] - id = 3 tmpDir = /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir clientPort = 11233 adminServerPort = 8080
    [junit] 2015-07-07 19:07:23,502 [myid:1] - INFO  [Thread-8:QuorumPeer@1280] - Local sessions disabled
    [junit] 2015-07-07 19:07:23,502 [myid:0] - INFO  [Thread-7:QuorumPeer@1302] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:23,502 [myid:] - WARN  [Thread-9:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
    [junit] 2015-07-07 19:07:23,502 [myid:1] - INFO  [Thread-8:QuorumPeer@1291] - Local session upgrading disabled
    [junit] 2015-07-07 19:07:23,503 [myid:0] - INFO  [Thread-7:QuorumPeer@1313] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:23,503 [myid:2] - WARN  [Thread-9:QuorumPeerConfig@620] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
    [junit] 2015-07-07 19:07:23,503 [myid:1] - INFO  [Thread-8:QuorumPeer@1258] - tickTime set to 4000
    [junit] 2015-07-07 19:07:23,503 [myid:] - INFO  [main:ZooKeeper@716] - Initiating client connection, connectString=127.0.0.1:11233 sessionTimeout=30000 watcher=org.apache.zookeeper.server.quorum.ReconfigRecoveryTest@4ab6d2e5
    [junit] 2015-07-07 19:07:23,503 [myid:0] - INFO  [Thread-7:QuorumPeer@1328] - initLimit set to 10
    [junit] 2015-07-07 19:07:23,503 [myid:] - INFO  [Thread-10:QuorumPeerConfig@114] - Reading configuration from: /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/zoo.cfg
    [junit] 2015-07-07 19:07:23,503 [myid:2] - INFO  [Thread-9:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
    [junit] 2015-07-07 19:07:23,503 [myid:2] - INFO  [Thread-9:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
    [junit] 2015-07-07 19:07:23,503 [myid:2] - INFO  [Thread-9:DatadirCleanupManager@101] - Purge task is not scheduled.
    [junit] 2015-07-07 19:07:23,503 [myid:1] - INFO  [Thread-8:QuorumPeer@1302] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:23,503 [myid:2] - DEBUG [Thread-9:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:hiearchy=default
    [junit] 2015-07-07 19:07:23,503 [myid:] - INFO  [Thread-10:QuorumPeerConfig@316] - clientPortAddress is 0.0.0.0/0.0.0.0:11233
    [junit] 2015-07-07 19:07:23,504 [myid:2] - DEBUG [Thread-9:HierarchyDynamicMBean@260] - postRegister is called.
    [junit] 2015-07-07 19:07:23,503 [myid:1] - INFO  [Thread-8:QuorumPeer@1313] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:23,504 [myid:2] - WARN  [Thread-9:QuorumPeerMain@133] - Unable to register log4j JMX control
    [junit] javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,504 [myid:2] - INFO  [Thread-9:QuorumPeerMain@136] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,504 [myid:] - INFO  [Thread-10:QuorumPeerConfig@320] - secureClientPort is not set
    [junit] 2015-07-07 19:07:23,504 [myid:0] - INFO  [Thread-7:FileSnap@83] - Reading snapshot /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2/snapshot.0
    [junit] 2015-07-07 19:07:23,504 [myid:] - INFO  [main:ReconfigRecoveryTest@538] - waiting for servers
    [junit] 2015-07-07 19:07:23,504 [myid:1] - INFO  [Thread-8:QuorumPeer@1328] - initLimit set to 10
    [junit] 2015-07-07 19:07:23,505 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:23,505 [myid:3] - INFO  [Thread-10:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
    [junit] 2015-07-07 19:07:23,505 [myid:3] - INFO  [Thread-10:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
    [junit] 2015-07-07 19:07:23,505 [myid:3] - INFO  [Thread-10:DatadirCleanupManager@101] - Purge task is not scheduled.
    [junit] 2015-07-07 19:07:23,505 [myid:1] - INFO  [Thread-8:FileSnap@83] - Reading snapshot /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/snapshot.0
    [junit] 2015-07-07 19:07:23,505 [myid:0] - DEBUG [Thread-7:FileTxnLog$FileTxnIterator@641] - Created new input stream /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,505 [myid:0] - DEBUG [Thread-7:FileTxnLog$FileTxnIterator@644] - Created new input archive /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,506 [myid:1] - DEBUG [Thread-8:FileTxnLog$FileTxnIterator@641] - Created new input stream /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,506 [myid:1] - DEBUG [Thread-8:FileTxnLog$FileTxnIterator@644] - Created new input archive /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,506 [myid:0] - DEBUG [Thread-7:FileTxnLog$FileTxnIterator@682] - EOF excepton java.io.EOFException: Failed to read /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,507 [myid:1] - DEBUG [Thread-8:FileTxnLog$FileTxnIterator@682] - EOF excepton java.io.EOFException: Failed to read /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,504 [myid:2] - INFO  [Thread-9:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
    [junit] 2015-07-07 19:07:23,504 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:23,505 [myid:3] - DEBUG [Thread-10:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@73c1f55, name=log4j:hiearchy=default
    [junit] 2015-07-07 19:07:23,507 [myid:3] - DEBUG [Thread-10:HierarchyDynamicMBean@260] - postRegister is called.
    [junit] 2015-07-07 19:07:23,507 [myid:3] - WARN  [Thread-10:QuorumPeerMain@133] - Unable to register log4j JMX control
    [junit] javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
    [junit] 	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
    [junit] 	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
    [junit] 	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
    [junit] 	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:53)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:131)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:120)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:240)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,508 [myid:3] - INFO  [Thread-10:QuorumPeerMain@136] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,511 [myid:3] - INFO  [Thread-10:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
    [junit] 2015-07-07 19:07:23,511 [myid:2] - INFO  [Thread-9:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11230
    [junit] 2015-07-07 19:07:23,512 [myid:2] - DEBUG [Thread-9:FileTxnSnapLog@84] - Opening datadir:/home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data snapDir:/home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data
    [junit] 2015-07-07 19:07:23,512 [myid:2] - INFO  [Thread-9:QuorumPeer@1280] - Local sessions disabled
    [junit] 2015-07-07 19:07:23,512 [myid:2] - INFO  [Thread-9:QuorumPeer@1291] - Local session upgrading disabled
    [junit] 2015-07-07 19:07:23,512 [myid:2] - INFO  [Thread-9:QuorumPeer@1258] - tickTime set to 4000
    [junit] 2015-07-07 19:07:23,512 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@950] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,512 [myid:2] - INFO  [Thread-9:QuorumPeer@1302] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:23,512 [myid:2] - INFO  [Thread-9:QuorumPeer@1313] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:23,512 [myid:2] - INFO  [Thread-9:QuorumPeer@1328] - initLimit set to 10
    [junit] 2015-07-07 19:07:23,513 [myid:2] - INFO  [Thread-9:FileSnap@83] - Reading snapshot /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data/version-2/snapshot.0
    [junit] 2015-07-07 19:07:23,513 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:23,513 [myid:0] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,513 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:23,513 [myid:0] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11223
    [junit] 2015-07-07 19:07:23,513 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:23,513 [myid:2] - DEBUG [Thread-9:FileTxnLog$FileTxnIterator@641] - Created new input stream /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,513 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@950] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,513 [myid:1] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,513 [myid:2] - DEBUG [Thread-9:FileTxnLog$FileTxnIterator@644] - Created new input archive /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,513 [myid:3] - INFO  [Thread-10:NIOServerCnxnFactory@686] - binding to port localhost/127.0.0.1:11233
    [junit] 2015-07-07 19:07:23,513 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@894] - New election. My id =  1, proposed zxid=0x100000005
    [junit] 2015-07-07 19:07:23,513 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11226
    [junit] 2015-07-07 19:07:23,514 [myid:3] - DEBUG [Thread-10:FileTxnSnapLog@84] - Opening datadir:/home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data snapDir:/home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data
    [junit] 2015-07-07 19:07:23,514 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,514 [myid:3] - INFO  [Thread-10:QuorumPeer@1280] - Local sessions disabled
    [junit] 2015-07-07 19:07:23,514 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,514 [myid:2] - DEBUG [Thread-9:FileTxnLog$FileTxnIterator@682] - EOF excepton java.io.EOFException: Failed to read /home/suda/WORK/zookeeper/build/test/tmp/test2390162669012876183.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:23,514 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,514 [myid:3] - INFO  [Thread-10:QuorumPeer@1291] - Local session upgrading disabled
    [junit] 2015-07-07 19:07:23,514 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:23,514 [myid:3] - INFO  [Thread-10:QuorumPeer@1258] - tickTime set to 4000
    [junit] 2015-07-07 19:07:23,514 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:23,514 [myid:3] - INFO  [Thread-10:QuorumPeer@1302] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:23,514 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:23,514 [myid:3] - INFO  [Thread-10:QuorumPeer@1313] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:23,515 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,515 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,515 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11229
    [junit] 2015-07-07 19:07:23,515 [myid:3] - INFO  [Thread-10:QuorumPeer@1328] - initLimit set to 10
    [junit] 2015-07-07 19:07:23,515 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@795] - Updating proposal: 0 (newleader), 0x100000005 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:23,516 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@894] - New election. My id =  0, proposed zxid=0x100000005
    [junit] 2015-07-07 19:07:23,516 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,515 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@950] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,516 [myid:3] - INFO  [Thread-10:QuorumPeer@744] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:23,516 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,516 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:23,516 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:23,516 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:23,517 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,517 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: -9223372036854775808 (newleader), 0x8000000000000000 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:23,517 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:23,517 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@894] - New election. My id =  2, proposed zxid=0x8000000000000000
    [junit] 2015-07-07 19:07:23,517 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,517 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,517 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,517 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:23,542 [myid:3] - INFO  [Thread-10:QuorumPeer@759] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
    [junit] 2015-07-07 19:07:23,570 [myid:3] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,570 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@950] - Starting quorum peer
    [junit] 2015-07-07 19:07:23,570 [myid:3] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,570 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11232
    [junit] 2015-07-07 19:07:23,571 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:23,571 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:23,571 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@795] - Updating proposal: 3 (newleader), 0x0 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:23,571 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@894] - New election. My id =  3, proposed zxid=0x0
    [junit] 2015-07-07 19:07:23,571 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,571 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,571 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,571 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,571 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:23,611 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39547, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:23,611 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:23,659 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38209, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:23,659 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:23,675 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39927, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:23,675 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:23,723 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:32965, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:23,723 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:23,739 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:23,739 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:23,740 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,740 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:23,740 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,740 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,740 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:23,755 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39547
    [junit] 2015-07-07 19:07:23,771 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:23,771 [myid:0] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,772 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39547 (no session established for client)
    [junit] 2015-07-07 19:07:23,787 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:23,787 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (1, 0)
    [junit] 2015-07-07 19:07:23,787 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:23,787 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,787 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,788 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,788 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,788 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:23,803 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:23,803 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:23,804 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,804 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,804 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:23,819 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38209
    [junit] 2015-07-07 19:07:23,835 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:23,835 [myid:1] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,836 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38209 (no session established for client)
    [junit] 2015-07-07 19:07:23,851 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39927
    [junit] 2015-07-07 19:07:23,867 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:23,867 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,867 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39927 (no session established for client)
    [junit] 2015-07-07 19:07:23,883 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39928
    [junit] 2015-07-07 19:07:23,899 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39928
    [junit] 2015-07-07 19:07:23,899 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39928 (no session established for client)
    [junit] 2015-07-07 19:07:23,915 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:23,915 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:23,916 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,916 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 3 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:23,916 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:23,916 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:23,931 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:32965
    [junit] 2015-07-07 19:07:23,947 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:23,947 [myid:3] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:23,947 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:32965 (no session established for client)
    [junit] 2015-07-07 19:07:23,963 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59980
    [junit] 2015-07-07 19:07:23,979 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:23,981 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@440] - WorkerReceiver is down
    [junit] 2015-07-07 19:07:23,981 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@470] - WorkerSender is down
    [junit] 2015-07-07 19:07:24,027 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:24,059 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35297
    [junit] 2015-07-07 19:07:24,075 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:24,075 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:24,075 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 1, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:24,075 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:24,075 [myid:1] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:24,075 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:24,076 [myid:1] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:24,076 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 1
    [junit] 2015-07-07 19:07:24,075 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@365] - Create new connection to server: 0
    [junit] 2015-07-07 19:07:24,107 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59982
    [junit] 2015-07-07 19:07:24,123 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:24,171 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:24,219 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:24,224 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@440] - WorkerReceiver is down
    [junit] 2015-07-07 19:07:24,300 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59983
    [junit] 2015-07-07 19:07:24,316 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:24,364 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:24,460 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:24,460 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:24,460 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:24,460 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,460 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:24,460 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:24,460 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:24,508 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:24,508 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:24,509 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:24,509 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:24,509 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:24,509 [myid:0] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:24,509 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 0
    [junit] 2015-07-07 19:07:24,534 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:24,541 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:24,541 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 0)
    [junit] 2015-07-07 19:07:24,541 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:24,542 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:24,542 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:24,542 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:24,542 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:24,542 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:24,542 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), 0 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:07:24,542 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,543 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,543 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:24,543 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,543 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:24,543 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:24,638 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:24,638 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:24,643 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,644 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:24,644 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:24,644 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:24,660 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:24,661 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,661 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,661 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,661 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,661 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:07:24,767 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:24,767 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:24,772 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:24,772 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
    [junit] 2015-07-07 19:07:24,772 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 3, proposed id: 3, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:24,772 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=3, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:24,815 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42261
    [junit] 2015-07-07 19:07:24,831 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:24,831 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:24,831 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:24,832 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:24,832 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:24,831 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:24,831 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:24,832 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:24,832 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:24,972 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:24,972 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,972 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,972 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:24,972 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 3 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:24,973 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:24,973 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:07:24,973 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:24,973 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
    [junit] 2015-07-07 19:07:24,973 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 3, proposed id: 3, zxid: 0x0, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:24,973 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=3, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,055 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@294] - 3 Received version: 100000000 my version: 0
    [junit] 2015-07-07 19:07:25,055 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@298] - Invoking processReconfig(), state: leaderelection
    [junit] 2015-07-07 19:07:25,061 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:25,061 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,061 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,061 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,061 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,062 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@928] - Notification time out: 800
    [junit] 2015-07-07 19:07:25,110 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@301] - restarting leader election
    [junit] 2015-07-07 19:07:25,110 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection@657] - Shutting down connection manager
    [junit] 2015-07-07 19:07:25,110 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager@537] - Halting listener
    [junit] 2015-07-07 19:07:25,110 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=localhost/127.0.0.1,localport=11232]
    [junit] 2015-07-07 19:07:25,110 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager$Listener@683] - Closing listener: 3
    [junit] 2015-07-07 19:07:25,110 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@659] - Leaving listener
    [junit] 2015-07-07 19:07:25,110 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager@554] - Halting sender: Thread[SendWorker:0,5,main]
    [junit] 2015-07-07 19:07:25,110 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,110 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:25,111 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 3, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,111 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,111 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager@554] - Halting sender: Thread[SendWorker:1,5,main]
    [junit] 2015-07-07 19:07:25,111 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:25,110 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,111 [myid:3] - DEBUG [WorkerReceiver[myid=3]:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:25,111 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection@659] - Shutting down messenger
    [junit] 2015-07-07 19:07:25,111 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection@661] - FLE is down
    [junit] 2015-07-07 19:07:25,111 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 3, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,112 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,112 [myid:3] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:25,111 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,112 [myid:3] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:25,112 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 3
    [junit] 2015-07-07 19:07:25,111 [myid:3] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,112 [myid:3] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,112 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 3
    [junit] 2015-07-07 19:07:25,111 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@440] - WorkerReceiver is down
    [junit] 2015-07-07 19:07:25,151 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:25,151 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:25,151 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35302
    [junit] 2015-07-07 19:07:25,151 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:25,151 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:25,151 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:25,152 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35303
    [junit] 2015-07-07 19:07:25,152 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:25,153 [myid:1] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=0
    [junit] 2015-07-07 19:07:25,153 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,155 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,155 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:25,155 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,155 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:25,155 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:25,155 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:25,199 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:25,199 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (1, 0)
    [junit] 2015-07-07 19:07:25,199 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,199 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,199 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,199 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:25,200 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x8000000000000000 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x8000000000000000, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=-9223372036854775808, proposed zxid=0x8000000000000000, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,200 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
    [junit] 2015-07-07 19:07:25,200 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 3, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,201 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=3, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,247 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 3
    [junit] 2015-07-07 19:07:25,247 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (3, 2)
    [junit] 2015-07-07 19:07:25,247 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:25,247 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x8000000000000000 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: -9223372036854775808, zxid: 0x8000000000000000, proposed zxid: 0x8000000000000000
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=-9223372036854775808, proposed zxid=0x8000000000000000, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,248 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: -9223372036854775808, zxid: 0x100000005, proposed zxid: 0x8000000000000000
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: 0 (newleader), 0x100000005 (newzxid), -9223372036854775808 (oldleader), 0x8000000000000000 (oldzxid)
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,248 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,249 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,251 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:25,263 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,264 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,264 [myid:0] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:25,264 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:25,264 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,264 [myid:0] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
    [junit] 2015-07-07 19:07:25,264 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
    [junit] 2015-07-07 19:07:25,264 [myid:0] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:25,264 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 0
    [junit] 2015-07-07 19:07:25,264 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 3, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,264 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=3, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,311 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,312 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,312 [myid:1] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:25,312 [myid:1] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
    [junit] 2015-07-07 19:07:25,312 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,312 [myid:1] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:25,312 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 1
    [junit] 2015-07-07 19:07:25,327 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59988
    [junit] 2015-07-07 19:07:25,343 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:25,359 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@459] - Cannot open channel to 3 at election address localhost/127.0.0.1:11232
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:444)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:492)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:421)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:486)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:465)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:25,360 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:25,360 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:25,360 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:25,360 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:25,360 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:25,373 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:25,374 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -1 (n.leader), 0xffffffffffffffff (n.zxid), 0x1 (n.round), 0 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,374 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -1 (n.leader), 0xffffffffffffffff (n.zxid), 0x1 (n.round), 1 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,374 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@928] - Notification time out: 800
    [junit] 2015-07-07 19:07:25,374 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:25,374 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:25,374 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:25,424 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39939
    [junit] 2015-07-07 19:07:25,440 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39939
    [junit] 2015-07-07 19:07:25,440 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39939 (no session established for client)
    [junit] 2015-07-07 19:07:25,449 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:25,449 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,449 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,449 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,449 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,449 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:07:25,456 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35306
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:25,465 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,466 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:07:25,465 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,466 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:25,466 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:25,472 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,472 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:25,472 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 1, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,472 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,472 [myid:1] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,472 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,472 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@365] - Create new connection to server: 0
    [junit] 2015-07-07 19:07:25,473 [myid:1] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,473 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 1
    [junit] 2015-07-07 19:07:25,520 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:25,520 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,520 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,520 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), 0 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:07:25,521 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,521 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,521 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,521 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:25,521 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,643 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:25,672 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:25,709 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:25,792 [myid:0] - WARN  [WorkerSender[myid=0]:QuorumCnxManager@459] - Cannot open channel to 3 at election address localhost/127.0.0.1:11232
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:444)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:492)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:421)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:486)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:465)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:25,793 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:25,793 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,793 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,793 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,793 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,793 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,824 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,824 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,824 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:25,824 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:25,825 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,825 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,825 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:25,825 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,825 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,825 [myid:0] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:25,825 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 0
    [junit] 2015-07-07 19:07:25,856 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:25,856 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,857 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,857 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,862 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:25,904 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:25,905 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:25,905 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:25,905 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42262
    [junit] 2015-07-07 19:07:25,905 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:25,905 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,905 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:25,906 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,906 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:25,906 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,906 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:25,906 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:25,906 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:25,906 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 0
    [junit] 2015-07-07 19:07:25,906 [myid:2] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,907 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 2
    [junit] 2015-07-07 19:07:25,906 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,907 [myid:2] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:25,921 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:25,921 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:25,921 [myid:0] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:25,921 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:25,921 [myid:0] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:25,921 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:25,921 [myid:0] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:25,921 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 0
    [junit] 2015-07-07 19:07:25,921 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:25,922 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:25,922 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:25,937 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39566, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:25,937 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:26,026 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:26,033 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:26,033 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:26,033 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:26,033 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x8000000000000000 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:26,033 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,033 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:26,033 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,033 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
    [junit] 2015-07-07 19:07:26,034 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,034 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:26,034 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,034 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@928] - Notification time out: 1600
    [junit] 2015-07-07 19:07:26,034 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
    [junit] 2015-07-07 19:07:26,034 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x8000000000000000, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:26,034 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:26,034 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=-9223372036854775808, proposed zxid=0x8000000000000000, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:26,034 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:26,034 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 3, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:26,035 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=3, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:26,035 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 3, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:26,035 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=3, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:26,035 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:26,035 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:26,048 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:26,049 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:26,049 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@470] - WorkerSender is down
    [junit] 2015-07-07 19:07:26,049 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
    [junit] 2015-07-07 19:07:26,049 [myid:3] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:26,049 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:07:26,049 [myid:3] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:26,051 [myid:3] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:26,051 [myid:3] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 3
    [junit] 2015-07-07 19:07:26,051 [myid:3] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:26,052 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:07:26,052 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@795] - Updating proposal: -9223372036854775808 (newleader), 0x0 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
    [junit] 2015-07-07 19:07:26,052 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@894] - New election. My id =  3, proposed zxid=0x0
    [junit] 2015-07-07 19:07:26,052 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,052 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,052 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,052 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,052 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:26,160 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@459] - Cannot open channel to 3 at election address localhost/127.0.0.1:11232
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:444)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:492)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:421)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:486)
    [junit] 	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:465)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:26,161 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:26,161 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:26,161 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:26,161 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:26,208 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39566
    [junit] 2015-07-07 19:07:26,224 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:26,225 [myid:0] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:26,225 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39566 (no session established for client)
    [junit] 2015-07-07 19:07:26,240 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38232, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:26,240 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:26,256 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39950, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:26,256 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:26,272 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:32987, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:26,272 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:26,322 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:26,322 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,322 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,322 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,323 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:26,323 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 0 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,323 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@928] - Notification time out: 800
    [junit] 2015-07-07 19:07:26,323 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,323 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:26,352 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:59996
    [junit] 2015-07-07 19:07:26,368 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:26,369 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:26,369 [myid:0] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:26,369 [myid:0] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:26,369 [myid:0] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
    [junit] 2015-07-07 19:07:26,369 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:26,369 [myid:0] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:26,370 [myid:0] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 0
    [junit] 2015-07-07 19:07:26,424 [myid:1] - INFO  [SessionTracker:SessionTrackerImpl@158] - SessionTrackerImpl exited loop!
    [junit] 2015-07-07 19:07:26,449 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:26,481 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38232
    [junit] 2015-07-07 19:07:26,497 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:26,497 [myid:1] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:26,498 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38232 (no session established for client)
    [junit] 2015-07-07 19:07:26,513 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39950
    [junit] 2015-07-07 19:07:26,530 [myid:2] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:26,530 [myid:2] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:26,530 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39950 (no session established for client)
    [junit] 2015-07-07 19:07:26,546 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:32987
    [junit] 2015-07-07 19:07:26,561 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 1
    [junit] 2015-07-07 19:07:26,561 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:26,561 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,561 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,561 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,562 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:26,562 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 800
    [junit] 2015-07-07 19:07:26,562 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:26,562 [myid:3] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:26,562 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:32987 (no session established for client)
    [junit] 2015-07-07 19:07:26,610 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:26,611 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:26,611 [myid:1] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=0
    [junit] 2015-07-07 19:07:26,611 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35309
    [junit] 2015-07-07 19:07:26,611 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,611 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:26,611 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:26,674 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:26,675 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:26,675 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: localhost/127.0.0.1:11232
    [junit] 2015-07-07 19:07:26,675 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,675 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,675 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:26,690 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:26,691 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42272
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,691 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:26,691 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:26,691 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@839] - Exception when using channel: for id 1 my id = 2 error = java.net.SocketException: Socket closed
    [junit] 2015-07-07 19:07:26,692 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:26,692 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:26,692 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:26,692 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:26,738 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:26,786 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:26,834 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:26,866 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39953
    [junit] 2015-07-07 19:07:26,882 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39953
    [junit] 2015-07-07 19:07:26,883 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39953 (no session established for client)
    [junit] 2015-07-07 19:07:26,898 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:26,898 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (1, 0)
    [junit] 2015-07-07 19:07:26,898 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:26,898 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,899 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:26,899 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:26,914 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:60004
    [junit] 2015-07-07 19:07:26,930 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:26,962 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.net.SocketException: Connection reset
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:196)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:26,962 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:26,962 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:26,963 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:26,963 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:26,963 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:26,963 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:26,978 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:60005
    [junit] 2015-07-07 19:07:26,994 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:26,995 [myid:0] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=3
    [junit] 2015-07-07 19:07:27,026 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:60006
    [junit] 2015-07-07 19:07:27,043 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:27,202 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35323
    [junit] 2015-07-07 19:07:27,218 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:27,218 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:27,218 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:27,218 [myid:1] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:27,219 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 1
    [junit] 2015-07-07 19:07:27,218 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 1, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:27,219 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:27,219 [myid:1] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:27,218 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@365] - Create new connection to server: 0
    [junit] 2015-07-07 19:07:27,298 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 3
    [junit] 2015-07-07 19:07:27,298 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (3, 1)
    [junit] 2015-07-07 19:07:27,299 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:27,299 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:27,299 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:27,362 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:27,362 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:27,362 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:27,426 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 3
    [junit] 2015-07-07 19:07:27,427 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (3, 2)
    [junit] 2015-07-07 19:07:27,427 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:27,427 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,427 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:27,427 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,427 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:27,427 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:27,436 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:27,490 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:27,490 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:27,490 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:27,491 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:27,491 [myid:0] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:27,491 [myid:0] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:27,491 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 0
    [junit] 2015-07-07 19:07:27,522 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:27,522 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 0)
    [junit] 2015-07-07 19:07:27,522 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:27,522 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:27,522 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,523 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,523 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,523 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:27,523 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,523 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,523 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,523 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:27,523 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,523 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,523 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,524 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,524 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,554 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:37067
    [junit] 2015-07-07 19:07:27,562 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:27,563 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 0 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,563 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), 1 (recipient), 3 (myid), 0x0 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,563 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:27,563 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:07:27,563 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:27,570 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:27,570 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:27,570 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 3, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:27,571 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:27,570 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:27,571 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:27,571 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:27,571 [myid:3] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:27,571 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 3
    [junit] 2015-07-07 19:07:27,571 [myid:3] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:27,602 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:27,602 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,603 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: -9223372036854775808, zxid: 0x100000005, proposed zxid: 0x0
    [junit] 2015-07-07 19:07:27,603 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), -9223372036854775808 (oldleader), 0x0 (oldzxid)
    [junit] 2015-07-07 19:07:27,603 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 3 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,603 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 3 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,603 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,635 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumCnxManager@523] - Queue size: 1
    [junit] 2015-07-07 19:07:27,635 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:27,907 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:27,907 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:27,908 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager@434] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:27,908 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,908 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:27,908 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35325
    [junit] 2015-07-07 19:07:27,908 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:27,908 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:27,908 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:27,908 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:27,909 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:27,909 [myid:1] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:27,909 [myid:1] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
    [junit] 2015-07-07 19:07:27,909 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:27,909 [myid:1] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:27,909 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 1
    [junit] 2015-07-07 19:07:27,924 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:27,924 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,924 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,924 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,939 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:27,939 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,940 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,940 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,955 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:27,956 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,956 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,956 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,971 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:27,971 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:27,972 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,972 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:27,972 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 1600
    [junit] 2015-07-07 19:07:27,972 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@434] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:27,973 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:27,973 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42288
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:27,973 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:27,973 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=0
    [junit] 2015-07-07 19:07:27,973 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@917] - Connection broken for id 0, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:27,974 [myid:2] - DEBUG [SendWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:27,974 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 0 my id = 2
    [junit] 2015-07-07 19:07:27,974 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 0
    [junit] 2015-07-07 19:07:27,974 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:27,974 [myid:2] - DEBUG [RecvWorker:0:QuorumCnxManager$SendWorker@743] - Calling finish for 0
    [junit] 2015-07-07 19:07:27,983 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:28,019 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:28,019 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,020 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,020 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,029 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:28,051 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:28,051 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:28,051 [myid:3] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:28,051 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:37069
    [junit] 2015-07-07 19:07:28,051 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:28,052 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@365] - Create new connection to server: 2
    [junit] 2015-07-07 19:07:28,052 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:28,052 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:28,067 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:60012
    [junit] 2015-07-07 19:07:28,083 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:28,083 [myid:0] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:28,195 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35329
    [junit] 2015-07-07 19:07:28,212 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:28,220 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@817] - I'm a participant: 0
    [junit] 2015-07-07 19:07:28,220 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x100000005, my id=0, my state=FOLLOWING
    [junit] 2015-07-07 19:07:28,220 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
    [junit] 2015-07-07 19:07:28,220 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1062] - FOLLOWING
    [junit] 2015-07-07 19:07:28,220 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:28,220 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:28,220 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2
    [junit] 2015-07-07 19:07:28,220 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
    [junit] 2015-07-07 19:07:28,228 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 0, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:28,228 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:28,228 [myid:0] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:28,228 [myid:0] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:28,229 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:28,229 [myid:0] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:28,229 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 0
    [junit] 2015-07-07 19:07:28,292 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39964
    [junit] 2015-07-07 19:07:28,309 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39964
    [junit] 2015-07-07 19:07:28,309 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39964 (no session established for client)
    [junit] 2015-07-07 19:07:28,324 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:28,324 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 3 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:28,324 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 3 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:28,324 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@928] - Notification time out: 800
    [junit] 2015-07-07 19:07:28,356 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35331
    [junit] 2015-07-07 19:07:28,356 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:28,373 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:28,373 [myid:1] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=3
    [junit] 2015-07-07 19:07:28,422 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:28,423 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,423 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=1 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:28,423 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:28,470 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:28,470 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:28,470 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x8000000000000000 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:28,471 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:28,471 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 1 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:28,472 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@928] - Notification time out: 3200
    [junit] 2015-07-07 19:07:28,472 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:28,472 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,472 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x8000000000000000, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,472 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=-9223372036854775808, proposed zxid=0x8000000000000000, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,472 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,472 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,472 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,472 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,473 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,473 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,473 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,473 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,473 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,473 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,474 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,474 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,474 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,474 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,474 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,474 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,474 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,474 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,474 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,475 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,475 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,487 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,487 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,487 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,487 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,535 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=39687, connecting to localhost/127.0.0.1:11225
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1064)
    [junit] 2015-07-07 19:07:28,567 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 3
    [junit] 2015-07-07 19:07:28,567 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (3, 2)
    [junit] 2015-07-07 19:07:28,567 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 0
    [junit] 2015-07-07 19:07:28,567 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,567 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:28,567 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,567 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,567 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,567 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,583 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33004, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:28,583 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:28,663 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39969, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:28,663 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:28,679 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,679 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,680 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,680 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x0, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,680 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x0, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,680 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,680 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,680 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,692 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:28,743 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:28,744 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:28,744 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:28,744 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:28,760 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,760 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,760 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:28,760 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,760 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,760 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,760 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,840 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:28,840 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,840 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:28,840 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,840 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,840 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,841 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:28,841 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,841 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,841 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,841 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:28,841 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:28,871 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:37076
    [junit] 2015-07-07 19:07:28,881 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:28,888 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:28,888 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:28,888 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:28,888 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@365] - Create new connection to server: 2
    [junit] 2015-07-07 19:07:28,888 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 3, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:28,889 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:28,889 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:28,889 [myid:3] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:28,889 [myid:3] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:28,889 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 3
    [junit] 2015-07-07 19:07:28,920 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33004
    [junit] 2015-07-07 19:07:28,937 [myid:3] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:28,937 [myid:3] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:28,937 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33004 (no session established for client)
    [junit] 2015-07-07 19:07:28,961 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x100000005, my id=1, my state=LEADING
    [junit] 2015-07-07 19:07:28,961 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
    [junit] 2015-07-07 19:07:28,961 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1074] - LEADING
    [junit] 2015-07-07 19:07:28,961 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:28,961 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:28,961 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2
    [junit] 2015-07-07 19:07:28,961 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@412] - LEADING - LEADER ELECTION TOOK - 0
    [junit] 2015-07-07 19:07:28,962 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/snapshot.100000005
    [junit] 2015-07-07 19:07:28,985 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:28,985 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:28,985 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=3 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:28,985 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:29,016 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39969
    [junit] 2015-07-07 19:07:29,032 [myid:2] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:29,033 [myid:2] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:29,033 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39969 (no session established for client)
    [junit] 2015-07-07 19:07:29,064 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39594, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:29,064 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:29,081 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:29,081 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,081 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:29,081 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:29,081 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:29,081 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,081 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:29,081 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:29,081 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,082 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:29,082 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:29,082 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,082 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:29,161 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:29,161 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,162 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=1 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:29,162 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:29,162 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:29,162 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,162 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=1 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:29,162 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:29,274 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 0
    [junit] 2015-07-07 19:07:29,274 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 0
    [junit] 2015-07-07 19:07:29,274 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:29,274 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42293
    [junit] 2015-07-07 19:07:29,274 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:29,275 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:29,275 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:29,275 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:29,275 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:29,275 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:29,282 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@817] - I'm a participant: 3
    [junit] 2015-07-07 19:07:29,282 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x100000005, my id=3, my state=FOLLOWING
    [junit] 2015-07-07 19:07:29,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
    [junit] 2015-07-07 19:07:29,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@1062] - FOLLOWING
    [junit] 2015-07-07 19:07:29,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:07:29,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:07:29,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data/version-2
    [junit] 2015-07-07 19:07:29,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
    [junit] 2015-07-07 19:07:29,306 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:29,369 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:29,370 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,402 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:29,434 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38257, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:29,434 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:29,450 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39594
    [junit] 2015-07-07 19:07:29,466 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:29,466 [myid:0] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:29,466 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39594 (no session established for client)
    [junit] 2015-07-07 19:07:29,482 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:29,482 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,482 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=3 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:29,483 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:29,547 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:29,547 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,548 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:29,548 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,579 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:29,579 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:29,595 [myid:0] - INFO  [localhost/127.0.0.1:11223:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:60023
    [junit] 2015-07-07 19:07:29,611 [myid:0] - DEBUG [localhost/127.0.0.1:11223:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:29,611 [myid:0] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=2
    [junit] 2015-07-07 19:07:29,643 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:29,643 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:29,643 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:29,643 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:29,643 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:29,643 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,644 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:29,644 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:29,644 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:29,644 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:29,644 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:29,644 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:29,644 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:29,771 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38257
    [junit] 2015-07-07 19:07:29,787 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:29,787 [myid:1] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:29,787 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38257 (no session established for client)
    [junit] 2015-07-07 19:07:29,819 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:29,884 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:29,884 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,931 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39975
    [junit] 2015-07-07 19:07:29,947 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39975
    [junit] 2015-07-07 19:07:29,948 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39975 (no session established for client)
    [junit] 2015-07-07 19:07:29,996 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:29,996 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:29,996 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:29,996 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:30,092 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 3
    [junit] 2015-07-07 19:07:30,092 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (3, 2)
    [junit] 2015-07-07 19:07:30,092 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:30,092 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:30,092 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:30,092 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:30,141 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:30,272 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:30,272 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:30,272 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:30,272 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:30,272 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:30,272 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:30,303 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:30,304 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:30,319 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:37086
    [junit] 2015-07-07 19:07:30,336 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:30,336 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:30,336 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:30,336 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 3, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:30,336 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:30,336 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@365] - Create new connection to server: 2
    [junit] 2015-07-07 19:07:30,336 [myid:3] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:30,336 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 3
    [junit] 2015-07-07 19:07:30,336 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:30,336 [myid:3] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:30,400 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47722:LearnerHandler@385] - Follower sid: 3 not in the current config 100000000
    [junit] 2015-07-07 19:07:30,447 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47723:LearnerHandler@382] - Follower sid: 0 : info : localhost:11222:11223:participant;localhost:11224
    [junit] 2015-07-07 19:07:30,497 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:30,497 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:30,497 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:30,497 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:30,506 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:30,610 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:30,610 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:30,611 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:30,611 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:30,611 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:30,611 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:30,611 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 3
    [junit] 2015-07-07 19:07:30,611 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42297
    [junit] 2015-07-07 19:07:30,611 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:30,612 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42303
    [junit] 2015-07-07 19:07:30,612 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 2, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:30,612 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
    [junit] 2015-07-07 19:07:30,612 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:30,612 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42307
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=3
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:30,612 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 2, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:30,613 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:30,612 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:30,612 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:30,613 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:30,613 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:30,613 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:30,613 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:30,613 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:30,613 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:30,613 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 2
    [junit] 2015-07-07 19:07:30,613 [myid:2] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:30,613 [myid:2] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
    [junit] 2015-07-07 19:07:30,613 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:30,614 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:30,614 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 2
    [junit] 2015-07-07 19:07:30,755 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:30,755 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:30,771 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35347
    [junit] 2015-07-07 19:07:30,787 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:30,851 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:30,851 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:30,851 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:30,851 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:30,851 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:30,851 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:30,852 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:30,852 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:30,851 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:30,852 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:30,852 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:30,852 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:30,852 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:30,852 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:31,091 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 3
    [junit] 2015-07-07 19:07:31,091 [myid:2] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (3, 2)
    [junit] 2015-07-07 19:07:31,091 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:31,091 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:31,091 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:31,092 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:31,092 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:31,092 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:31,092 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:31,106 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:31,171 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39983
    [junit] 2015-07-07 19:07:31,187 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39983
    [junit] 2015-07-07 19:07:31,188 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39983 (no session established for client)
    [junit] 2015-07-07 19:07:31,219 [myid:3] - INFO  [localhost/127.0.0.1:11232:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:37093
    [junit] 2015-07-07 19:07:31,235 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:31,235 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:31,235 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:31,235 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@365] - Create new connection to server: 2
    [junit] 2015-07-07 19:07:31,236 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:31,235 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 3, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:31,236 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:31,236 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:31,236 [myid:3] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:31,236 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 3
    [junit] 2015-07-07 19:07:31,236 [myid:3] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:31,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:31,272 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:31,283 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:31,283 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:31,283 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:31,283 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47722:LearnerHandler@683] - Synchronizing with Follower sid: 3 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x0
    [junit] 2015-07-07 19:07:31,284 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47723:LearnerHandler@683] - Synchronizing with Follower sid: 0 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x100000005
    [junit] 2015-07-07 19:07:31,284 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:31,284 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47723:LearnerHandler@727] - Sending DIFF zxid=0x100000005 for peer sid: 0
    [junit] 2015-07-07 19:07:31,284 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47723:LearnerHandler@777] - Start forwarding 0x100000005 for peer sid: 0
    [junit] 2015-07-07 19:07:31,284 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47723:LearnerHandler@429] - Sending NEWLEADER message to 0
    [junit] 2015-07-07 19:07:31,284 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:31,284 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:31,284 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:31,284 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47722:FileTxnLog$FileTxnIterator@641] - Created new input stream /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:31,285 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47722:FileTxnLog$FileTxnIterator@644] - Created new input archive /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/log.100000001
    [junit] 2015-07-07 19:07:31,285 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:47722:ZKDatabase@310] - Unable to find proposals from txnlog for zxid: 0
    [junit] 2015-07-07 19:07:31,285 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47722:LearnerHandler@777] - Start forwarding 0x0 for peer sid: 3
    [junit] 2015-07-07 19:07:31,285 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47722:LearnerHandler@429] - Sending NEWLEADER message to 3
    [junit] 2015-07-07 19:07:31,427 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:31,427 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:31,427 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:31,427 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42309
    [junit] 2015-07-07 19:07:31,428 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:31,428 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=3
    [junit] 2015-07-07 19:07:31,428 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 2, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:31,428 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:31,428 [myid:2] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:31,428 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:31,428 [myid:2] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
    [junit] 2015-07-07 19:07:31,428 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
    [junit] 2015-07-07 19:07:31,428 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 2
    [junit] 2015-07-07 19:07:31,459 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33023, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:31,459 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:31,491 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42312
    [junit] 2015-07-07 19:07:31,507 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:31,507 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:31,507 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:31,507 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:31,508 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:31,508 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:31,507 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:31,507 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:31,509 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:31,509 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:31,572 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39610, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:31,572 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:31,581 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:31,588 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:31,588 [myid:3] - DEBUG [localhost/127.0.0.1:11232:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:31,604 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35352
    [junit] 2015-07-07 19:07:31,620 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:31,668 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38273, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:31,668 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:31,684 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33023
    [junit] 2015-07-07 19:07:31,701 [myid:3] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:31,701 [myid:3] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:31,701 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33023 (no session established for client)
    [junit] 2015-07-07 19:07:31,716 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39991, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:31,716 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:31,748 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:31,748 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:31,748 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:31,749 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:31,749 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:31,749 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:31,749 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:31,796 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:31,796 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:31,796 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:31,796 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:31,796 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:31,797 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:31,797 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:47722:LearnerHandler@455] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x100000005, 1 concurrent snapshots, snapshot was exempt from throttle
    [junit] 2015-07-07 19:07:31,797 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:31,797 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:31,812 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39610
    [junit] 2015-07-07 19:07:31,828 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:31,828 [myid:0] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:31,828 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39610 (no session established for client)
    [junit] 2015-07-07 19:07:31,924 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38273
    [junit] 2015-07-07 19:07:31,940 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:31,940 [myid:1] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:31,940 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38273 (no session established for client)
    [junit] 2015-07-07 19:07:31,972 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:32,004 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39991
    [junit] 2015-07-07 19:07:32,020 [myid:2] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:32,020 [myid:2] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:32,020 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39991 (no session established for client)
    [junit] 2015-07-07 19:07:32,052 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:32,052 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:32,052 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:32,052 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42316
    [junit] 2015-07-07 19:07:32,052 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
    [junit] 2015-07-07 19:07:32,052 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=3
    [junit] 2015-07-07 19:07:32,068 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42319
    [junit] 2015-07-07 19:07:32,084 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:32,084 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:32,084 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:32,084 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:32,084 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:32,084 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:32,084 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:32,084 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:32,084 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:32,085 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:32,100 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000005
    [junit] 2015-07-07 19:07:32,100 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
    [junit] 2015-07-07 19:07:32,100 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2/snapshot.100000005
    [junit] 2015-07-07 19:07:32,116 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Learner@369] - Getting a snapshot from leader
    [junit] 2015-07-07 19:07:32,164 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:32,227 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:32,291 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:32,323 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35359
    [junit] 2015-07-07 19:07:32,339 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:32,387 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:32,387 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:32,387 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:32,388 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:32,388 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:32,388 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:32,388 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:32,467 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Learner@509] - Learner received NEWLEADER message
    [junit] 2015-07-07 19:07:32,483 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:32,483 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:32,483 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:32,483 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:32,483 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:32,484 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:32,484 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:32,484 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:32,499 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47723:LearnerHandler@489] - Received NEWLEADER-ACK message from 0
    [junit] 2015-07-07 19:07:32,504 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data/version-2/snapshot.100000005
    [junit] 2015-07-07 19:07:32,531 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39994
    [junit] 2015-07-07 19:07:32,547 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:39994
    [junit] 2015-07-07 19:07:32,548 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39994 (no session established for client)
    [junit] 2015-07-07 19:07:32,628 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:32,628 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:32,628 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =3 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:32,628 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:32,676 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:32,676 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:32,676 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:32,692 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:32,692 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:32,692 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:32,692 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:32,693 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:32,693 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:32,693 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:32,693 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 3200
    [junit] 2015-07-07 19:07:32,693 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:32,693 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:32,693 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:32,693 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:32,693 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:32,708 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42322
    [junit] 2015-07-07 19:07:32,724 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:32,724 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:32,724 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:32,724 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:32,724 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:32,724 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:32,724 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:32,725 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:32,725 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:32,725 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:32,788 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:47722:LearnerHandler@489] - Received NEWLEADER-ACK message from 3
    [junit] 2015-07-07 19:07:32,868 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:32,868 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:32,884 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35362
    [junit] 2015-07-07 19:07:32,900 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:32,964 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:32,964 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:32,964 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:32,965 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:32,965 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:32,965 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:32,965 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:33,012 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:33,012 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:33,012 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:33,013 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:33,013 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:33,013 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:33,013 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:33,013 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:33,013 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:33,070 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:33,076 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:33,076 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:33,076 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =3 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:33,077 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:33,156 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:33,156 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:33,156 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:33,157 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:33,220 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:33,220 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:33,220 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:33,236 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42324
    [junit] 2015-07-07 19:07:33,252 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,252 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:33,252 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:33,253 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,253 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:33,253 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:33,253 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:33,253 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,252 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:33,254 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:33,317 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:33,317 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:33,366 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:33,366 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:33,381 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35364
    [junit] 2015-07-07 19:07:33,397 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:33,429 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:33,429 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:33,429 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:33,430 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:33,430 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:33,430 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:33,430 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:33,477 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:33,478 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:33,478 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:33,478 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:33,478 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:33,478 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:33,478 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:33,478 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:33,606 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:33,606 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:33,606 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:33,622 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42326
    [junit] 2015-07-07 19:07:33,638 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,638 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:33,638 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:33,638 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:33,638 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:33,638 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,638 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:33,639 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,639 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:33,638 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:33,670 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40000
    [junit] 2015-07-07 19:07:33,686 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40000
    [junit] 2015-07-07 19:07:33,686 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40000 (no session established for client)
    [junit] 2015-07-07 19:07:33,702 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35367
    [junit] 2015-07-07 19:07:33,718 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:33,751 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:33,751 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:33,751 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:33,751 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:33,751 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:33,751 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:33,751 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:33,754 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:33,799 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:33,799 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:33,799 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:33,799 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:33,799 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:33,799 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:33,799 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:33,799 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:33,846 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:33,928 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:33,928 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:33,928 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:33,944 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42330
    [junit] 2015-07-07 19:07:33,960 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,960 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:33,960 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:33,960 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,960 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:33,960 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:33,961 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:33,961 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:33,960 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:33,961 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:33,977 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:34,040 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38288, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:34,040 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:34,056 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35370
    [junit] 2015-07-07 19:07:34,072 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:34,098 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:34,104 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:34,104 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:34,104 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:34,104 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:34,104 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:34,104 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:34,104 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:34,152 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:34,152 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:34,152 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:34,152 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:34,153 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:34,153 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:34,153 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:34,153 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:34,184 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33043, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:34,184 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:34,185 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:34,200 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38288
    [junit] 2015-07-07 19:07:34,216 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:34,216 [myid:1] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:34,216 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38288 (no session established for client)
    [junit] 2015-07-07 19:07:34,296 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:34,296 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:34,296 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:34,312 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42333
    [junit] 2015-07-07 19:07:34,328 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:34,328 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:34,328 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:34,328 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:34,328 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:34,328 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:34,328 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:34,329 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:34,328 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:34,329 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:34,360 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40009, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:34,360 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:34,376 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33043
    [junit] 2015-07-07 19:07:34,392 [myid:3] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:34,392 [myid:3] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:34,392 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33043 (no session established for client)
    [junit] 2015-07-07 19:07:34,441 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:34,489 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35374
    [junit] 2015-07-07 19:07:34,505 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:34,537 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:34,537 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:34,537 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:34,537 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:34,537 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:34,538 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:34,538 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:34,585 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:34,585 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:34,585 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:34,585 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:34,585 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:34,585 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:34,586 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:34,586 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:34,601 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40009
    [junit] 2015-07-07 19:07:34,617 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:34,617 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:34,617 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40009 (no session established for client)
    [junit] 2015-07-07 19:07:34,648 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:34,680 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39634, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:34,681 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:34,712 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40010
    [junit] 2015-07-07 19:07:34,728 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40010
    [junit] 2015-07-07 19:07:34,729 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40010 (no session established for client)
    [junit] 2015-07-07 19:07:34,793 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:34,793 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:34,793 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:34,809 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42338
    [junit] 2015-07-07 19:07:34,825 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:34,825 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:34,825 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:34,825 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:34,825 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:34,825 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:34,825 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:34,825 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:34,826 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:34,825 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:34,873 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:34,921 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39634
    [junit] 2015-07-07 19:07:34,937 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:34,937 [myid:0] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:34,938 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39634 (no session established for client)
    [junit] 2015-07-07 19:07:35,001 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35379
    [junit] 2015-07-07 19:07:35,017 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:35,049 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:35,049 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:35,049 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:35,049 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:35,049 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:35,050 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:35,050 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:35,097 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:35,097 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:35,097 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:35,097 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:35,098 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:35,098 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:35,098 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:35,098 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:35,145 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:35,235 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:35,259 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:35,259 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:35,259 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:35,275 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42341
    [junit] 2015-07-07 19:07:35,291 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,291 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:35,291 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:35,291 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:35,291 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:35,291 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,291 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:35,292 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,292 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:35,291 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:35,355 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35381
    [junit] 2015-07-07 19:07:35,371 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:35,403 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:35,403 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:35,403 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:35,403 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:35,403 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:35,404 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:35,404 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:35,451 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:35,451 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:35,451 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:35,451 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:35,452 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:35,452 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:35,452 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:35,452 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:35,531 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:35,531 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:35,536 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:35,551 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42343
    [junit] 2015-07-07 19:07:35,567 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,567 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:35,567 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:35,567 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:35,567 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,567 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:35,567 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:35,567 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:35,567 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:35,568 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,599 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40017
    [junit] 2015-07-07 19:07:35,615 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40017
    [junit] 2015-07-07 19:07:35,615 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40017 (no session established for client)
    [junit] 2015-07-07 19:07:35,631 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35384
    [junit] 2015-07-07 19:07:35,647 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:35,695 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:35,695 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:35,695 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:35,695 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:35,695 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:35,696 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:35,696 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:35,743 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:35,743 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:35,743 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:35,743 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:35,744 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:35,744 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:35,744 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:35,744 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:35,855 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:35,855 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:35,855 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:35,871 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42346
    [junit] 2015-07-07 19:07:35,887 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,887 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:35,887 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:35,887 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:35,888 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:35,888 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,888 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:35,888 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:35,888 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:35,887 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:35,946 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:35,951 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35386
    [junit] 2015-07-07 19:07:35,967 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:35,999 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:35,999 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:36,000 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:36,000 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:36,000 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:36,000 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:36,000 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:36,041 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:36,047 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:36,048 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:36,048 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:36,048 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:36,048 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:36,048 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:36,048 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:36,048 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:36,127 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:36,128 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:36,128 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:36,160 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42348
    [junit] 2015-07-07 19:07:36,176 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,176 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:36,176 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:36,176 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:36,176 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:36,176 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:36,176 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,176 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:36,176 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:36,176 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,208 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38306, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:36,208 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:36,224 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35388
    [junit] 2015-07-07 19:07:36,240 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:36,246 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:36,288 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:36,288 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:36,288 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:36,288 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:36,288 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:36,288 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:36,288 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:36,336 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:36,336 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:36,336 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:36,336 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:36,336 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:36,337 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:36,337 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:36,337 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:36,352 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38306
    [junit] 2015-07-07 19:07:36,368 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:36,368 [myid:1] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:36,369 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38306 (no session established for client)
    [junit] 2015-07-07 19:07:36,432 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40024
    [junit] 2015-07-07 19:07:36,448 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40024
    [junit] 2015-07-07 19:07:36,448 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40024 (no session established for client)
    [junit] 2015-07-07 19:07:36,480 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:36,480 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:36,480 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:36,496 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42352
    [junit] 2015-07-07 19:07:36,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:36,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:36,512 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:36,512 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:36,512 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,512 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:36,513 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,513 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:36,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:36,560 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:36,566 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:36,566 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:36,566 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:36,566 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:36,567 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:36,567 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 6400
    [junit] 2015-07-07 19:07:36,592 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33063, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:36,592 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:36,655 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35392
    [junit] 2015-07-07 19:07:36,671 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:36,704 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:36,704 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:36,704 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:36,704 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:36,704 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:36,704 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:36,704 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:36,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:36,752 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:36,752 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:36,752 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:36,752 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:36,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:36,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:36,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:36,800 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33063
    [junit] 2015-07-07 19:07:36,816 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:36,816 [myid:3] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:36,816 [myid:3] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33063 (no session established for client)
    [junit] 2015-07-07 19:07:36,880 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:36,890 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:36,912 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:36,912 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:36,912 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:36,912 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:36,912 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:36,912 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:36,913 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:36,913 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:36,913 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:36,913 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:36,928 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42355
    [junit] 2015-07-07 19:07:36,944 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,944 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:36,944 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:36,944 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:36,944 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:36,944 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,944 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:36,945 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:36,945 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:36,944 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:36,976 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:36,976 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:36,976 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:36,977 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:37,008 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:37,089 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35395
    [junit] 2015-07-07 19:07:37,105 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:37,153 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:37,154 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:37,154 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:37,154 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:37,154 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:37,154 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:37,154 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:37,201 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:37,202 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:37,202 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:37,202 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:37,202 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:37,202 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:37,202 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:37,202 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:37,216 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:37,267 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:37,267 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:37,283 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40031, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:37,283 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:37,347 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:37,348 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:37,348 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =3 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:37,348 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:37,395 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:37,395 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:37,396 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:37,411 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42357
    [junit] 2015-07-07 19:07:37,427 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:37,427 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:37,427 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:37,428 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:37,428 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:37,428 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:37,428 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:37,428 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:37,427 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:37,428 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:37,507 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40031
    [junit] 2015-07-07 19:07:37,523 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:37,523 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:37,523 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40031 (no session established for client)
    [junit] 2015-07-07 19:07:37,539 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40032
    [junit] 2015-07-07 19:07:37,555 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40032
    [junit] 2015-07-07 19:07:37,555 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40032 (no session established for client)
    [junit] 2015-07-07 19:07:37,603 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:37,604 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:37,619 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35399
    [junit] 2015-07-07 19:07:37,635 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:37,667 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:37,667 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:37,667 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:37,667 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:37,667 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:37,667 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:37,668 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:37,715 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:37,715 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:37,715 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:37,715 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:37,716 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:37,716 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:37,716 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:37,716 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:37,731 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39657, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:37,731 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:37,763 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:37,923 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:37,923 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:37,924 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:37,939 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42361
    [junit] 2015-07-07 19:07:37,955 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:37,956 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:37,956 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:37,956 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:37,956 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:37,956 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:37,956 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:37,956 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:37,956 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:37,956 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:37,987 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39657
    [junit] 2015-07-07 19:07:38,004 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:38,004 [myid:0] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:38,004 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39657 (no session established for client)
    [junit] 2015-07-07 19:07:38,067 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35402
    [junit] 2015-07-07 19:07:38,077 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:38,083 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:38,115 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:38,115 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:38,115 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:38,116 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:38,116 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:38,116 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:38,116 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:38,163 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:38,163 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:38,163 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:38,164 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:38,164 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:38,164 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:38,164 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:38,164 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:38,195 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:38,291 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:38,291 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:38,292 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:38,307 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42364
    [junit] 2015-07-07 19:07:38,323 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,323 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:38,324 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:38,324 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:38,324 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:38,324 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,324 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:38,324 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,324 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:38,324 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:38,387 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35404
    [junit] 2015-07-07 19:07:38,403 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:38,435 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:38,435 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:38,435 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:38,435 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:38,435 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:38,436 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:38,436 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:38,483 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:38,483 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:38,483 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:38,484 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:38,484 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:38,484 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:38,484 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:38,484 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:38,499 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40039
    [junit] 2015-07-07 19:07:38,515 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40039
    [junit] 2015-07-07 19:07:38,516 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40039 (no session established for client)
    [junit] 2015-07-07 19:07:38,579 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:38,580 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:38,580 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:38,596 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42367
    [junit] 2015-07-07 19:07:38,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:38,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:38,612 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:38,612 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:38,612 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,612 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:38,612 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,612 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:38,612 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:38,641 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:38,689 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:38,692 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35407
    [junit] 2015-07-07 19:07:38,708 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:38,740 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:38,740 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:38,740 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:38,740 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:38,740 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:38,741 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:38,741 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:38,788 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:38,788 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:38,788 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:38,788 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:38,788 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:38,788 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:38,789 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:38,789 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:38,915 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:38,916 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:38,916 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:38,926 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:38,932 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42369
    [junit] 2015-07-07 19:07:38,948 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,948 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:38,948 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:38,948 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:38,948 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:38,949 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,949 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:38,948 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:38,950 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:38,950 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:38,982 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38327, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:38,982 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:38,998 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33081, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:38,998 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:39,014 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35409
    [junit] 2015-07-07 19:07:39,030 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:39,079 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:39,079 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:39,079 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:39,079 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:39,079 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:39,079 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:39,079 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:39,127 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:39,127 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:39,127 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:39,127 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:39,127 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:39,127 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:39,127 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:39,128 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:39,143 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38327
    [junit] 2015-07-07 19:07:39,159 [myid:1] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:39,159 [myid:1] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:39,159 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38327 (no session established for client)
    [junit] 2015-07-07 19:07:39,175 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33081
    [junit] 2015-07-07 19:07:39,191 [myid:3] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:39,191 [myid:3] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:39,191 [myid:3] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33081 (no session established for client)
    [junit] 2015-07-07 19:07:39,271 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:39,271 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:39,271 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:39,286 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42373
    [junit] 2015-07-07 19:07:39,302 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:39,303 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:39,303 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:39,303 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:39,303 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:39,303 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:39,303 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:39,303 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:39,303 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:39,303 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:39,351 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:39,399 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:39,431 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40047
    [junit] 2015-07-07 19:07:39,447 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40047
    [junit] 2015-07-07 19:07:39,447 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40047 (no session established for client)
    [junit] 2015-07-07 19:07:39,463 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35414
    [junit] 2015-07-07 19:07:39,479 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:39,511 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:39,512 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:39,512 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:39,512 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:39,512 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:39,512 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:39,512 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:39,512 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:39,560 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:39,560 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:39,560 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:39,560 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:39,561 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:39,561 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:39,561 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:39,561 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:39,755 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:39,755 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:39,755 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:39,771 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42376
    [junit] 2015-07-07 19:07:39,787 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:39,787 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:39,787 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:39,787 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:39,788 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:39,788 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:39,787 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:39,788 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:39,788 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:39,787 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:39,851 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40051, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:39,852 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:39,868 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35416
    [junit] 2015-07-07 19:07:39,884 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:39,916 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:39,916 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:39,916 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:39,916 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:39,916 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:39,917 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:39,917 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:39,924 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:39,957 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:39,964 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:39,964 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:39,964 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:39,964 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:39,964 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:39,964 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:39,964 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:39,965 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:39,980 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40051
    [junit] 2015-07-07 19:07:39,996 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:39,996 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:39,996 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40051 (no session established for client)
    [junit] 2015-07-07 19:07:40,076 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:40,076 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:40,076 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:40,108 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42379
    [junit] 2015-07-07 19:07:40,124 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,124 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:40,124 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:40,124 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,124 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:40,124 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:40,124 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:40,124 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,124 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:40,125 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:40,174 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:40,222 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35419
    [junit] 2015-07-07 19:07:40,239 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:40,255 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39677, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:40,255 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:40,287 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:40,287 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:40,288 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:40,288 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:40,288 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:40,288 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:40,288 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:40,335 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:40,335 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:40,335 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:40,336 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:40,336 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:40,336 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:40,336 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:40,336 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:40,368 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40054
    [junit] 2015-07-07 19:07:40,384 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40054
    [junit] 2015-07-07 19:07:40,384 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40054 (no session established for client)
    [junit] 2015-07-07 19:07:40,432 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39677
    [junit] 2015-07-07 19:07:40,448 [myid:0] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:40,448 [myid:0] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:40,448 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39677 (no session established for client)
    [junit] 2015-07-07 19:07:40,480 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:40,480 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:40,480 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:40,496 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42383
    [junit] 2015-07-07 19:07:40,505 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:40,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:40,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:40,512 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:40,512 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,512 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:40,512 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:40,512 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:40,512 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,512 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:40,608 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:40,640 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35423
    [junit] 2015-07-07 19:07:40,656 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:40,704 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:40,704 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:40,704 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:40,704 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:40,704 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:40,704 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:40,704 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:40,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:40,752 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:40,752 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:40,752 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:40,752 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:40,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:40,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:40,752 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:40,826 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:40,848 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38342, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:40,848 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:40,880 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:40,880 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:40,880 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:40,889 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:40,896 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42385
    [junit] 2015-07-07 19:07:40,912 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,912 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:40,912 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:40,912 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,912 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:40,912 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:40,912 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:40,912 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:40,913 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:40,912 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:40,960 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38342
    [junit] 2015-07-07 19:07:40,976 [myid:1] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:40,976 [myid:1] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:40,976 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38342 (no session established for client)
    [junit] 2015-07-07 19:07:40,992 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35426
    [junit] 2015-07-07 19:07:41,008 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:41,056 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:41,056 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:41,056 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:41,056 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:41,056 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:41,056 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:41,056 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:41,104 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:41,104 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:41,104 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:41,104 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:41,104 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:41,104 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:41,104 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:41,104 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:41,151 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:41,215 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33099, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:41,215 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:41,247 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:41,247 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:41,248 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:41,263 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42388
    [junit] 2015-07-07 19:07:41,280 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,280 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:41,280 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:41,280 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,280 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:41,280 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:41,281 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:41,281 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,280 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:41,281 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:41,312 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40062
    [junit] 2015-07-07 19:07:41,328 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40062
    [junit] 2015-07-07 19:07:41,328 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40062 (no session established for client)
    [junit] 2015-07-07 19:07:41,360 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33099
    [junit] 2015-07-07 19:07:41,377 [myid:3] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:41,378 [myid:3] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:41,378 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33099 (no session established for client)
    [junit] 2015-07-07 19:07:41,393 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35430
    [junit] 2015-07-07 19:07:41,409 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:41,441 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:41,441 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:41,442 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:41,442 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:41,442 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:41,442 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:41,442 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:41,489 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:41,489 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:41,489 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:41,489 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:41,490 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:41,490 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:41,490 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:41,490 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:41,572 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:41,653 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:41,654 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:41,654 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:41,670 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42392
    [junit] 2015-07-07 19:07:41,686 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,686 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:41,686 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:41,686 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,686 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:41,686 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:41,687 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:41,687 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,686 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:41,687 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:41,766 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35432
    [junit] 2015-07-07 19:07:41,781 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:41,783 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:41,788 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:41,815 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:41,815 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:41,815 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:41,815 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:41,815 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:41,815 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:41,815 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:41,862 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:41,863 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:41,863 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:41,863 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:41,863 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:41,863 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:41,863 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:41,863 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:41,959 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:41,959 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:41,959 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:41,975 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42395
    [junit] 2015-07-07 19:07:41,991 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,991 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:41,991 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:41,991 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:41,991 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:41,991 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,991 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:41,992 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:41,992 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:41,991 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:42,001 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:42,023 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40070, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:42,023 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:42,055 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35435
    [junit] 2015-07-07 19:07:42,071 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:42,103 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:42,103 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:42,103 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:42,103 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:42,103 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:42,103 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:42,103 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:42,167 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:42,167 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:42,167 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:42,167 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:42,168 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:42,168 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:42,169 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:42,169 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:42,184 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40070
    [junit] 2015-07-07 19:07:42,200 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:42,200 [myid:2] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:42,200 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40070 (no session established for client)
    [junit] 2015-07-07 19:07:42,216 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40071
    [junit] 2015-07-07 19:07:42,232 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40071
    [junit] 2015-07-07 19:07:42,232 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40071 (no session established for client)
    [junit] 2015-07-07 19:07:42,296 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:42,296 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:42,296 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:42,312 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39696, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:42,312 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:42,328 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42399
    [junit] 2015-07-07 19:07:42,344 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:42,344 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:42,344 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:42,344 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:42,344 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:42,344 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:42,344 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:42,345 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:42,345 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:42,344 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:42,392 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:42,472 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35439
    [junit] 2015-07-07 19:07:42,488 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:42,504 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39696
    [junit] 2015-07-07 19:07:42,520 [myid:0] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:42,520 [myid:0] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:42,520 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39696 (no session established for client)
    [junit] 2015-07-07 19:07:42,552 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:42,552 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:42,552 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:42,552 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:42,552 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:42,553 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:42,553 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:42,590 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:42,601 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:42,601 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:42,601 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:42,601 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:42,602 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:42,602 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:42,602 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:42,602 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:42,706 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:42,713 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:42,760 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:42,761 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:42,761 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:42,792 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42402
    [junit] 2015-07-07 19:07:42,808 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:42,808 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:42,808 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:42,809 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:42,809 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:42,809 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:42,809 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:42,809 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:42,809 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:42,809 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:42,872 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35442
    [junit] 2015-07-07 19:07:42,888 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:42,904 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38360, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:42,904 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:42,936 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:42,936 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:42,937 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:42,937 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:42,937 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:42,937 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:42,937 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:42,984 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:42,985 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:42,985 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:42,985 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:42,985 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:42,985 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:42,985 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:42,985 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:43,049 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38360
    [junit] 2015-07-07 19:07:43,065 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:43,065 [myid:1] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:43,065 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38360 (no session established for client)
    [junit] 2015-07-07 19:07:43,092 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:43,097 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:43,097 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:43,097 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:43,113 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42405
    [junit] 2015-07-07 19:07:43,129 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,129 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:43,129 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:43,129 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:43,129 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:43,129 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,129 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:43,129 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:43,130 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,129 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:43,161 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40079
    [junit] 2015-07-07 19:07:43,177 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40079
    [junit] 2015-07-07 19:07:43,177 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40079 (no session established for client)
    [junit] 2015-07-07 19:07:43,209 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:43,257 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35446
    [junit] 2015-07-07 19:07:43,273 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:43,305 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:43,305 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:43,305 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:43,305 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:43,305 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:43,306 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:43,306 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:43,353 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:43,353 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:43,353 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:43,353 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:43,354 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:43,354 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:43,354 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:43,354 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:43,433 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33118, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:43,433 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:43,497 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:43,497 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:43,498 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:43,513 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42408
    [junit] 2015-07-07 19:07:43,529 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,529 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:43,529 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:43,530 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,530 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:43,529 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:43,530 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:43,530 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,529 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:43,530 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:43,532 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:43,593 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33118
    [junit] 2015-07-07 19:07:43,609 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:43,609 [myid:3] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:43,609 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33118 (no session established for client)
    [junit] 2015-07-07 19:07:43,625 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35449
    [junit] 2015-07-07 19:07:43,641 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:43,652 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:43,673 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:43,674 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:43,674 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:43,674 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:43,674 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:43,674 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:43,674 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:43,738 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:43,738 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:43,738 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:43,738 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:43,738 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:43,738 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:43,738 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:43,739 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:43,769 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:43,866 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:43,866 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:43,866 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:43,882 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40086, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:43,882 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:43,898 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42411
    [junit] 2015-07-07 19:07:43,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:43,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:43,914 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:43,914 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:43,914 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,914 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:43,914 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:43,914 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:43,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:43,978 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35451
    [junit] 2015-07-07 19:07:43,994 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:44,004 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:44,004 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:44,004 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:44,004 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:44,004 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:44,004 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 12800
    [junit] 2015-07-07 19:07:44,010 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40086
    [junit] 2015-07-07 19:07:44,026 [myid:2] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:44,026 [myid:2] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:44,026 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40086 (no session established for client)
    [junit] 2015-07-07 19:07:44,058 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:44,058 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:44,058 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:44,058 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:44,058 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:44,059 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:44,059 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:44,107 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:44,107 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:44,107 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:44,107 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:44,108 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:44,108 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:44,108 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:44,108 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:44,123 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40087
    [junit] 2015-07-07 19:07:44,139 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40087
    [junit] 2015-07-07 19:07:44,139 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40087 (no session established for client)
    [junit] 2015-07-07 19:07:44,219 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:44,267 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:44,267 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:44,267 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:44,267 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:44,268 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:44,268 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:44,268 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:44,268 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:44,268 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:44,268 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:44,283 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42415
    [junit] 2015-07-07 19:07:44,288 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:44,299 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:44,299 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:44,299 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:44,300 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:44,300 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:44,299 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:44,300 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:44,300 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:44,299 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:44,300 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:44,380 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:44,380 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:44,380 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:44,380 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:44,443 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35455
    [junit] 2015-07-07 19:07:44,459 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:44,524 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:44,524 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:44,524 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:44,524 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:44,524 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:44,524 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:44,525 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:44,532 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:44,572 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:44,572 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:44,572 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:44,572 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:44,572 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:44,573 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:44,573 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:44,573 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:44,614 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:44,652 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:44,652 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:44,700 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:44,700 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:44,700 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =3 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:44,700 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:44,716 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39713, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:44,716 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:44,780 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:44,780 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:44,780 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:44,796 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42417
    [junit] 2015-07-07 19:07:44,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:44,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:44,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:44,812 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:44,812 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:44,812 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:44,812 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:44,812 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:44,812 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:44,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:44,924 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39713
    [junit] 2015-07-07 19:07:44,940 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:44,940 [myid:0] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:44,940 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39713 (no session established for client)
    [junit] 2015-07-07 19:07:44,956 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:44,956 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:44,972 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38376, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:44,972 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:44,988 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35458
    [junit] 2015-07-07 19:07:45,004 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:45,036 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:45,036 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:45,036 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:45,036 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:45,036 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:45,036 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:45,036 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:45,084 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:45,084 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:45,084 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:45,084 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:45,084 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:45,084 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:45,084 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:45,085 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:45,085 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:45,085 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:45,085 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:45,085 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:45,085 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:45,085 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:45,085 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:45,085 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:45,148 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:45,190 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:45,195 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38376
    [junit] 2015-07-07 19:07:45,211 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:45,212 [myid:1] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:45,212 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38376 (no session established for client)
    [junit] 2015-07-07 19:07:45,275 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:45,276 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:45,276 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:45,292 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42421
    [junit] 2015-07-07 19:07:45,308 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:45,308 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:45,308 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:45,308 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:45,308 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:45,308 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:45,308 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:45,308 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:45,308 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:45,309 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:45,340 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40095
    [junit] 2015-07-07 19:07:45,356 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40095
    [junit] 2015-07-07 19:07:45,356 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40095 (no session established for client)
    [junit] 2015-07-07 19:07:45,420 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:45,452 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35462
    [junit] 2015-07-07 19:07:45,468 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:45,500 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:45,500 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:45,500 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:45,500 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:45,500 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:45,500 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:45,501 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:45,533 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:45,548 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:45,548 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:45,548 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:45,548 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:45,548 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:45,548 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:45,549 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:45,549 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:45,612 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33134, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:45,612 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:45,693 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:45,693 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:45,694 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:45,725 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42424
    [junit] 2015-07-07 19:07:45,741 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:45,741 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:45,741 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:45,741 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:45,742 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:45,742 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:45,742 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:45,742 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:45,742 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:45,741 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:45,805 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33134
    [junit] 2015-07-07 19:07:45,821 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:45,821 [myid:3] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:45,821 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33134 (no session established for client)
    [junit] 2015-07-07 19:07:45,837 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35465
    [junit] 2015-07-07 19:07:45,846 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:45,853 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:45,869 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40100, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:45,869 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:45,901 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:45,901 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:45,901 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:45,901 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:45,901 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:45,901 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:45,901 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:45,949 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:45,949 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:45,950 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:45,950 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:45,950 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:45,950 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:45,982 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:46,062 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40100
    [junit] 2015-07-07 19:07:46,079 [myid:2] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:46,079 [myid:2] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:46,079 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40100 (no session established for client)
    [junit] 2015-07-07 19:07:46,110 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:46,111 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:46,111 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:46,127 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42428
    [junit] 2015-07-07 19:07:46,143 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,143 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:46,143 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:46,143 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,143 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:46,143 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:46,143 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:46,143 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:46,143 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,143 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:46,223 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:46,255 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35468
    [junit] 2015-07-07 19:07:46,271 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:46,303 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:46,303 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:46,303 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:46,303 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:46,303 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:46,303 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:46,303 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:46,351 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:46,351 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:46,351 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:46,351 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:46,351 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:46,351 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:46,367 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40103
    [junit] 2015-07-07 19:07:46,383 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40103
    [junit] 2015-07-07 19:07:46,383 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40103 (no session established for client)
    [junit] 2015-07-07 19:07:46,459 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:46,463 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:46,463 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:46,463 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:46,479 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42431
    [junit] 2015-07-07 19:07:46,495 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,496 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:46,496 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:46,496 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:46,496 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,496 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:46,496 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:46,496 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:46,496 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,496 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:46,591 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35471
    [junit] 2015-07-07 19:07:46,608 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:46,640 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:46,640 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:46,640 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:46,640 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:46,640 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:46,640 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:46,640 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:46,688 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:46,688 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:46,688 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:46,688 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:46,688 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:46,688 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:46,735 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39729, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:46,736 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:46,800 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:46,800 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:46,800 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:46,810 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:46,815 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42433
    [junit] 2015-07-07 19:07:46,831 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,832 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:46,832 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:46,832 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,832 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:46,832 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:46,832 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:46,832 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:46,832 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:46,832 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:46,863 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39729
    [junit] 2015-07-07 19:07:46,879 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:46,879 [myid:0] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:46,880 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39729 (no session established for client)
    [junit] 2015-07-07 19:07:46,896 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35474
    [junit] 2015-07-07 19:07:46,909 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:46,912 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:46,960 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:46,960 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:46,960 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:46,960 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:46,960 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:46,961 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:46,961 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:47,008 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:47,008 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:47,009 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:47,009 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:47,009 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:47,009 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:47,040 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:47,152 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:47,152 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:47,152 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:47,168 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42436
    [junit] 2015-07-07 19:07:47,184 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,185 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:47,185 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:47,185 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:47,185 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:47,185 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,185 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:47,185 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:47,185 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,185 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:47,232 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38395, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:47,232 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:47,248 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40110
    [junit] 2015-07-07 19:07:47,265 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40110
    [junit] 2015-07-07 19:07:47,265 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40110 (no session established for client)
    [junit] 2015-07-07 19:07:47,280 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35477
    [junit] 2015-07-07 19:07:47,296 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:47,328 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:47,329 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:47,329 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:47,329 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:47,329 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:47,329 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:47,329 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:47,376 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:47,376 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:47,377 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:47,377 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:47,377 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:47,377 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:47,377 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:47,377 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:47,392 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38395
    [junit] 2015-07-07 19:07:47,409 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:47,409 [myid:1] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:47,409 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38395 (no session established for client)
    [junit] 2015-07-07 19:07:47,521 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:47,522 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:47,522 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:47,537 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42440
    [junit] 2015-07-07 19:07:47,554 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,554 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:47,554 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:47,554 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:47,554 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:47,554 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,554 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:47,554 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:47,554 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:47,554 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,602 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:47,666 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35480
    [junit] 2015-07-07 19:07:47,683 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:47,707 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:47,715 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:47,715 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:47,715 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:47,715 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:47,715 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:47,715 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:47,715 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:47,763 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:47,763 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:47,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:47,763 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:47,764 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:47,764 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:47,764 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:47,764 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:47,859 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:47,859 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:47,859 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:47,875 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42442
    [junit] 2015-07-07 19:07:47,891 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,891 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:47,891 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:47,891 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,891 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:47,892 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:47,892 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:47,891 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:47,891 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:47,892 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:47,940 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35482
    [junit] 2015-07-07 19:07:47,956 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:47,988 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:47,988 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:47,988 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:47,988 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:47,988 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:47,989 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:47,989 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:48,036 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:48,036 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:48,036 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:48,036 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:48,037 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:48,037 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:48,037 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:48,037 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:48,052 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40117
    [junit] 2015-07-07 19:07:48,068 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40117
    [junit] 2015-07-07 19:07:48,068 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40117 (no session established for client)
    [junit] 2015-07-07 19:07:48,070 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:48,132 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:48,133 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:48,133 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:48,149 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42445
    [junit] 2015-07-07 19:07:48,165 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,165 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:48,165 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:48,165 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:48,165 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:48,165 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:48,165 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,165 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:48,166 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,166 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:48,224 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:48,260 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35485
    [junit] 2015-07-07 19:07:48,276 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:48,313 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:48,340 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:48,341 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:48,341 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:48,341 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:48,341 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:48,341 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:48,341 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:48,356 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:48,356 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:48,356 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:48,357 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:48,357 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:48,357 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:48,357 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:48,357 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:48,421 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33157, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:48,421 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:48,479 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:48,485 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:48,485 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:48,486 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:48,517 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42447
    [junit] 2015-07-07 19:07:48,534 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,534 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:48,534 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:48,534 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:48,534 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:48,534 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,534 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:48,534 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:48,534 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,534 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:48,566 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39745, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:48,566 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:48,582 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33157
    [junit] 2015-07-07 19:07:48,598 [myid:3] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:48,598 [myid:3] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:48,598 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33157 (no session established for client)
    [junit] 2015-07-07 19:07:48,614 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40124, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:48,614 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:48,646 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35488
    [junit] 2015-07-07 19:07:48,662 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:48,695 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:48,695 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:48,695 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:48,695 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:48,695 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:48,695 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:48,695 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:48,742 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:48,743 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:48,743 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:48,743 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:48,743 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:48,743 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:48,743 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:48,743 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:48,759 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39745
    [junit] 2015-07-07 19:07:48,775 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:48,775 [myid:0] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:48,775 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39745 (no session established for client)
    [junit] 2015-07-07 19:07:48,807 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:48,839 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40124
    [junit] 2015-07-07 19:07:48,855 [myid:2] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:48,855 [myid:2] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:48,855 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40124 (no session established for client)
    [junit] 2015-07-07 19:07:48,899 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:48,935 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:48,936 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:48,936 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:48,951 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42452
    [junit] 2015-07-07 19:07:48,968 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,968 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:48,968 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:48,968 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:48,968 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:48,968 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,968 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:48,968 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:48,968 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:48,968 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:49,015 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:49,095 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:49,127 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40126
    [junit] 2015-07-07 19:07:49,143 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40126
    [junit] 2015-07-07 19:07:49,143 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40126 (no session established for client)
    [junit] 2015-07-07 19:07:49,175 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35493
    [junit] 2015-07-07 19:07:49,191 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:49,223 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:49,224 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:49,224 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:49,224 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:49,224 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:49,224 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:49,224 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:49,271 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:49,271 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:49,271 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:49,272 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:49,272 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:49,272 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:49,272 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:49,272 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:49,383 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38412, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:49,383 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:49,447 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:49,447 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:49,448 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:49,463 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42455
    [junit] 2015-07-07 19:07:49,479 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:49,479 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:49,479 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:49,479 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:49,480 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:49,480 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:49,479 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:49,480 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:49,480 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:49,480 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:49,543 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38412
    [junit] 2015-07-07 19:07:49,560 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:49,560 [myid:1] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:49,560 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38412 (no session established for client)
    [junit] 2015-07-07 19:07:49,575 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35496
    [junit] 2015-07-07 19:07:49,592 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:49,617 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:49,624 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:49,624 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:49,624 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:49,624 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:49,624 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:49,624 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:49,624 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:49,672 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:49,672 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:49,672 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:49,672 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:49,673 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:49,673 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:49,673 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:49,673 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:49,704 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:49,800 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:49,800 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:49,800 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:49,816 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42458
    [junit] 2015-07-07 19:07:49,832 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:49,832 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:49,832 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:49,832 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:49,832 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:49,832 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:49,832 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:49,832 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:49,832 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:49,832 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:49,896 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35499
    [junit] 2015-07-07 19:07:49,912 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:49,944 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:49,944 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:49,944 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:49,944 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:49,944 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:49,944 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:49,944 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:49,992 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:49,992 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:49,993 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:49,993 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:49,993 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:49,993 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:49,993 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:49,993 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:50,009 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40134
    [junit] 2015-07-07 19:07:50,026 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40134
    [junit] 2015-07-07 19:07:50,026 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40134 (no session established for client)
    [junit] 2015-07-07 19:07:50,090 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:50,090 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:50,090 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:50,106 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42462
    [junit] 2015-07-07 19:07:50,123 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,123 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:50,123 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:50,123 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,123 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:50,123 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:50,123 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:50,123 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,123 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:50,124 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:50,203 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35502
    [junit] 2015-07-07 19:07:50,219 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:50,251 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:50,251 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:50,251 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:50,251 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:50,251 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:50,251 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:50,251 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:50,298 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:50,299 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:50,299 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:50,299 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:50,299 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:50,299 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:50,299 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:50,299 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:50,395 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:50,396 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:50,396 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:50,412 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42464
    [junit] 2015-07-07 19:07:50,428 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,428 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:50,428 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:50,428 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:50,428 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:50,428 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,428 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:50,428 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:50,428 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,428 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:50,437 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:50,460 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35504
    [junit] 2015-07-07 19:07:50,476 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:50,508 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:50,508 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:50,508 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:50,508 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:50,508 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:50,508 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:50,508 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:50,571 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:50,572 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:50,572 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:50,572 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:50,572 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:50,572 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:50,572 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:50,572 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:50,602 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:50,635 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:50,636 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:50,640 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:50,668 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42466
    [junit] 2015-07-07 19:07:50,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:50,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:50,684 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:50,684 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,684 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:50,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:50,684 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:50,684 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:50,685 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:50,685 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:50,731 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35506
    [junit] 2015-07-07 19:07:50,747 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:50,763 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40141
    [junit] 2015-07-07 19:07:50,779 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40141
    [junit] 2015-07-07 19:07:50,779 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40141 (no session established for client)
    [junit] 2015-07-07 19:07:50,811 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:50,811 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:50,811 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:50,811 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:50,812 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:50,812 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:50,812 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:50,837 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:50,875 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:50,875 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:50,875 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:50,876 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:50,876 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:50,876 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:50,876 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:50,876 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:50,891 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40143, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:50,891 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:50,914 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:51,019 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:51,020 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:51,020 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:51,035 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39767, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:51,036 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:51,051 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42469
    [junit] 2015-07-07 19:07:51,068 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:51,068 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:51,068 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:51,068 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:51,068 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:51,068 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:51,068 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:51,068 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:51,068 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:51,068 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:51,100 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40143
    [junit] 2015-07-07 19:07:51,116 [myid:2] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:51,116 [myid:2] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:51,116 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40143 (no session established for client)
    [junit] 2015-07-07 19:07:51,180 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33182, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:51,180 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:51,196 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35510
    [junit] 2015-07-07 19:07:51,212 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:51,221 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:51,228 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39767
    [junit] 2015-07-07 19:07:51,244 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:51,244 [myid:0] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:51,244 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39767 (no session established for client)
    [junit] 2015-07-07 19:07:51,276 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:51,276 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:51,276 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:51,276 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:51,276 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:51,276 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:51,276 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:51,324 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:51,324 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:51,324 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:51,324 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:51,324 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:51,324 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:51,324 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:51,324 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:51,356 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:51,388 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38431, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:51,388 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:51,404 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33182
    [junit] 2015-07-07 19:07:51,420 [myid:3] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:51,420 [myid:3] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:51,420 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33182 (no session established for client)
    [junit] 2015-07-07 19:07:51,500 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:51,548 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:51,548 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:51,548 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:51,564 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42474
    [junit] 2015-07-07 19:07:51,580 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:51,580 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:51,580 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:51,580 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:51,580 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:51,580 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:51,580 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:51,580 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:51,580 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:51,580 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:51,628 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38431
    [junit] 2015-07-07 19:07:51,644 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:51,644 [myid:1] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:51,644 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38431 (no session established for client)
    [junit] 2015-07-07 19:07:51,676 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:51,740 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35515
    [junit] 2015-07-07 19:07:51,756 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:51,788 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:51,788 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:51,788 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:51,788 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:51,788 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:51,789 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:51,789 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:51,837 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:51,837 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:51,837 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:51,837 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:51,837 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:51,837 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:51,838 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:51,838 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:51,870 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:51,920 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40150
    [junit] 2015-07-07 19:07:51,937 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40150
    [junit] 2015-07-07 19:07:51,937 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40150 (no session established for client)
    [junit] 2015-07-07 19:07:52,001 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:52,001 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:52,001 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:52,017 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42478
    [junit] 2015-07-07 19:07:52,033 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,033 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:52,033 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:52,033 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:52,033 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:52,033 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:52,034 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:52,034 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,034 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:52,034 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,129 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35518
    [junit] 2015-07-07 19:07:52,145 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:52,177 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:52,177 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:52,177 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:52,177 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:52,177 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:52,177 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:52,177 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:52,225 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:52,225 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:52,225 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:52,225 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:52,225 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:52,225 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:52,226 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:52,226 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:52,321 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:52,321 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:52,322 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:52,337 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42480
    [junit] 2015-07-07 19:07:52,353 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,353 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:52,353 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:52,353 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:52,353 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:52,353 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,353 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:52,354 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,354 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:52,353 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:52,363 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:52,385 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35520
    [junit] 2015-07-07 19:07:52,401 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:52,433 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:52,434 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:52,434 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:52,434 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:52,434 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:52,434 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:52,434 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:52,497 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:52,497 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:52,497 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:52,497 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:52,498 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:52,498 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:52,498 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:52,498 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:52,561 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:52,561 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:52,562 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:52,593 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42482
    [junit] 2015-07-07 19:07:52,609 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,609 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:52,610 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:52,610 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:52,610 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:52,610 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,610 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:52,610 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:52,610 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:52,610 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,641 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35522
    [junit] 2015-07-07 19:07:52,657 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:52,673 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40157
    [junit] 2015-07-07 19:07:52,689 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40157
    [junit] 2015-07-07 19:07:52,690 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40157 (no session established for client)
    [junit] 2015-07-07 19:07:52,721 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:52,721 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:52,721 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:52,721 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:52,721 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:52,722 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:52,722 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:52,769 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:52,769 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:52,769 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:52,769 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:52,770 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:52,770 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:52,770 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:52,770 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:52,779 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:52,882 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:52,882 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:52,882 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:52,898 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42485
    [junit] 2015-07-07 19:07:52,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:52,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:52,914 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:52,915 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,915 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:52,915 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:52,915 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:52,915 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:52,914 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:52,995 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35525
    [junit] 2015-07-07 19:07:53,011 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:53,059 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:53,059 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:53,059 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:53,059 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:53,059 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:53,059 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:53,059 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:53,091 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:53,091 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:53,091 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:53,091 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:53,091 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:53,091 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:53,091 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:53,092 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:53,100 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:53,107 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40161, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:53,107 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:53,171 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:53,171 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:53,171 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:53,187 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42487
    [junit] 2015-07-07 19:07:53,203 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:53,203 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:53,203 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:53,203 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:53,203 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:53,203 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:53,203 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:53,204 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:53,204 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:53,204 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:53,218 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:53,251 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40161
    [junit] 2015-07-07 19:07:53,267 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:53,267 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:53,268 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40161 (no session established for client)
    [junit] 2015-07-07 19:07:53,283 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35528
    [junit] 2015-07-07 19:07:53,299 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:53,331 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:53,331 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:53,331 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:53,332 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:53,332 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:53,332 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:53,332 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:53,395 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:53,395 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:53,395 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:53,396 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:53,396 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:53,396 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:53,396 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:53,396 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:53,427 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:53,443 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:53,523 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:53,523 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:53,524 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:53,539 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33202, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:53,539 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:53,555 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42490
    [junit] 2015-07-07 19:07:53,572 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:53,572 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:53,572 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:53,572 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:53,572 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:53,572 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:53,572 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:53,572 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:53,572 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:53,572 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:53,603 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40164
    [junit] 2015-07-07 19:07:53,619 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40164
    [junit] 2015-07-07 19:07:53,619 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40164 (no session established for client)
    [junit] 2015-07-07 19:07:53,667 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35531
    [junit] 2015-07-07 19:07:53,684 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:53,694 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:53,700 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33202
    [junit] 2015-07-07 19:07:53,716 [myid:3] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:53,716 [myid:3] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:53,716 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33202 (no session established for client)
    [junit] 2015-07-07 19:07:53,747 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:53,748 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:53,748 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:53,748 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:53,748 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:53,748 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:53,748 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:53,795 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:53,796 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:53,796 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:53,796 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:53,796 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:53,796 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:53,796 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:53,796 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:53,860 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39790, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:53,860 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:53,940 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:53,988 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:53,988 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:53,989 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:54,004 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42494
    [junit] 2015-07-07 19:07:54,022 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,022 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:54,022 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:54,022 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:54,022 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:54,022 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:54,022 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,022 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,022 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:54,022 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:54,086 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39790
    [junit] 2015-07-07 19:07:54,094 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:54,102 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:54,102 [myid:0] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:54,102 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39790 (no session established for client)
    [junit] 2015-07-07 19:07:54,118 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38453, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:54,118 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:54,150 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35535
    [junit] 2015-07-07 19:07:54,166 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:54,198 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:54,198 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:54,198 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:54,198 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:54,198 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:54,198 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:54,198 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:54,246 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:54,246 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:54,246 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:54,246 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:54,246 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:54,246 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:54,247 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:54,247 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:54,294 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:54,326 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38453
    [junit] 2015-07-07 19:07:54,342 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:54,342 [myid:1] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:54,342 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38453 (no session established for client)
    [junit] 2015-07-07 19:07:54,406 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:54,406 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:54,406 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:54,422 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42498
    [junit] 2015-07-07 19:07:54,438 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,438 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:54,438 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:54,439 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:54,439 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:54,438 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:54,439 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,439 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:54,439 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:54,440 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,518 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:54,551 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35538
    [junit] 2015-07-07 19:07:54,567 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:54,599 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:54,599 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:54,599 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:54,599 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:54,599 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:54,599 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:54,599 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:54,647 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:54,647 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:54,647 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:54,647 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:54,648 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:54,648 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:54,648 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:54,648 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:54,663 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40173
    [junit] 2015-07-07 19:07:54,679 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40173
    [junit] 2015-07-07 19:07:54,679 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40173 (no session established for client)
    [junit] 2015-07-07 19:07:54,760 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:54,760 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:54,760 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:54,776 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42501
    [junit] 2015-07-07 19:07:54,792 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,792 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:54,792 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:54,792 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:54,793 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,793 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:54,792 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:54,792 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:54,793 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:54,793 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:54,854 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:54,872 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35541
    [junit] 2015-07-07 19:07:54,888 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:54,920 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:54,921 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:54,921 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:54,921 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:54,921 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:54,922 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:54,922 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:54,968 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:54,968 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:54,968 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:54,968 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:54,968 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:54,968 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:54,968 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:54,968 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:55,080 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:55,080 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:55,080 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:55,096 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42503
    [junit] 2015-07-07 19:07:55,106 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:55,112 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,112 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:55,112 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:55,112 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:55,112 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:55,112 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,112 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:55,112 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:55,112 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,112 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:55,144 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40178, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:55,144 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:55,160 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35543
    [junit] 2015-07-07 19:07:55,176 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:55,224 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:55,224 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:55,224 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:55,224 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:55,224 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:55,224 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:55,224 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:55,271 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:55,272 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:55,272 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:55,272 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:55,272 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:55,272 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:55,272 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:55,272 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:55,288 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40178
    [junit] 2015-07-07 19:07:55,304 [myid:2] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:55,304 [myid:2] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:55,304 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40178 (no session established for client)
    [junit] 2015-07-07 19:07:55,384 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:55,385 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:55,385 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:55,400 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42506
    [junit] 2015-07-07 19:07:55,405 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:55,417 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,417 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:55,417 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:55,417 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:55,417 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:55,417 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:55,417 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,417 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:55,417 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,417 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:55,465 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:55,496 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40180
    [junit] 2015-07-07 19:07:55,512 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40180
    [junit] 2015-07-07 19:07:55,512 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40180 (no session established for client)
    [junit] 2015-07-07 19:07:55,528 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35547
    [junit] 2015-07-07 19:07:55,544 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:55,592 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:55,593 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:55,593 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:55,593 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:55,593 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:55,593 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:55,593 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:55,641 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:55,641 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:55,641 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:55,641 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:55,642 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:55,642 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:55,642 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:55,643 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:55,643 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:55,643 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:55,643 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:55,643 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:55,643 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:55,643 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:55,753 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33219, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:55,754 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:55,785 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:55,786 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:55,786 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:55,801 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42509
    [junit] 2015-07-07 19:07:55,817 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,818 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:55,818 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:55,818 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,818 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:55,818 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:55,818 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:55,818 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:55,818 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:55,818 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:55,881 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33219
    [junit] 2015-07-07 19:07:55,898 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:55,898 [myid:3] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:55,898 [myid:3] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33219 (no session established for client)
    [junit] 2015-07-07 19:07:55,915 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35550
    [junit] 2015-07-07 19:07:55,931 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:55,956 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:55,963 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:55,963 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:55,963 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:55,963 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:55,963 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:55,963 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:55,963 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:56,011 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:56,011 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:56,011 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:56,011 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:56,011 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:56,011 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:56,043 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:56,138 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:56,138 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:56,139 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:56,154 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42512
    [junit] 2015-07-07 19:07:56,170 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,171 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:56,171 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:56,171 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:56,171 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,171 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:56,171 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:56,171 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:56,171 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:56,171 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,234 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35552
    [junit] 2015-07-07 19:07:56,251 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:56,266 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:56,283 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:56,283 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:56,283 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:56,283 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:56,283 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:56,283 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:56,283 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:56,332 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:56,332 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:56,332 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:56,332 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:56,332 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:56,332 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:56,348 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40187
    [junit] 2015-07-07 19:07:56,364 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40187
    [junit] 2015-07-07 19:07:56,364 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40187 (no session established for client)
    [junit] 2015-07-07 19:07:56,443 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:56,443 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:56,444 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:56,459 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42515
    [junit] 2015-07-07 19:07:56,476 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,476 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:56,476 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:56,476 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:56,476 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:56,476 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,476 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:56,476 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,476 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:56,476 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:56,520 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:56,556 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39812, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:56,556 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:56,572 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35555
    [junit] 2015-07-07 19:07:56,588 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:56,620 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:56,620 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:56,620 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:56,620 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:56,620 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:56,620 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:56,620 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:56,667 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:56,667 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:56,668 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:56,668 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:56,668 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:56,668 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:56,732 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39812
    [junit] 2015-07-07 19:07:56,748 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:56,748 [myid:0] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:56,749 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39812 (no session established for client)
    [junit] 2015-07-07 19:07:56,790 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:56,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:56,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:56,813 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:56,828 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42518
    [junit] 2015-07-07 19:07:56,845 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,845 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:56,845 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:56,845 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:56,846 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:56,846 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,845 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:56,846 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:56,846 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:56,845 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:56,878 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38476, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:56,878 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:56,910 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:56,959 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35558
    [junit] 2015-07-07 19:07:56,975 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:57,007 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:57,007 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:57,007 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:57,007 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:57,007 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:57,007 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:57,007 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:57,055 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:57,055 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:57,055 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:57,055 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:57,055 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:57,055 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:57,055 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:57,055 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:57,071 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38476
    [junit] 2015-07-07 19:07:57,087 [myid:1] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:57,087 [myid:1] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:57,087 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38476 (no session established for client)
    [junit] 2015-07-07 19:07:57,183 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:57,184 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:57,184 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:57,199 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42521
    [junit] 2015-07-07 19:07:57,216 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:57,216 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:57,216 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:57,216 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:57,216 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:57,216 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:57,216 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:57,216 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:57,217 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:57,217 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:57,239 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:57,264 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:57,296 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40195
    [junit] 2015-07-07 19:07:57,312 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40195
    [junit] 2015-07-07 19:07:57,312 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40195 (no session established for client)
    [junit] 2015-07-07 19:07:57,328 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35562
    [junit] 2015-07-07 19:07:57,344 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:57,392 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:57,392 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:57,392 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:57,392 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:57,392 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:57,392 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:57,392 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:57,412 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:57,424 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:57,424 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:57,424 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:57,424 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:57,424 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:57,425 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:57,425 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:57,425 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:57,425 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:57,569 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:57,570 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:57,570 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:57,601 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42524
    [junit] 2015-07-07 19:07:57,618 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:57,618 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:57,618 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:57,618 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:57,618 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:57,618 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:57,618 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:57,619 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:57,619 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:57,619 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:57,651 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33235, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:57,651 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:57,699 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35564
    [junit] 2015-07-07 19:07:57,715 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:57,731 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40200, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:57,731 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:57,754 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:57,756 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:07:57,757 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 0 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:57,757 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:57,757 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 2 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:57,757 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), 3 (recipient), 2 (myid), 0x1 (n.peerEpoch)
    [junit] 2015-07-07 19:07:57,757 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 25600
    [junit] 2015-07-07 19:07:57,763 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:57,763 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:57,763 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:57,763 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:57,763 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:57,763 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:57,763 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:57,811 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:57,811 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:57,811 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:57,811 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:57,811 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:57,811 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:57,827 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33235
    [junit] 2015-07-07 19:07:57,843 [myid:3] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:57,843 [myid:3] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:57,843 [myid:3] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33235 (no session established for client)
    [junit] 2015-07-07 19:07:57,891 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40200
    [junit] 2015-07-07 19:07:57,907 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:57,907 [myid:2] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:57,907 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40200 (no session established for client)
    [junit] 2015-07-07 19:07:57,971 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:57,971 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:57,971 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:07:57,971 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:57,971 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:07:57,972 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:07:57,972 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:57,972 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:57,972 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:07:57,972 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x1
    [junit] 2015-07-07 19:07:57,987 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42529
    [junit] 2015-07-07 19:07:58,003 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,003 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:58,003 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:58,003 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:58,003 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:58,003 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,003 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:58,003 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:58,004 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,004 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:58,051 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:58,099 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:58,147 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:07:58,147 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:58,147 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:58,147 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:58,163 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35569
    [junit] 2015-07-07 19:07:58,179 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:58,243 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:58,243 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:58,243 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:58,244 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:58,244 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:58,244 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:58,244 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:58,291 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:58,291 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:58,291 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:58,291 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:58,292 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:58,292 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:58,339 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40204
    [junit] 2015-07-07 19:07:58,355 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40204
    [junit] 2015-07-07 19:07:58,356 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40204 (no session established for client)
    [junit] 2015-07-07 19:07:58,436 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:07:58,436 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:58,436 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =3 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:58,436 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:07:58,452 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:58,452 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:58,500 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:58,500 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:58,500 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:58,516 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42532
    [junit] 2015-07-07 19:07:58,532 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,532 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:58,532 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:58,532 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:58,532 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:58,532 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:58,532 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,533 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:58,532 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:58,533 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,677 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:07:58,678 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:58,693 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35572
    [junit] 2015-07-07 19:07:58,709 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:58,741 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:58,741 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:58,741 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:58,741 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:58,741 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:58,741 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:58,741 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:58,759 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:58,789 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:58,789 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:58,789 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:58,789 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:58,789 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:58,789 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:58,848 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:58,933 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:58,933 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:58,934 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:58,949 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42534
    [junit] 2015-07-07 19:07:58,965 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,965 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:58,965 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:58,965 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,965 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:58,965 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:58,966 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:58,965 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:58,966 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:58,966 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:59,013 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39831, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:59,013 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:07:59,029 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35574
    [junit] 2015-07-07 19:07:59,045 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:59,077 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:59,077 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:59,077 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:59,077 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:59,077 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:59,078 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:59,078 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:59,125 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:59,125 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:59,126 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:59,126 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:59,126 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:59,126 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:59,126 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:59,126 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:59,126 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:59,126 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:59,126 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:59,127 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:59,127 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:07:59,127 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:07:59,127 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:59,127 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:59,127 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:59,157 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39831
    [junit] 2015-07-07 19:07:59,173 [myid:0] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:59,174 [myid:0] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:59,174 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39831 (no session established for client)
    [junit] 2015-07-07 19:07:59,199 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:59,237 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:59,237 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:59,238 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:59,253 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42537
    [junit] 2015-07-07 19:07:59,269 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:59,270 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:59,270 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:59,270 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:59,270 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:59,270 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:59,270 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:59,270 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:59,270 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:59,270 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:59,284 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:59,302 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40211
    [junit] 2015-07-07 19:07:59,318 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40211
    [junit] 2015-07-07 19:07:59,318 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40211 (no session established for client)
    [junit] 2015-07-07 19:07:59,349 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:07:59,397 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35578
    [junit] 2015-07-07 19:07:59,414 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:59,446 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:59,446 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:59,446 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:59,446 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:59,446 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:59,446 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:59,446 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:59,462 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:07:59,509 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:59,510 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:59,510 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:07:59,510 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:59,510 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:59,510 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:59,590 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33250, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:59,590 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:07:59,671 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:07:59,671 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:07:59,671 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:07:59,687 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38499, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:59,687 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:07:59,703 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42540
    [junit] 2015-07-07 19:07:59,719 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:59,719 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:07:59,719 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:07:59,719 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:07:59,719 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:59,720 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:59,720 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:59,720 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:59,720 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:07:59,720 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:07:59,783 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33250
    [junit] 2015-07-07 19:07:59,800 [myid:3] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:59,800 [myid:3] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:59,800 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33250 (no session established for client)
    [junit] 2015-07-07 19:07:59,808 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:07:59,816 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40217, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:59,816 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:07:59,832 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35581
    [junit] 2015-07-07 19:07:59,848 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:07:59,864 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38499
    [junit] 2015-07-07 19:07:59,880 [myid:1] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:07:59,880 [myid:1] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:07:59,880 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38499 (no session established for client)
    [junit] 2015-07-07 19:07:59,912 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:07:59,912 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:07:59,912 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:59,912 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:07:59,912 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:07:59,912 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:07:59,912 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:07:59,960 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:07:59,960 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:07:59,960 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:59,960 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:07:59,960 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:07:59,992 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:00,040 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40217
    [junit] 2015-07-07 19:08:00,056 [myid:2] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:00,056 [myid:2] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:00,056 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40217 (no session established for client)
    [junit] 2015-07-07 19:08:00,120 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:00,168 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:00,168 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:00,169 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:00,184 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42545
    [junit] 2015-07-07 19:08:00,200 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,200 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:00,200 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:00,200 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:00,200 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:00,200 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:00,200 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,201 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:00,201 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:00,201 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,280 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:00,328 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35585
    [junit] 2015-07-07 19:08:00,344 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:00,376 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:00,377 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:00,377 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:00,377 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:00,377 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:00,377 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:00,377 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:00,424 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:00,424 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:00,424 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:00,425 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:00,425 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:00,425 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:00,441 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40220
    [junit] 2015-07-07 19:08:00,457 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40220
    [junit] 2015-07-07 19:08:00,457 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40220 (no session established for client)
    [junit] 2015-07-07 19:08:00,537 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:00,537 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:00,537 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:00,553 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42548
    [junit] 2015-07-07 19:08:00,569 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,569 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:00,569 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:00,569 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:00,569 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,569 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:00,569 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:00,569 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:00,570 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:00,570 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,650 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35588
    [junit] 2015-07-07 19:08:00,666 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:00,698 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:00,698 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:00,698 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:00,698 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:00,698 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:00,698 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:00,698 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:00,746 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:00,746 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:00,746 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:00,746 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:00,746 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:00,746 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:00,842 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:00,842 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:00,843 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:00,858 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42550
    [junit] 2015-07-07 19:08:00,874 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,874 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:00,874 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:00,874 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:00,875 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,875 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:00,874 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:00,874 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:00,875 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:00,875 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:00,884 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:00,906 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35590
    [junit] 2015-07-07 19:08:00,922 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:00,954 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:00,954 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:00,954 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:00,954 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:00,954 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:00,954 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:00,954 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:01,018 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:01,018 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:01,019 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:01,019 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,019 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,019 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:01,082 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:01,083 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:01,083 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:01,115 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42552
    [junit] 2015-07-07 19:08:01,131 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,131 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:01,131 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:01,131 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:01,131 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:01,131 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:01,131 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,131 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:01,131 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,131 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:01,163 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35592
    [junit] 2015-07-07 19:08:01,179 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:01,195 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40227
    [junit] 2015-07-07 19:08:01,207 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:01,211 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40227
    [junit] 2015-07-07 19:08:01,211 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40227 (no session established for client)
    [junit] 2015-07-07 19:08:01,275 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:01,275 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:01,275 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:01,275 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:01,275 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:01,275 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:01,275 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:01,291 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:01,291 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:01,291 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:01,291 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:01,291 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:01,291 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,292 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,292 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:01,403 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:01,404 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:01,404 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:01,436 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42555
    [junit] 2015-07-07 19:08:01,452 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,452 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:01,452 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:01,452 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:01,453 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:01,453 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,452 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:01,453 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,453 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:01,452 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:01,484 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39852, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:01,484 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:01,532 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35595
    [junit] 2015-07-07 19:08:01,548 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:01,580 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:01,580 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:01,580 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:01,580 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:01,580 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:01,581 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:01,581 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:01,629 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:01,629 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:01,629 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:01,629 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:01,630 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:01,630 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,630 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,630 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:01,638 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:01,645 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39852
    [junit] 2015-07-07 19:08:01,661 [myid:0] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:01,661 [myid:0] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:01,662 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39852 (no session established for client)
    [junit] 2015-07-07 19:08:01,690 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:01,725 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:01,726 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:01,726 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:01,741 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42558
    [junit] 2015-07-07 19:08:01,757 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,757 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:01,757 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:01,758 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:01,758 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:01,758 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,758 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:01,758 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:01,758 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:01,758 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:01,766 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:01,801 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:01,821 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:01,869 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35598
    [junit] 2015-07-07 19:08:01,885 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:01,917 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:01,917 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:01,917 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:01,918 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:01,918 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:01,918 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:01,918 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:01,981 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:01,981 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:01,981 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:01,982 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:01,982 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:01,982 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,982 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:01,982 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:02,045 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33271, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:02,045 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:02,109 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:02,109 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:02,110 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:02,125 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38520, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:02,125 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:02,141 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42560
    [junit] 2015-07-07 19:08:02,157 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:02,157 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:02,157 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:02,158 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:02,158 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:02,158 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:02,158 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:02,158 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:02,158 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:02,158 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:02,189 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40234
    [junit] 2015-07-07 19:08:02,205 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40234
    [junit] 2015-07-07 19:08:02,206 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40234 (no session established for client)
    [junit] 2015-07-07 19:08:02,221 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40238, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:02,222 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:02,238 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33271
    [junit] 2015-07-07 19:08:02,255 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:02,255 [myid:3] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:02,255 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33271 (no session established for client)
    [junit] 2015-07-07 19:08:02,271 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35602
    [junit] 2015-07-07 19:08:02,287 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:02,303 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38520
    [junit] 2015-07-07 19:08:02,319 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:02,319 [myid:1] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:02,320 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38520 (no session established for client)
    [junit] 2015-07-07 19:08:02,352 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:02,352 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:02,352 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:02,352 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:02,352 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:02,352 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:02,352 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:02,400 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:02,400 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:02,400 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:02,400 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:02,400 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:02,400 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:02,400 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:02,400 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:02,464 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40238
    [junit] 2015-07-07 19:08:02,480 [myid:2] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:02,480 [myid:2] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:02,481 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40238 (no session established for client)
    [junit] 2015-07-07 19:08:02,512 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:02,592 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:02,640 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:02,641 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:02,641 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:02,657 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42566
    [junit] 2015-07-07 19:08:02,673 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:02,673 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:02,673 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:02,673 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:02,673 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:02,673 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:02,673 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:02,673 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:02,673 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:02,673 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:02,698 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:02,753 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:02,817 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35606
    [junit] 2015-07-07 19:08:02,833 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:02,865 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:02,865 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:02,865 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:02,865 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:02,865 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:02,865 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:02,865 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:02,913 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:02,913 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:02,913 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:02,913 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:02,914 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:02,914 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:02,914 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:02,914 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:03,009 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:03,010 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:03,010 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:03,025 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42568
    [junit] 2015-07-07 19:08:03,042 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,042 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:03,042 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:03,042 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:03,042 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:03,042 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:03,042 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,043 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:03,043 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,043 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:03,090 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35608
    [junit] 2015-07-07 19:08:03,093 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:03,106 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:03,138 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:03,139 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:03,139 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:03,139 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:03,139 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:03,139 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:03,139 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:03,186 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:03,187 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:03,187 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:03,187 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:03,187 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:03,187 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:03,187 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:03,187 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:03,203 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40243
    [junit] 2015-07-07 19:08:03,219 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40243
    [junit] 2015-07-07 19:08:03,219 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40243 (no session established for client)
    [junit] 2015-07-07 19:08:03,299 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:03,299 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:03,299 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:03,315 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42571
    [junit] 2015-07-07 19:08:03,331 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,331 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:03,331 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:03,331 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:03,331 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:03,331 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,331 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:03,331 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:03,331 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,331 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:03,411 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39868, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:03,411 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:03,427 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35611
    [junit] 2015-07-07 19:08:03,443 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:03,475 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:03,475 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:03,475 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:03,476 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:03,476 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:03,476 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:03,476 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:03,523 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:03,524 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:03,524 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:03,524 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:03,524 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:03,524 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:03,524 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:03,524 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:03,571 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39868
    [junit] 2015-07-07 19:08:03,587 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:03,588 [myid:0] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:03,588 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39868 (no session established for client)
    [junit] 2015-07-07 19:08:03,645 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:03,651 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:03,652 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:03,653 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:03,668 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42574
    [junit] 2015-07-07 19:08:03,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:03,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:03,684 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:03,684 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:03,685 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,684 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:03,685 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:03,684 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:03,685 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:03,719 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:03,732 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:03,781 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35614
    [junit] 2015-07-07 19:08:03,797 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:03,829 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:03,829 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:03,829 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:03,829 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:03,829 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:03,829 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:03,829 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:03,876 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:03,877 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:03,877 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:03,877 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:03,877 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:03,877 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:03,877 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:03,877 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:03,989 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:03,989 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:03,989 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:04,005 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42576
    [junit] 2015-07-07 19:08:04,021 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,022 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:04,022 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:04,022 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:04,022 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:04,022 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,022 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:04,022 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,022 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:04,022 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:04,053 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33288, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:04,054 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:04,069 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40250
    [junit] 2015-07-07 19:08:04,086 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40250
    [junit] 2015-07-07 19:08:04,086 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40250 (no session established for client)
    [junit] 2015-07-07 19:08:04,101 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35617
    [junit] 2015-07-07 19:08:04,117 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:04,149 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:04,150 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:04,150 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:04,150 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:04,150 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:04,150 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:04,150 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:04,199 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:04,199 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:04,199 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:04,199 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:04,200 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:04,200 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:04,200 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:04,200 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:04,212 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:04,215 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33288
    [junit] 2015-07-07 19:08:04,231 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:04,231 [myid:3] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:04,231 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33288 (no session established for client)
    [junit] 2015-07-07 19:08:04,343 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:04,343 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:04,344 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:04,359 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42580
    [junit] 2015-07-07 19:08:04,375 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,375 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:04,375 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:04,376 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:04,376 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:04,375 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:04,376 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,376 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,376 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:04,376 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:04,439 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:04,475 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:04,503 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35620
    [junit] 2015-07-07 19:08:04,519 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:04,529 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:04,551 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:04,551 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:04,551 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:04,551 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:04,551 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:04,552 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:04,552 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:04,599 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:04,600 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:04,600 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:04,600 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:04,600 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:04,600 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:04,600 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:04,600 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:04,615 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38539, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:04,616 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:04,730 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:04,730 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:04,730 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:04,746 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42582
    [junit] 2015-07-07 19:08:04,762 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,762 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:04,763 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:04,763 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,763 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:04,763 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:04,763 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:04,763 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:04,763 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:04,763 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:04,794 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38539
    [junit] 2015-07-07 19:08:04,811 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:04,811 [myid:1] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:04,811 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38539 (no session established for client)
    [junit] 2015-07-07 19:08:04,827 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40258, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:04,827 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:04,859 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35623
    [junit] 2015-07-07 19:08:04,875 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:04,907 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:04,907 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:04,907 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:04,907 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:04,907 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:04,907 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:04,907 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:04,955 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:04,955 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:04,955 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:04,955 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:04,955 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:04,955 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:04,955 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:04,955 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:04,987 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:05,018 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40258
    [junit] 2015-07-07 19:08:05,035 [myid:2] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:05,035 [myid:2] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:05,035 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40258 (no session established for client)
    [junit] 2015-07-07 19:08:05,050 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40259
    [junit] 2015-07-07 19:08:05,067 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40259
    [junit] 2015-07-07 19:08:05,067 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40259 (no session established for client)
    [junit] 2015-07-07 19:08:05,131 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:05,131 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:05,131 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:05,147 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42587
    [junit] 2015-07-07 19:08:05,163 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,163 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:05,163 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:05,163 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:05,163 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:05,163 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,163 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:05,163 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,163 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:05,163 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:05,227 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:05,260 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:05,307 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35627
    [junit] 2015-07-07 19:08:05,323 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:05,355 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:05,355 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:05,355 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:05,355 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:05,355 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:05,356 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:05,356 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:05,403 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:05,403 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:05,403 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:05,403 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:05,404 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:05,404 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:05,404 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:05,404 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:05,541 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:05,547 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:05,547 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:05,548 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:05,550 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:05,563 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42589
    [junit] 2015-07-07 19:08:05,579 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,579 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:05,579 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:05,579 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:05,580 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:05,580 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,579 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:05,580 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,580 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:05,579 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:05,611 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39886, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:05,611 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:05,643 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35629
    [junit] 2015-07-07 19:08:05,659 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:05,707 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:05,707 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:05,708 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:05,708 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:05,708 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:05,708 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:05,708 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:05,755 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:05,755 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:05,755 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:05,755 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:05,756 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:05,756 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:05,756 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:05,756 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:05,772 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39886
    [junit] 2015-07-07 19:08:05,788 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:05,788 [myid:0] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:05,788 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39886 (no session established for client)
    [junit] 2015-07-07 19:08:05,852 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33304, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:05,852 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:05,884 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:05,884 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:05,884 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:05,900 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42592
    [junit] 2015-07-07 19:08:05,916 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,916 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:05,916 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:05,916 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:05,916 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:05,916 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:05,916 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:05,916 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,916 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:05,917 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:05,964 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:05,996 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40267
    [junit] 2015-07-07 19:08:06,012 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40267
    [junit] 2015-07-07 19:08:06,012 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40267 (no session established for client)
    [junit] 2015-07-07 19:08:06,028 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33304
    [junit] 2015-07-07 19:08:06,044 [myid:3] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:06,044 [myid:3] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:06,044 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33304 (no session established for client)
    [junit] 2015-07-07 19:08:06,060 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35635
    [junit] 2015-07-07 19:08:06,076 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:06,108 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:06,108 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:06,108 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:06,108 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:06,108 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:06,108 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:06,108 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:06,156 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:06,156 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:06,156 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:06,156 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:06,156 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:06,156 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:06,156 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:06,156 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:06,253 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:06,334 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:06,335 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:06,335 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:06,351 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42597
    [junit] 2015-07-07 19:08:06,368 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:06,368 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:06,368 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:06,368 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:06,368 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:06,368 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:06,368 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:06,368 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:06,368 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:06,368 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:06,413 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:06,447 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35637
    [junit] 2015-07-07 19:08:06,464 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:06,470 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:06,496 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:06,496 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:06,496 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:06,496 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:06,496 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:06,496 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:06,496 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:06,544 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:06,544 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:06,544 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:06,544 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:06,544 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:06,544 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:06,544 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:06,545 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:06,636 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:06,640 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:06,640 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:06,640 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:06,656 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42599
    [junit] 2015-07-07 19:08:06,672 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:06,672 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:06,672 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:06,672 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:06,672 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:06,672 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:06,672 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:06,672 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:06,672 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:06,672 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:06,703 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40274, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:06,703 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:06,751 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35639
    [junit] 2015-07-07 19:08:06,768 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:06,800 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:06,800 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:06,800 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:06,800 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:06,800 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:06,801 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:06,801 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:06,848 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:06,848 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:06,848 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:06,848 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:06,849 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:06,849 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:06,849 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:06,849 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:06,864 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40274
    [junit] 2015-07-07 19:08:06,881 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:06,881 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:06,881 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40274 (no session established for client)
    [junit] 2015-07-07 19:08:06,897 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40275
    [junit] 2015-07-07 19:08:06,913 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40275
    [junit] 2015-07-07 19:08:06,913 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40275 (no session established for client)
    [junit] 2015-07-07 19:08:06,929 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38560, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:06,930 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:06,993 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:06,994 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:06,994 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:07,009 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42603
    [junit] 2015-07-07 19:08:07,026 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,026 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:07,026 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:07,026 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:07,026 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,026 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:07,026 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:07,026 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:07,026 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:07,026 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,073 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:07,077 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:07,154 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38560
    [junit] 2015-07-07 19:08:07,171 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:07,171 [myid:1] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:07,172 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38560 (no session established for client)
    [junit] 2015-07-07 19:08:07,187 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35644
    [junit] 2015-07-07 19:08:07,203 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:07,236 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:07,236 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:07,236 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:07,236 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:07,236 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:07,236 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:07,236 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:07,284 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:07,284 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:07,285 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:07,285 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:07,285 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:07,285 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:07,285 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:07,285 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:07,380 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:07,388 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:07,460 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:07,460 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:07,461 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:07,476 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42606
    [junit] 2015-07-07 19:08:07,492 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,492 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:07,492 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:07,492 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:07,492 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:07,493 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,492 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:07,493 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,493 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:07,492 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:07,524 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39903, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:07,524 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:07,572 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35646
    [junit] 2015-07-07 19:08:07,588 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:07,620 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:07,621 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:07,621 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:07,621 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:07,621 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:07,621 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:07,621 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:07,668 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:07,668 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:07,668 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:07,669 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:07,669 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:07,669 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:07,669 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:07,669 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:07,684 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39903
    [junit] 2015-07-07 19:08:07,700 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:07,701 [myid:0] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:07,701 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39903 (no session established for client)
    [junit] 2015-07-07 19:08:07,780 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:07,780 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:07,781 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:07,796 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42609
    [junit] 2015-07-07 19:08:07,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:07,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:07,812 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:07,813 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:07,813 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,812 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:07,813 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:07,813 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:07,812 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:07,860 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:07,892 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40283
    [junit] 2015-07-07 19:08:07,908 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40283
    [junit] 2015-07-07 19:08:07,909 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40283 (no session established for client)
    [junit] 2015-07-07 19:08:07,924 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35650
    [junit] 2015-07-07 19:08:07,940 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:07,973 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:07,973 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:07,973 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:07,973 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:07,973 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:07,973 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:07,973 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:08,021 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:08,021 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:08,021 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:08,021 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:08,021 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:08,021 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:08,022 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:08,022 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:08,149 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:08,149 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:08,149 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:08,155 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:08,165 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42612
    [junit] 2015-07-07 19:08:08,181 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,181 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:08,181 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:08,181 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:08,181 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:08,181 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,181 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:08,181 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:08,181 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,182 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:08,245 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35652
    [junit] 2015-07-07 19:08:08,261 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:08,309 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:08,310 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:08,310 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:08,310 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:08,310 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:08,310 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:08,310 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:08,335 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:08,358 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:08,358 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:08,358 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:08,358 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:08,359 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:08,359 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:08,359 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:08,359 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:08,406 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33324, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:08,407 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:08,454 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:08,455 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:08,455 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:08,471 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42614
    [junit] 2015-07-07 19:08:08,487 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,487 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:08,487 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:08,487 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:08,488 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:08,488 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,488 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:08,488 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,488 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:08,487 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:08,519 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33324
    [junit] 2015-07-07 19:08:08,535 [myid:3] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:08,536 [myid:3] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:08,536 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33324 (no session established for client)
    [junit] 2015-07-07 19:08:08,567 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35655
    [junit] 2015-07-07 19:08:08,583 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:08,615 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:08,615 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:08,615 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:08,615 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:08,615 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:08,616 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:08,616 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:08,663 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:08,664 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:08,664 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:08,664 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:08,664 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:08,664 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:08,664 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:08,664 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:08,696 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:08,727 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40290
    [junit] 2015-07-07 19:08:08,741 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:08,744 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40290
    [junit] 2015-07-07 19:08:08,744 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40290 (no session established for client)
    [junit] 2015-07-07 19:08:08,808 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:08,808 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:08,808 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:08,824 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42618
    [junit] 2015-07-07 19:08:08,840 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,840 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:08,840 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:08,840 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:08,840 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:08,840 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,840 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:08,841 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:08,841 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:08,840 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:08,952 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35658
    [junit] 2015-07-07 19:08:08,969 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:09,001 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:09,001 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:09,001 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:09,001 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:09,001 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:09,001 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:09,001 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:09,035 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:09,049 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:09,049 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:09,049 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:09,049 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:09,049 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:09,049 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:09,049 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:09,050 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:09,065 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40294, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:09,065 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:09,161 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:09,162 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:09,162 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:09,187 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:09,193 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42620
    [junit] 2015-07-07 19:08:09,210 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,210 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:09,210 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:09,210 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:09,210 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,210 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:09,210 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:09,210 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:09,210 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:09,210 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,242 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40294
    [junit] 2015-07-07 19:08:09,258 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:09,258 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:09,258 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40294 (no session established for client)
    [junit] 2015-07-07 19:08:09,274 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35661
    [junit] 2015-07-07 19:08:09,290 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:09,306 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38579, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:09,306 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:09,354 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:09,354 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:09,355 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:09,355 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:09,355 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:09,355 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:09,355 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:09,403 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:09,403 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:09,403 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:09,403 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:09,403 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:09,403 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:09,403 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:09,403 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:09,435 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:09,499 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38579
    [junit] 2015-07-07 19:08:09,515 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:09,515 [myid:1] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:09,515 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38579 (no session established for client)
    [junit] 2015-07-07 19:08:09,562 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:09,563 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:09,563 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:09,578 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42624
    [junit] 2015-07-07 19:08:09,594 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,595 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:09,595 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:09,595 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:09,595 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:09,595 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:09,595 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:09,595 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,595 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,595 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:09,635 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:09,658 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:09,690 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40298
    [junit] 2015-07-07 19:08:09,707 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40298
    [junit] 2015-07-07 19:08:09,707 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40298 (no session established for client)
    [junit] 2015-07-07 19:08:09,722 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35665
    [junit] 2015-07-07 19:08:09,739 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:09,771 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:09,771 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:09,771 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:09,771 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:09,771 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:09,771 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:09,771 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:09,818 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:09,819 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:09,819 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:09,819 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:09,819 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:09,819 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:09,819 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:09,819 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:09,963 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:09,963 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:09,963 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:09,979 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42627
    [junit] 2015-07-07 19:08:09,995 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,995 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:09,995 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:09,995 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:09,995 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:09,995 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:09,995 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:09,995 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,995 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:09,995 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:10,027 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39924, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:10,027 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:10,075 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35667
    [junit] 2015-07-07 19:08:10,091 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:10,123 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:10,123 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:10,123 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:10,123 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:10,123 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:10,123 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:10,123 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:10,149 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:10,171 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:10,171 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:10,171 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:10,171 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:10,171 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:10,171 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:10,171 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:10,171 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:10,187 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39924
    [junit] 2015-07-07 19:08:10,203 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:10,203 [myid:0] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:10,204 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39924 (no session established for client)
    [junit] 2015-07-07 19:08:10,283 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:10,283 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:10,284 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:10,299 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42630
    [junit] 2015-07-07 19:08:10,315 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,315 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:10,315 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:10,315 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:10,316 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:10,316 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:10,315 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:10,316 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,316 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,316 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:10,364 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:10,413 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35670
    [junit] 2015-07-07 19:08:10,430 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:10,462 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:10,462 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:10,462 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:10,462 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:10,462 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:10,462 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:10,462 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:10,510 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:10,510 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:10,510 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:10,510 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:10,510 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:10,510 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:10,510 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:10,510 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:10,542 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40305
    [junit] 2015-07-07 19:08:10,558 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40305
    [junit] 2015-07-07 19:08:10,558 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40305 (no session established for client)
    [junit] 2015-07-07 19:08:10,622 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:10,622 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:10,622 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:10,638 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42633
    [junit] 2015-07-07 19:08:10,654 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,654 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:10,654 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:10,654 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:10,654 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:10,655 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,655 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:10,655 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:10,655 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:10,655 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,734 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35673
    [junit] 2015-07-07 19:08:10,750 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:10,790 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:10,814 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:10,814 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:10,814 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:10,814 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:10,814 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:10,814 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:10,814 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:10,830 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:10,830 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:10,830 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:10,830 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:10,831 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:10,831 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:10,831 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:10,831 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:10,926 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:10,926 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:10,927 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:10,958 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42635
    [junit] 2015-07-07 19:08:10,968 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:10,975 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,975 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:10,975 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:10,975 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:10,975 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:10,975 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:10,975 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,975 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:10,975 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:10,975 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:11,007 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33346, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:11,007 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:11,023 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35675
    [junit] 2015-07-07 19:08:11,039 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:11,087 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:11,087 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:11,087 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:11,087 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:11,087 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:11,087 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:11,087 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:11,135 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:11,135 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:11,135 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:11,135 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:11,135 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:11,136 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:11,136 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:11,136 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:11,151 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33346
    [junit] 2015-07-07 19:08:11,167 [myid:3] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:11,167 [myid:3] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:11,167 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33346 (no session established for client)
    [junit] 2015-07-07 19:08:11,247 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:11,247 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:11,248 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:11,263 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42638
    [junit] 2015-07-07 19:08:11,280 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:11,280 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:11,280 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:11,280 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:11,280 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:11,280 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:11,280 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:11,280 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:11,280 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:11,280 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:11,312 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@613] - Shutting down
    [junit] 2015-07-07 19:08:11,312 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@619] - Shutdown called
    [junit] java.lang.Exception: shutdown Leader! reason: Waiting for a quorum of followers, only synced with sids: [ [0, 1],[3] ]
    [junit] 	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:619)
    [junit] 	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:493)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1077)
    [junit] 2015-07-07 19:08:11,312 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@462] - ZooKeeper server is not running, so not proceeding to shutdown!
    [junit] 2015-07-07 19:08:11,312 [myid:1] - INFO  [LearnerCnxAcceptor-localhost/127.0.0.1:11225:Leader$LearnerCnxAcceptor@373] - exception while shutting down acceptor: java.net.SocketException: Socket closed
    [junit] 2015-07-07 19:08:11,312 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:47723:LearnerHandler@615] - Unexpected exception causing shutdown
    [junit] java.lang.InterruptedException
    [junit] 	at java.lang.Object.wait(Native Method)
    [junit] 	at org.apache.zookeeper.server.quorum.Leader.waitForNewLeaderAck(Leader.java:1319)
    [junit] 	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:491)
    [junit] 2015-07-07 19:08:11,312 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:47722:LearnerHandler@615] - Unexpected exception causing shutdown
    [junit] java.lang.InterruptedException
    [junit] 	at java.lang.Object.wait(Native Method)
    [junit] 	at org.apache.zookeeper.server.quorum.Leader.waitForNewLeaderAck(Leader.java:1319)
    [junit] 	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:491)
    [junit] 2015-07-07 19:08:11,312 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Leader]
    [junit] 2015-07-07 19:08:11,312 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:47723:LearnerHandler@619] - ******* GOODBYE /127.0.0.1:47723 ********
    [junit] 2015-07-07 19:08:11,312 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:47722:LearnerHandler@619] - ******* GOODBYE /127.0.0.1:47722 ********
    [junit] 2015-07-07 19:08:11,327 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:11,332 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:11,359 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40312
    [junit] 2015-07-07 19:08:11,376 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40312
    [junit] 2015-07-07 19:08:11,376 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40312 (no session established for client)
    [junit] 2015-07-07 19:08:11,391 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35679
    [junit] 2015-07-07 19:08:11,407 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:11,439 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:11,440 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:11,440 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:11,440 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:11,440 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:11,440 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:11,440 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:11,487 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:11,487 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:11,488 [myid:1] - WARN  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1111] - PeerState set to LOOKING
    [junit] 2015-07-07 19:08:11,488 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:08:11,488 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), 1 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:11,488 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@894] - New election. My id =  1, proposed zxid=0x100000005
    [junit] 2015-07-07 19:08:11,488 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 1 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 1 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:11,488 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:11,489 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:11,489 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:11,503 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Follower@93] - Exception when following the leader
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
    [junit] 	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:410)
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1064)
    [junit] 2015-07-07 19:08:11,503 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=Follower]
    [junit] 2015-07-07 19:08:11,504 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Follower@198] - shutdown called
    [junit] java.lang.Exception: shutdown Follower
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1068)
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):LearnerZooKeeperServer@162] - ZooKeeper server is not running, so not proceeding to shutdown!
    [junit] 2015-07-07 19:08:11,504 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1111] - PeerState set to LOOKING
    [junit] 2015-07-07 19:08:11,504 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@795] - Updating proposal: 0 (newleader), 0x100000005 (newzxid), 1 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:11,504 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@894] - New election. My id =  0, proposed zxid=0x100000005
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,504 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:11,504 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:11,519 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Follower@93] - Exception when following the leader
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)
    [junit] 	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:155)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:410)
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1064)
    [junit] 2015-07-07 19:08:11,519 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:11,519 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower]
    [junit] 2015-07-07 19:08:11,520 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Follower@198] - shutdown called
    [junit] java.lang.Exception: shutdown Follower
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:198)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1068)
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):LearnerZooKeeperServer@162] - ZooKeeper server is not running, so not proceeding to shutdown!
    [junit] 2015-07-07 19:08:11,520 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@1111] - PeerState set to LOOKING
    [junit] 2015-07-07 19:08:11,520 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@986] - LOOKING
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@915] - Initializing leader election protocol...
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@795] - Updating proposal: -9223372036854775808 (newleader), 0x100000005 (newzxid), 1 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:11,520 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@894] - New election. My id =  3, proposed zxid=0x100000005
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,520 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:11,521 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:11,521 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:11,521 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: -9223372036854775808, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:11,521 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:11,663 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:11,664 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:11,664 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:11,679 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42641
    [junit] 2015-07-07 19:08:11,696 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:11,696 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:11,696 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:11,696 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:11,696 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:11,696 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:11,696 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:11,696 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:11,696 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:11,696 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,705 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:08:11,705 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:08:11,705 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:11,706 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:11,716 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:11,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@928] - Notification time out: 400
    [junit] 2015-07-07 19:08:11,721 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:11,722 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:11,722 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:11,722 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: -9223372036854775808, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:11,722 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:11,850 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:11,888 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38599, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:11,888 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:11,935 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35681
    [junit] 2015-07-07 19:08:11,951 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:11,984 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:11,984 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:11,984 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:11,984 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:11,984 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:11,984 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:11,984 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:12,032 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,032 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,032 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,032 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), 0 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:12,032 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,032 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 0 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,033 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,033 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,064 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:12,064 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:12,064 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,064 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 1 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,064 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:12,064 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:12,064 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:12,112 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,113 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: -9223372036854775808, zxid: 0x100000005, proposed zxid: 0x8000000000000000
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: 0 (newleader), 0x100000005 (newzxid), 1 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:12,113 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,113 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,122 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:08:12,122 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,122 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,122 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:12,122 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,122 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:12,122 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,123 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@928] - Notification time out: 800
    [junit] 2015-07-07 19:08:12,123 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:12,123 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:12,123 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,123 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: -9223372036854775808, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,123 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:12,145 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: -9223372036854775808, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@795] - Updating proposal: 0 (newleader), 0x100000005 (newzxid), -9223372036854775808 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:12,145 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,145 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,146 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:12,146 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,146 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,146 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,192 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40318, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:12,192 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:12,208 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,209 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,209 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,209 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,209 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,209 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,209 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,209 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,257 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,257 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,257 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,257 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,257 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,257 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,257 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,257 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,304 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38599
    [junit] 2015-07-07 19:08:12,321 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:12,321 [myid:1] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:12,321 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38599 (no session established for client)
    [junit] 2015-07-07 19:08:12,401 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:12,401 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:12,401 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:12,401 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:12,401 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:08:12,401 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,401 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,401 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,402 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,433 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39942, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:12,433 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:12,449 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42644
    [junit] 2015-07-07 19:08:12,465 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:12,465 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:12,465 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:12,465 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:12,465 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:12,465 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:12,465 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:12,465 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:12,465 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:12,465 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,529 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), 0 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,529 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,577 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,577 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,577 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,577 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:12,593 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 0, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@795] - Updating proposal: 1 (newleader), 0x100000005 (newzxid), 0 (oldleader), 0x100000005 (oldzxid)
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,593 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:12,594 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 3 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:12,594 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:12,594 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,594 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:12,594 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,594 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,594 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,609 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,609 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,609 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,609 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,625 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40318
    [junit] 2015-07-07 19:08:12,641 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:12,641 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:12,641 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40318 (no session established for client)
    [junit] 2015-07-07 19:08:12,657 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,657 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,658 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,658 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,737 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,737 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,738 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:12,738 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,738 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,738 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,738 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,738 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:12,785 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:12,817 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35685
    [junit] 2015-07-07 19:08:12,833 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:12,865 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39942
    [junit] 2015-07-07 19:08:12,881 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:12,881 [myid:0] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:12,882 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39942 (no session established for client)
    [junit] 2015-07-07 19:08:12,929 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:12,929 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:12,929 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:12,930 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:12,930 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:12,930 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:12,930 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:12,961 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:12,961 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:12,961 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:12,962 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:12,962 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:12,962 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:12,993 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:12,994 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:12,994 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:12,994 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:13,025 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:13,025 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,025 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:13,026 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:13,074 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:13,123 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40321
    [junit] 2015-07-07 19:08:13,139 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40321
    [junit] 2015-07-07 19:08:13,140 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40321 (no session established for client)
    [junit] 2015-07-07 19:08:13,188 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:13,188 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,188 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:13,188 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:13,220 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:13,220 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,220 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:13,220 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:13,226 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@817] - I'm a participant: 0
    [junit] 2015-07-07 19:08:13,226 [myid:0] - DEBUG [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x100000005, my id=0, my state=FOLLOWING
    [junit] 2015-07-07 19:08:13,226 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id0,name1=replica.0,name2=LeaderElection]
    [junit] 2015-07-07 19:08:13,226 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):QuorumPeer@1062] - FOLLOWING
    [junit] 2015-07-07 19:08:13,226 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:08:13,226 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:08:13,226 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2
    [junit] 2015-07-07 19:08:13,226 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 0
    [junit] 2015-07-07 19:08:13,302 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:13,327 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:13,367 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:13,367 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:13,367 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:13,367 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:13,367 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:13,367 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:08:13,367 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:13,367 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,368 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:13,368 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:13,383 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42649
    [junit] 2015-07-07 19:08:13,399 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:13,399 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:13,399 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:13,399 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:13,399 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:13,399 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:13,399 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:13,399 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:13,399 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:13,399 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:13,559 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=39668, connecting to localhost/127.0.0.1:11225
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1064)
    [junit] 2015-07-07 19:08:13,623 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35689
    [junit] 2015-07-07 19:08:13,639 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:13,688 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:13,688 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:13,688 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:13,688 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:13,688 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:13,688 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:13,688 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:13,736 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:13,736 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:13,736 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,736 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 1 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:13,736 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,736 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,736 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,736 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,737 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,737 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,737 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,737 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,737 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,737 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,737 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,737 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,737 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,737 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,738 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,738 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,738 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,738 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), -9223372036854775808 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,738 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,738 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,738 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,738 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,738 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,738 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,739 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,739 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 0 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,739 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:13,739 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,739 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:13,739 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:13,739 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:13,761 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:13,784 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:13,784 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:13,784 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:13,784 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:13,800 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33362, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:13,800 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:13,880 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:13,881 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:13,881 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:13,897 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42651
    [junit] 2015-07-07 19:08:13,913 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:13,913 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:13,913 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:13,913 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:13,913 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:13,913 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:13,913 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:13,913 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:13,913 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:13,913 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:13,945 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:13,977 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33362
    [junit] 2015-07-07 19:08:13,993 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:13,993 [myid:3] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:13,993 [myid:3] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33362 (no session established for client)
    [junit] 2015-07-07 19:08:14,009 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35693
    [junit] 2015-07-07 19:08:14,025 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:14,057 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:14,057 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:14,057 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:14,057 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:14,057 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:14,057 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:14,057 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:14,105 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:14,106 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:14,106 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:08:14,106 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:14,106 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:14,106 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:14,169 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:14,249 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:14,250 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:14,250 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:14,265 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42656
    [junit] 2015-07-07 19:08:14,281 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:14,282 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:14,282 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:14,282 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:14,282 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:14,282 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:14,282 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:14,282 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:14,282 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:14,282 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:14,330 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40330
    [junit] 2015-07-07 19:08:14,346 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40330
    [junit] 2015-07-07 19:08:14,346 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40330 (no session established for client)
    [junit] 2015-07-07 19:08:14,362 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38615, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:14,362 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:14,394 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35697
    [junit] 2015-07-07 19:08:14,410 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:14,474 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:14,474 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:14,474 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:14,474 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:14,474 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:14,474 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:14,474 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:14,490 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:14,490 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:14,490 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,490 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,506 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:14,506 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:14,506 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:14,506 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@952] - Notification election epoch is smaller than logicalclock. n.electionEpoch = 0x1, logicalclock=0x2
    [junit] 2015-07-07 19:08:14,506 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:14,507 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:14,507 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:14,586 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38615
    [junit] 2015-07-07 19:08:14,591 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:14,602 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:14,602 [myid:1] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:14,602 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38615 (no session established for client)
    [junit] 2015-07-07 19:08:14,650 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:14,650 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:14,650 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:14,691 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@817] - I'm a participant: 3
    [junit] 2015-07-07 19:08:14,691 [myid:3] - DEBUG [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x100000005, my id=3, my state=FOLLOWING
    [junit] 2015-07-07 19:08:14,691 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=LeaderElection]
    [junit] 2015-07-07 19:08:14,691 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):QuorumPeer@1062] - FOLLOWING
    [junit] 2015-07-07 19:08:14,691 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:08:14,691 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:08:14,691 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data/version-2
    [junit] 2015-07-07 19:08:14,691 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
    [junit] 2015-07-07 19:08:14,698 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42660
    [junit] 2015-07-07 19:08:14,714 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:14,714 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:14,714 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:14,714 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:14,714 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:14,714 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:14,714 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:14,714 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:14,714 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:14,714 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:14,762 [myid:0] - WARN  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@273] - Unexpected exception, tries=1, remaining init limit=38465, connecting to localhost/127.0.0.1:11225
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1064)
    [junit] 2015-07-07 19:08:14,820 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:14,825 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:14,857 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35700
    [junit] 2015-07-07 19:08:14,874 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:14,890 [myid:3] - WARN  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Learner@273] - Unexpected exception, tries=0, remaining init limit=39802, connecting to localhost/127.0.0.1:11225
    [junit] java.net.ConnectException: 接続を拒否されました
    [junit] 	at java.net.PlainSocketImpl.socketConnect(Native Method)
    [junit] 	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    [junit] 	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    [junit] 	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    [junit] 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
    [junit] 	at java.net.Socket.connect(Socket.java:579)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:227)
    [junit] 	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:256)
    [junit] 	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:74)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1064)
    [junit] 2015-07-07 19:08:14,922 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:14,922 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:14,922 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:14,922 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:14,923 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:14,923 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:14,923 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:14,971 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:14,971 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:14,971 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@952] - Notification election epoch is smaller than logicalclock. n.electionEpoch = 0x1, logicalclock=0x2
    [junit] 2015-07-07 19:08:14,971 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:14,971 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@952] - Notification election epoch is smaller than logicalclock. n.electionEpoch = 0x1, logicalclock=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@952] - Notification election epoch is smaller than logicalclock. n.electionEpoch = 0x1, logicalclock=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@952] - Notification election epoch is smaller than logicalclock. n.electionEpoch = 0x1, logicalclock=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@952] - Notification election epoch is smaller than logicalclock. n.electionEpoch = 0x1, logicalclock=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=1, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=0, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: -9223372036854775808, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,972 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=-9223372036854775808, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=3, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 0, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=0, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,973 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:14,987 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39959, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:14,987 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:15,083 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:15,083 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:15,084 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:15,099 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42662
    [junit] 2015-07-07 19:08:15,115 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:15,115 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:15,115 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:15,115 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:15,116 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:15,116 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:15,116 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:15,115 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:15,116 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:15,116 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:15,131 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39959
    [junit] 2015-07-07 19:08:15,147 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:15,148 [myid:0] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:15,148 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39959 (no session established for client)
    [junit] 2015-07-07 19:08:15,152 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:15,173 [myid:1] - DEBUG [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FastLeaderElection@642] - About to leave FLE instance: leader=1, zxid=0x100000005, my id=1, my state=LEADING
    [junit] 2015-07-07 19:08:15,173 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=LeaderElection]
    [junit] 2015-07-07 19:08:15,173 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):QuorumPeer@1074] - LEADING
    [junit] 2015-07-07 19:08:15,173 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 8000
    [junit] 2015-07-07 19:08:15,174 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 80000
    [junit] 2015-07-07 19:08:15,174 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2 snapdir /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2
    [junit] 2015-07-07 19:08:15,174 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):Leader@412] - LEADING - LEADER ELECTION TOOK - 1
    [junit] 2015-07-07 19:08:15,174 [myid:1] - INFO  [QuorumPeer[myid=1](plain=/127.0.0.1:11227)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/suda/WORK/zookeeper/build/test/tmp/test1167988287766246599.junit.dir/data/version-2/snapshot.100000005
    [junit] 2015-07-07 19:08:15,179 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35705
    [junit] 2015-07-07 19:08:15,195 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:15,196 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=2
    [junit] 2015-07-07 19:08:15,227 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:15,228 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:15,228 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:15,228 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:15,228 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumPeer$QuorumServer@162] - Resolved address for localhost: localhost/127.0.0.1
    [junit] 2015-07-07 19:08:15,228 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@440] - Opening channel to server 2
    [junit] 2015-07-07 19:08:15,291 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:15,339 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40340
    [junit] 2015-07-07 19:08:15,355 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40340
    [junit] 2015-07-07 19:08:15,355 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40340 (no session established for client)
    [junit] 2015-07-07 19:08:15,424 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:15,435 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:15,435 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:15,436 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:15,467 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40342, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:15,467 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:15,531 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@446] - Connected to server 2
    [junit] 2015-07-07 19:08:15,531 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (2, 1)
    [junit] 2015-07-07 19:08:15,564 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35707
    [junit] 2015-07-07 19:08:15,580 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:15,596 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40342
    [junit] 2015-07-07 19:08:15,612 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:15,612 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:15,612 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40342 (no session established for client)
    [junit] 2015-07-07 19:08:15,660 [myid:2] - INFO  [localhost/127.0.0.1:11229:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:42670
    [junit] 2015-07-07 19:08:15,679 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:15,679 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
    [junit] 2015-07-07 19:08:15,679 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:15,680 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:15,680 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
    [junit] 2015-07-07 19:08:15,679 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
    [junit] java.net.SocketException: Socket closed
    [junit] 	at java.net.SocketInputStream.socketRead0(Native Method)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:152)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:122)
    [junit] 	at java.net.SocketInputStream.read(SocketInputStream.java:210)
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:387)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:15,680 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:15,680 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
    [junit] 2015-07-07 19:08:15,679 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@365] - Create new connection to server: 1
    [junit] 2015-07-07 19:08:15,680 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@440] - Opening channel to server 1
    [junit] 2015-07-07 19:08:15,693 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33380, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:15,693 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:15,709 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:15,709 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:15,709 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:15,709 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:15,765 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:15,773 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:15,820 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@917] - Connection broken for id 2, my id = 1, error = 
    [junit] java.io.EOFException
    [junit] 	at java.io.DataInputStream.readInt(DataInputStream.java:392)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
    [junit] 2015-07-07 19:08:15,821 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
    [junit] 2015-07-07 19:08:15,821 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:15,821 [myid:1] - DEBUG [RecvWorker:2:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=2
    [junit] 2015-07-07 19:08:15,821 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
    [junit] java.lang.InterruptedException
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
    [junit] 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
    [junit] 	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
    [junit] 	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
    [junit] 2015-07-07 19:08:15,821 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@743] - Calling finish for 2
    [junit] 2015-07-07 19:08:15,821 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 2 my id = 1
    [junit] 2015-07-07 19:08:15,869 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33380
    [junit] 2015-07-07 19:08:15,885 [myid:3] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:15,885 [myid:3] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:15,885 [myid:3] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33380 (no session established for client)
    [junit] 2015-07-07 19:08:15,981 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager@446] - Connected to server 1
    [junit] 2015-07-07 19:08:15,981 [myid:2] - DEBUG [localhost/127.0.0.1:11229:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
    [junit] 2015-07-07 19:08:15,981 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=1
    [junit] 2015-07-07 19:08:16,013 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:16,093 [myid:1] - INFO  [localhost/127.0.0.1:11226:QuorumCnxManager$Listener@637] - Received connection request /127.0.0.1:35711
    [junit] 2015-07-07 19:08:16,110 [myid:1] - DEBUG [localhost/127.0.0.1:11226:QuorumCnxManager$SendWorker@725] - Address of remote peer: 2
    [junit] 2015-07-07 19:08:16,110 [myid:1] - DEBUG [SendWorker:2:QuorumCnxManager$SendWorker@805] - Attempting to send lastMessage to sid=2
    [junit] 2015-07-07 19:08:16,174 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:48090:LearnerHandler@382] - Follower sid: 0 : info : localhost:11222:11223:participant;localhost:11224
    [junit] 2015-07-07 19:08:16,190 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40347
    [junit] 2015-07-07 19:08:16,206 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40347
    [junit] 2015-07-07 19:08:16,206 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40347 (no session established for client)
    [junit] 2015-07-07 19:08:16,222 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:16,222 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:16,222 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:16,222 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:16,286 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:48092:LearnerHandler@385] - Follower sid: 3 not in the current config 100000000
    [junit] 2015-07-07 19:08:16,383 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:16,383 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:16,384 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:16,384 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:16,511 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:48090:LearnerHandler@683] - Synchronizing with Follower sid: 0 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x100000005
    [junit] 2015-07-07 19:08:16,511 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:48090:LearnerHandler@727] - Sending DIFF zxid=0x100000005 for peer sid: 0
    [junit] 2015-07-07 19:08:16,511 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:48090:LearnerHandler@777] - Start forwarding 0x100000005 for peer sid: 0
    [junit] 2015-07-07 19:08:16,511 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:48090:LearnerHandler@429] - Sending NEWLEADER message to 0
    [junit] 2015-07-07 19:08:16,543 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:48092:LearnerHandler@683] - Synchronizing with Follower sid: 3 maxCommittedLog=0x100000005 minCommittedLog=0x100000001 lastProcessedZxid=0x100000005 peerLastZxid=0x100000005
    [junit] 2015-07-07 19:08:16,543 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:48092:LearnerHandler@727] - Sending DIFF zxid=0x100000005 for peer sid: 3
    [junit] 2015-07-07 19:08:16,543 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:48092:LearnerHandler@777] - Start forwarding 0x100000005 for peer sid: 3
    [junit] 2015-07-07 19:08:16,543 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:48092:LearnerHandler@429] - Sending NEWLEADER message to 3
    [junit] 2015-07-07 19:08:16,575 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000005
    [junit] 2015-07-07 19:08:16,575 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):Learner@509] - Learner received NEWLEADER message
    [junit] 2015-07-07 19:08:16,575 [myid:0] - INFO  [QuorumPeer[myid=0](plain=/127.0.0.1:11224)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/suda/WORK/zookeeper/build/test/tmp/test4246353807356254438.junit.dir/data/version-2/snapshot.100000005
    [junit] 2015-07-07 19:08:16,591 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000005
    [junit] 2015-07-07 19:08:16,592 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):Learner@509] - Learner received NEWLEADER message
    [junit] 2015-07-07 19:08:16,592 [myid:3] - INFO  [QuorumPeer[myid=3](plain=/127.0.0.1:11233)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000005 to /home/suda/WORK/zookeeper/build/test/tmp/test4245703862229805697.junit.dir/data/version-2/snapshot.100000005
    [junit] 2015-07-07 19:08:16,601 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:16,649 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:48090:LearnerHandler@489] - Received NEWLEADER-ACK message from 0
    [junit] 2015-07-07 19:08:16,697 [myid:1] - DEBUG [LearnerHandler-/127.0.0.1:48092:LearnerHandler@489] - Received NEWLEADER-ACK message from 3
    [junit] 2015-07-07 19:08:16,713 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40349
    [junit] 2015-07-07 19:08:16,730 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40349
    [junit] 2015-07-07 19:08:16,730 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40349 (no session established for client)
    [junit] 2015-07-07 19:08:16,808 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:16,886 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:16,891 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38633, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:16,891 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:16,923 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38633
    [junit] 2015-07-07 19:08:16,939 [myid:1] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:16,939 [myid:1] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:16,939 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38633 (no session established for client)
    [junit] 2015-07-07 19:08:16,955 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39973, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:16,955 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:16,987 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:17,019 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39973
    [junit] 2015-07-07 19:08:17,035 [myid:0] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:17,035 [myid:0] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:17,035 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39973 (no session established for client)
    [junit] 2015-07-07 19:08:17,061 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:17,099 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:17,180 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40352
    [junit] 2015-07-07 19:08:17,196 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40352
    [junit] 2015-07-07 19:08:17,196 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40352 (no session established for client)
    [junit] 2015-07-07 19:08:17,428 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:17,461 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40353, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:17,461 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:17,477 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40353
    [junit] 2015-07-07 19:08:17,494 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:17,494 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:17,495 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40353 (no session established for client)
    [junit] 2015-07-07 19:08:17,510 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:17,526 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:17,608 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40354
    [junit] 2015-07-07 19:08:17,624 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40354
    [junit] 2015-07-07 19:08:17,624 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40354 (no session established for client)
    [junit] 2015-07-07 19:08:17,938 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:17,987 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40355
    [junit] 2015-07-07 19:08:18,003 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40355
    [junit] 2015-07-07 19:08:18,003 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40355 (no session established for client)
    [junit] 2015-07-07 19:08:18,011 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:18,130 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33392, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:18,130 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:18,146 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33392
    [junit] 2015-07-07 19:08:18,162 [myid:3] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:18,163 [myid:3] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:18,163 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33392 (no session established for client)
    [junit] 2015-07-07 19:08:18,195 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:18,317 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:18,365 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40357
    [junit] 2015-07-07 19:08:18,382 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40357
    [junit] 2015-07-07 19:08:18,382 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40357 (no session established for client)
    [junit] 2015-07-07 19:08:18,463 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:18,483 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:18,526 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38641, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:18,526 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:18,542 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39981, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:18,542 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:18,558 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38641
    [junit] 2015-07-07 19:08:18,574 [myid:1] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:18,574 [myid:1] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:18,574 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38641 (no session established for client)
    [junit] 2015-07-07 19:08:18,590 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39981
    [junit] 2015-07-07 19:08:18,606 [myid:0] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:18,606 [myid:0] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:18,606 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39981 (no session established for client)
    [junit] 2015-07-07 19:08:18,638 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:18,686 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:18,696 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:18,782 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40360
    [junit] 2015-07-07 19:08:18,798 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40360
    [junit] 2015-07-07 19:08:18,799 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40360 (no session established for client)
    [junit] 2015-07-07 19:08:19,112 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:19,161 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40361
    [junit] 2015-07-07 19:08:19,179 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40361
    [junit] 2015-07-07 19:08:19,179 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40361 (no session established for client)
    [junit] 2015-07-07 19:08:19,493 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:19,510 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:19,558 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40362
    [junit] 2015-07-07 19:08:19,574 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40362
    [junit] 2015-07-07 19:08:19,575 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40362 (no session established for client)
    [junit] 2015-07-07 19:08:19,607 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40363, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:19,607 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:19,670 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40363
    [junit] 2015-07-07 19:08:19,687 [myid:2] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:19,687 [myid:2] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:19,687 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40363 (no session established for client)
    [junit] 2015-07-07 19:08:19,751 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:19,904 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:19,953 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40364
    [junit] 2015-07-07 19:08:19,969 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40364
    [junit] 2015-07-07 19:08:19,969 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40364 (no session established for client)
    [junit] 2015-07-07 19:08:20,010 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:20,068 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:20,097 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38648, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:20,097 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:20,129 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38648
    [junit] 2015-07-07 19:08:20,146 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:20,146 [myid:1] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:20,146 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38648 (no session established for client)
    [junit] 2015-07-07 19:08:20,162 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33402, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:20,162 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:20,193 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:20,226 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33402
    [junit] 2015-07-07 19:08:20,242 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:20,242 [myid:3] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:20,242 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33402 (no session established for client)
    [junit] 2015-07-07 19:08:20,283 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:20,289 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:20,370 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40367
    [junit] 2015-07-07 19:08:20,386 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40367
    [junit] 2015-07-07 19:08:20,387 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40367 (no session established for client)
    [junit] 2015-07-07 19:08:20,678 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:20,700 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:20,711 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39990, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:20,711 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:20,743 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39990
    [junit] 2015-07-07 19:08:20,759 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:20,759 [myid:0] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:20,759 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39990 (no session established for client)
    [junit] 2015-07-07 19:08:20,807 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:20,839 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40369
    [junit] 2015-07-07 19:08:20,855 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40369
    [junit] 2015-07-07 19:08:20,855 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40369 (no session established for client)
    [junit] 2015-07-07 19:08:20,993 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:21,025 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40370, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:21,026 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:21,041 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40370
    [junit] 2015-07-07 19:08:21,058 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:21,058 [myid:2] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:21,058 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40370 (no session established for client)
    [junit] 2015-07-07 19:08:21,089 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:21,185 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:21,234 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40371
    [junit] 2015-07-07 19:08:21,250 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40371
    [junit] 2015-07-07 19:08:21,250 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40371 (no session established for client)
    [junit] 2015-07-07 19:08:21,411 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:21,443 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38655, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:21,444 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:21,460 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38655
    [junit] 2015-07-07 19:08:21,476 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:21,476 [myid:1] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:21,476 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38655 (no session established for client)
    [junit] 2015-07-07 19:08:21,508 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:21,564 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:21,612 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40374
    [junit] 2015-07-07 19:08:21,628 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40374
    [junit] 2015-07-07 19:08:21,629 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40374 (no session established for client)
    [junit] 2015-07-07 19:08:21,942 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:21,991 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40375
    [junit] 2015-07-07 19:08:22,007 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40375
    [junit] 2015-07-07 19:08:22,008 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40375 (no session established for client)
    [junit] 2015-07-07 19:08:22,251 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:22,284 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:39998, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:22,284 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:22,300 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:39998
    [junit] 2015-07-07 19:08:22,316 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:22,317 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:22,317 [myid:0] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:22,317 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:39998 (no session established for client)
    [junit] 2015-07-07 19:08:22,321 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:22,365 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:22,371 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:22,413 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33413, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:22,413 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:22,477 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33413
    [junit] 2015-07-07 19:08:22,494 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:22,494 [myid:3] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:22,494 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33413 (no session established for client)
    [junit] 2015-07-07 19:08:22,511 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40379, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:22,511 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:22,527 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40378
    [junit] 2015-07-07 19:08:22,543 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40378
    [junit] 2015-07-07 19:08:22,543 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40378 (no session established for client)
    [junit] 2015-07-07 19:08:22,575 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:22,607 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40379
    [junit] 2015-07-07 19:08:22,623 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:22,623 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:22,623 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40379 (no session established for client)
    [junit] 2015-07-07 19:08:22,719 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:22,921 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:22,969 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40380
    [junit] 2015-07-07 19:08:22,985 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40380
    [junit] 2015-07-07 19:08:22,986 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40380 (no session established for client)
    [junit] 2015-07-07 19:08:23,299 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:23,351 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40381
    [junit] 2015-07-07 19:08:23,368 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40381
    [junit] 2015-07-07 19:08:23,368 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40381 (no session established for client)
    [junit] 2015-07-07 19:08:23,537 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:23,570 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38665, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:23,570 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:23,586 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38665
    [junit] 2015-07-07 19:08:23,602 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:23,602 [myid:1] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:23,602 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38665 (no session established for client)
    [junit] 2015-07-07 19:08:23,634 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:23,682 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:23,731 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40383
    [junit] 2015-07-07 19:08:23,747 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40383
    [junit] 2015-07-07 19:08:23,747 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40383 (no session established for client)
    [junit] 2015-07-07 19:08:23,790 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:23,875 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40006, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:23,875 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:23,891 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40006
    [junit] 2015-07-07 19:08:23,907 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:23,907 [myid:0] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:23,907 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40006 (no session established for client)
    [junit] 2015-07-07 19:08:23,939 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:24,061 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:24,095 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:24,110 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40385
    [junit] 2015-07-07 19:08:24,126 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40385
    [junit] 2015-07-07 19:08:24,126 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40385 (no session established for client)
    [junit] 2015-07-07 19:08:24,222 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40386, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:24,222 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:24,270 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40386
    [junit] 2015-07-07 19:08:24,286 [myid:2] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:24,286 [myid:2] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:24,286 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40386 (no session established for client)
    [junit] 2015-07-07 19:08:24,318 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:24,456 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:24,504 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40387
    [junit] 2015-07-07 19:08:24,520 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40387
    [junit] 2015-07-07 19:08:24,521 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40387 (no session established for client)
    [junit] 2015-07-07 19:08:24,665 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:24,698 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33424, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:24,698 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:24,714 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33424
    [junit] 2015-07-07 19:08:24,731 [myid:3] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:24,731 [myid:3] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:24,731 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33424 (no session established for client)
    [junit] 2015-07-07 19:08:24,762 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:24,835 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:24,883 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40389
    [junit] 2015-07-07 19:08:24,899 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40389
    [junit] 2015-07-07 19:08:24,900 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40389 (no session established for client)
    [junit] 2015-07-07 19:08:25,213 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:25,267 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40390
    [junit] 2015-07-07 19:08:25,284 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40390
    [junit] 2015-07-07 19:08:25,284 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40390 (no session established for client)
    [junit] 2015-07-07 19:08:25,557 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:25,569 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:25,599 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:25,600 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:25,607 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38674, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:25,607 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:25,623 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40392, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:25,623 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:25,671 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38674
    [junit] 2015-07-07 19:08:25,687 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:25,687 [myid:1] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:25,688 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38674 (no session established for client)
    [junit] 2015-07-07 19:08:25,703 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40392
    [junit] 2015-07-07 19:08:25,719 [myid:2] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:25,720 [myid:2] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:25,720 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40392 (no session established for client)
    [junit] 2015-07-07 19:08:25,735 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40015, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:25,735 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:25,783 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:25,831 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:25,863 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40015
    [junit] 2015-07-07 19:08:25,879 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:25,879 [myid:0] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:25,879 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40015 (no session established for client)
    [junit] 2015-07-07 19:08:25,895 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40394
    [junit] 2015-07-07 19:08:25,911 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40394
    [junit] 2015-07-07 19:08:25,912 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40394 (no session established for client)
    [junit] 2015-07-07 19:08:26,007 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:26,274 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:26,306 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33431, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:26,307 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:26,321 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:26,322 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33431
    [junit] 2015-07-07 19:08:26,339 [myid:3] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:26,339 [myid:3] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:26,339 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33431 (no session established for client)
    [junit] 2015-07-07 19:08:26,386 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:26,451 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40396
    [junit] 2015-07-07 19:08:26,467 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40396
    [junit] 2015-07-07 19:08:26,467 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40396 (no session established for client)
    [junit] 2015-07-07 19:08:26,781 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:26,831 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40397
    [junit] 2015-07-07 19:08:26,847 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40397
    [junit] 2015-07-07 19:08:26,847 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40397 (no session established for client)
    [junit] 2015-07-07 19:08:27,161 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:27,209 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40398
    [junit] 2015-07-07 19:08:27,225 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40398
    [junit] 2015-07-07 19:08:27,226 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40398 (no session established for client)
    [junit] 2015-07-07 19:08:27,351 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:27,382 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:27,383 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40021, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:27,383 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:27,416 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40021
    [junit] 2015-07-07 19:08:27,432 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:27,432 [myid:0] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:27,432 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40021 (no session established for client)
    [junit] 2015-07-07 19:08:27,447 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38683, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:27,448 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:27,480 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:27,512 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38683
    [junit] 2015-07-07 19:08:27,528 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:27,528 [myid:1] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:27,528 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38683 (no session established for client)
    [junit] 2015-07-07 19:08:27,539 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:27,576 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:27,658 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40401
    [junit] 2015-07-07 19:08:27,674 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40401
    [junit] 2015-07-07 19:08:27,674 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40401 (no session established for client)
    [junit] 2015-07-07 19:08:27,775 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:27,808 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40402, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:27,808 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:27,824 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40402
    [junit] 2015-07-07 19:08:27,840 [myid:2] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:27,840 [myid:2] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:27,840 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40402 (no session established for client)
    [junit] 2015-07-07 19:08:27,872 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:27,988 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:28,037 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40403
    [junit] 2015-07-07 19:08:28,042 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:28,053 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40403
    [junit] 2015-07-07 19:08:28,053 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40403 (no session established for client)
    [junit] 2015-07-07 19:08:28,149 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33440, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:28,149 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:28,198 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33440
    [junit] 2015-07-07 19:08:28,214 [myid:3] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:28,215 [myid:3] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:28,215 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33440 (no session established for client)
    [junit] 2015-07-07 19:08:28,246 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:28,383 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:28,433 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40405
    [junit] 2015-07-07 19:08:28,450 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40405
    [junit] 2015-07-07 19:08:28,450 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40405 (no session established for client)
    [junit] 2015-07-07 19:08:28,764 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:28,812 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40406
    [junit] 2015-07-07 19:08:28,828 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40406
    [junit] 2015-07-07 19:08:28,829 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40406 (no session established for client)
    [junit] 2015-07-07 19:08:29,086 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:29,103 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:29,118 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38690, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:29,118 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:29,142 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:29,150 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38690
    [junit] 2015-07-07 19:08:29,166 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:29,167 [myid:1] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:29,167 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38690 (no session established for client)
    [junit] 2015-07-07 19:08:29,182 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40408, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:29,183 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:29,230 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:29,262 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40408
    [junit] 2015-07-07 19:08:29,279 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:29,279 [myid:2] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:29,279 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40408 (no session established for client)
    [junit] 2015-07-07 19:08:29,342 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:29,374 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40409
    [junit] 2015-07-07 19:08:29,390 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40409
    [junit] 2015-07-07 19:08:29,391 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40409 (no session established for client)
    [junit] 2015-07-07 19:08:29,547 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:29,580 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40033, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:29,580 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:29,596 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40033
    [junit] 2015-07-07 19:08:29,612 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:29,612 [myid:0] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:29,612 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40033 (no session established for client)
    [junit] 2015-07-07 19:08:29,644 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:29,705 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:29,734 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:29,769 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40412
    [junit] 2015-07-07 19:08:29,786 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40412
    [junit] 2015-07-07 19:08:29,786 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40412 (no session established for client)
    [junit] 2015-07-07 19:08:29,818 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33449, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:29,818 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:29,882 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33449
    [junit] 2015-07-07 19:08:29,899 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:29,899 [myid:3] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:29,899 [myid:3] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33449 (no session established for client)
    [junit] 2015-07-07 19:08:29,962 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:30,116 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:30,164 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40414
    [junit] 2015-07-07 19:08:30,180 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40414
    [junit] 2015-07-07 19:08:30,181 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40414 (no session established for client)
    [junit] 2015-07-07 19:08:30,495 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:30,550 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40415
    [junit] 2015-07-07 19:08:30,568 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40415
    [junit] 2015-07-07 19:08:30,569 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40415 (no session established for client)
    [junit] 2015-07-07 19:08:30,803 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:30,835 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38699, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:30,835 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:30,851 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38699
    [junit] 2015-07-07 19:08:30,867 [myid:1] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:30,867 [myid:1] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:30,868 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38699 (no session established for client)
    [junit] 2015-07-07 19:08:30,889 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:30,899 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:30,979 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40417
    [junit] 2015-07-07 19:08:30,995 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40417
    [junit] 2015-07-07 19:08:30,996 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40417 (no session established for client)
    [junit] 2015-07-07 19:08:31,059 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:31,123 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40418, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:31,124 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:31,140 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40418
    [junit] 2015-07-07 19:08:31,156 [myid:2] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:31,156 [myid:2] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:31,156 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40418 (no session established for client)
    [junit] 2015-07-07 19:08:31,188 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:31,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:31,290 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40041, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:31,291 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:31,307 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40041
    [junit] 2015-07-07 19:08:31,310 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:31,323 [myid:0] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:31,323 [myid:0] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:31,323 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40041 (no session established for client)
    [junit] 2015-07-07 19:08:31,368 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:31,371 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:31,451 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40420
    [junit] 2015-07-07 19:08:31,467 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40420
    [junit] 2015-07-07 19:08:31,467 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40420 (no session established for client)
    [junit] 2015-07-07 19:08:31,499 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33457, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:31,499 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:31,563 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33457
    [junit] 2015-07-07 19:08:31,579 [myid:3] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:31,579 [myid:3] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:31,579 [myid:3] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33457 (no session established for client)
    [junit] 2015-07-07 19:08:31,643 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:31,797 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:31,845 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40422
    [junit] 2015-07-07 19:08:31,862 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40422
    [junit] 2015-07-07 19:08:31,862 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40422 (no session established for client)
    [junit] 2015-07-07 19:08:32,177 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:32,225 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40423
    [junit] 2015-07-07 19:08:32,242 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40423
    [junit] 2015-07-07 19:08:32,242 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40423 (no session established for client)
    [junit] 2015-07-07 19:08:32,415 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:32,449 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40424, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:32,449 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:32,465 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40424
    [junit] 2015-07-07 19:08:32,482 [myid:2] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:32,482 [myid:2] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:32,482 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40424 (no session established for client)
    [junit] 2015-07-07 19:08:32,514 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:32,555 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:32,604 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40425
    [junit] 2015-07-07 19:08:32,620 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40425
    [junit] 2015-07-07 19:08:32,620 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40425 (no session established for client)
    [junit] 2015-07-07 19:08:32,934 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:32,946 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:32,999 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38710, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:32,999 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:33,015 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40426
    [junit] 2015-07-07 19:08:33,031 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40426
    [junit] 2015-07-07 19:08:33,032 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40426 (no session established for client)
    [junit] 2015-07-07 19:08:33,063 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38710
    [junit] 2015-07-07 19:08:33,079 [myid:1] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:33,080 [myid:1] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:33,080 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38710 (no session established for client)
    [junit] 2015-07-07 19:08:33,159 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:33,228 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:33,261 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40050, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:33,261 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:33,277 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40050
    [junit] 2015-07-07 19:08:33,293 [myid:0] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:33,293 [myid:0] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:33,293 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40050 (no session established for client)
    [junit] 2015-07-07 19:08:33,324 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:33,377 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:33,426 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40429
    [junit] 2015-07-07 19:08:33,442 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40429
    [junit] 2015-07-07 19:08:33,442 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40429 (no session established for client)
    [junit] 2015-07-07 19:08:33,705 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:33,738 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33466, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:33,738 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:33,754 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33466
    [junit] 2015-07-07 19:08:33,756 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:33,771 [myid:3] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:33,771 [myid:3] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:33,771 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33466 (no session established for client)
    [junit] 2015-07-07 19:08:33,819 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:33,883 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40431
    [junit] 2015-07-07 19:08:33,899 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40431
    [junit] 2015-07-07 19:08:33,899 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40431 (no session established for client)
    [junit] 2015-07-07 19:08:34,213 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:34,262 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40432
    [junit] 2015-07-07 19:08:34,278 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40432
    [junit] 2015-07-07 19:08:34,279 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40432 (no session established for client)
    [junit] 2015-07-07 19:08:34,538 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:34,570 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40433, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:34,570 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:34,586 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40433
    [junit] 2015-07-07 19:08:34,593 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:34,602 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:34,602 [myid:2] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:34,603 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40433 (no session established for client)
    [junit] 2015-07-07 19:08:34,650 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:34,714 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40434
    [junit] 2015-07-07 19:08:34,730 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40434
    [junit] 2015-07-07 19:08:34,730 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40434 (no session established for client)
    [junit] 2015-07-07 19:08:34,847 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:34,879 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38718, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:34,879 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:34,895 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38718
    [junit] 2015-07-07 19:08:34,911 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:34,911 [myid:1] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:34,912 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38718 (no session established for client)
    [junit] 2015-07-07 19:08:34,943 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:35,044 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:35,093 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40436
    [junit] 2015-07-07 19:08:35,109 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40436
    [junit] 2015-07-07 19:08:35,109 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40436 (no session established for client)
    [junit] 2015-07-07 19:08:35,243 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:35,258 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:35,292 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33473, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:35,292 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:35,308 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40060, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:35,308 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:35,324 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33473
    [junit] 2015-07-07 19:08:35,340 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:35,340 [myid:3] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:35,340 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33473 (no session established for client)
    [junit] 2015-07-07 19:08:35,356 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40060
    [junit] 2015-07-07 19:08:35,372 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:35,372 [myid:0] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:35,372 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40060 (no session established for client)
    [junit] 2015-07-07 19:08:35,404 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:35,423 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:35,452 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:35,549 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40439
    [junit] 2015-07-07 19:08:35,565 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40439
    [junit] 2015-07-07 19:08:35,565 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40439 (no session established for client)
    [junit] 2015-07-07 19:08:35,880 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:35,928 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40440
    [junit] 2015-07-07 19:08:35,945 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40440
    [junit] 2015-07-07 19:08:35,945 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40440 (no session established for client)
    [junit] 2015-07-07 19:08:36,037 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:36,072 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40441, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:36,073 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:36,089 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40441
    [junit] 2015-07-07 19:08:36,105 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:36,105 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:36,105 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40441 (no session established for client)
    [junit] 2015-07-07 19:08:36,136 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:36,255 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:36,259 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:36,303 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38725, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:36,303 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:36,335 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38725
    [junit] 2015-07-07 19:08:36,351 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:36,351 [myid:1] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:36,352 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38725 (no session established for client)
    [junit] 2015-07-07 19:08:36,367 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40443
    [junit] 2015-07-07 19:08:36,383 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40443
    [junit] 2015-07-07 19:08:36,384 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40443 (no session established for client)
    [junit] 2015-07-07 19:08:36,432 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:36,681 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:36,715 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40066, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:36,715 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:36,731 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40066
    [junit] 2015-07-07 19:08:36,746 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:36,747 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:36,747 [myid:0] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:36,747 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40066 (no session established for client)
    [junit] 2015-07-07 19:08:36,795 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:36,859 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40445
    [junit] 2015-07-07 19:08:36,875 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40445
    [junit] 2015-07-07 19:08:36,875 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40445 (no session established for client)
    [junit] 2015-07-07 19:08:37,050 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:37,083 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33482, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:37,083 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:37,099 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33482
    [junit] 2015-07-07 19:08:37,115 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:37,115 [myid:3] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:37,115 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33482 (no session established for client)
    [junit] 2015-07-07 19:08:37,147 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:37,189 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:37,237 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40447
    [junit] 2015-07-07 19:08:37,254 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40447
    [junit] 2015-07-07 19:08:37,254 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40447 (no session established for client)
    [junit] 2015-07-07 19:08:37,392 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:37,425 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40448, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:37,425 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:37,440 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40448
    [junit] 2015-07-07 19:08:37,457 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:37,457 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:37,458 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40448 (no session established for client)
    [junit] 2015-07-07 19:08:37,490 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:37,569 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:37,617 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40450
    [junit] 2015-07-07 19:08:37,634 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40450
    [junit] 2015-07-07 19:08:37,634 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40450 (no session established for client)
    [junit] 2015-07-07 19:08:37,948 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:37,996 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40451
    [junit] 2015-07-07 19:08:38,012 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40451
    [junit] 2015-07-07 19:08:38,012 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40451 (no session established for client)
    [junit] 2015-07-07 19:08:38,156 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:38,189 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38735, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:38,189 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:38,205 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38735
    [junit] 2015-07-07 19:08:38,222 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:38,222 [myid:1] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:38,222 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38735 (no session established for client)
    [junit] 2015-07-07 19:08:38,254 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:38,326 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:38,375 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40453
    [junit] 2015-07-07 19:08:38,391 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40453
    [junit] 2015-07-07 19:08:38,391 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40453 (no session established for client)
    [junit] 2015-07-07 19:08:38,483 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:38,518 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40076, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:38,518 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:38,534 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40076
    [junit] 2015-07-07 19:08:38,550 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:38,550 [myid:0] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:38,550 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40076 (no session established for client)
    [junit] 2015-07-07 19:08:38,582 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:38,705 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:38,753 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40455
    [junit] 2015-07-07 19:08:38,769 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40455
    [junit] 2015-07-07 19:08:38,769 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40455 (no session established for client)
    [junit] 2015-07-07 19:08:39,083 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:39,133 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40456
    [junit] 2015-07-07 19:08:39,149 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40456
    [junit] 2015-07-07 19:08:39,149 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40456 (no session established for client)
    [junit] 2015-07-07 19:08:39,157 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:39,277 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33493, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:39,277 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:39,293 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33493
    [junit] 2015-07-07 19:08:39,309 [myid:3] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:39,309 [myid:3] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:39,310 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33493 (no session established for client)
    [junit] 2015-07-07 19:08:39,318 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:39,342 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:39,406 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40458, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:39,406 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:39,422 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40458
    [junit] 2015-07-07 19:08:39,438 [myid:2] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:39,439 [myid:2] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:39,439 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40458 (no session established for client)
    [junit] 2015-07-07 19:08:39,463 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:39,471 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:39,551 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40459
    [junit] 2015-07-07 19:08:39,567 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40459
    [junit] 2015-07-07 19:08:39,567 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40459 (no session established for client)
    [junit] 2015-07-07 19:08:39,881 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:39,929 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40460
    [junit] 2015-07-07 19:08:39,946 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40460
    [junit] 2015-07-07 19:08:39,947 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40460 (no session established for client)
    [junit] 2015-07-07 19:08:40,152 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:40,185 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38744, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:40,185 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:40,201 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38744
    [junit] 2015-07-07 19:08:40,217 [myid:1] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:40,217 [myid:1] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:40,217 [myid:1] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38744 (no session established for client)
    [junit] 2015-07-07 19:08:40,249 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:40,262 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:40,329 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40462
    [junit] 2015-07-07 19:08:40,345 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40462
    [junit] 2015-07-07 19:08:40,345 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40462 (no session established for client)
    [junit] 2015-07-07 19:08:40,369 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:40,473 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40085, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:40,473 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:40,489 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40085
    [junit] 2015-07-07 19:08:40,505 [myid:0] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:40,505 [myid:0] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:40,506 [myid:0] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40085 (no session established for client)
    [junit] 2015-07-07 19:08:40,537 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:40,659 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:40,701 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:40,708 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40464
    [junit] 2015-07-07 19:08:40,724 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40464
    [junit] 2015-07-07 19:08:40,724 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40464 (no session established for client)
    [junit] 2015-07-07 19:08:40,820 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40465, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:40,820 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:40,868 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40465
    [junit] 2015-07-07 19:08:40,884 [myid:2] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:40,884 [myid:2] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:40,885 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40465 (no session established for client)
    [junit] 2015-07-07 19:08:40,916 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:41,054 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:41,103 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40466
    [junit] 2015-07-07 19:08:41,119 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40466
    [junit] 2015-07-07 19:08:41,119 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40466 (no session established for client)
    [junit] 2015-07-07 19:08:41,256 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:41,288 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33503, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:41,288 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:41,304 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33503
    [junit] 2015-07-07 19:08:41,320 [myid:3] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:41,320 [myid:3] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:41,321 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33503 (no session established for client)
    [junit] 2015-07-07 19:08:41,352 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:41,433 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:41,481 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40468
    [junit] 2015-07-07 19:08:41,497 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40468
    [junit] 2015-07-07 19:08:41,497 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40468 (no session established for client)
    [junit] 2015-07-07 19:08:41,811 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:41,861 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40469
    [junit] 2015-07-07 19:08:41,877 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40469
    [junit] 2015-07-07 19:08:41,877 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40469 (no session established for client)
    [junit] 2015-07-07 19:08:41,972 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:41,984 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):QuorumCnxManager@523] - Queue size: 0
    [junit] 2015-07-07 19:08:41,984 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 0 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:41,984 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 1 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:41,984 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 0
    [junit] 2015-07-07 19:08:41,984 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 2 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:41,984 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 1
    [junit] 2015-07-07 19:08:41,984 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@678] - Sending Notification: 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), 3 (recipient), 2 (myid), 0x2 (n.peerEpoch)
    [junit] 2015-07-07 19:08:41,985 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@928] - Notification time out: 51200
    [junit] 2015-07-07 19:08:41,985 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@475] - There is a connection already for server 3
    [junit] 2015-07-07 19:08:41,985 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:41,985 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:41,985 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@708] - id: 1, proposed id: 1, zxid: 0x100000005, proposed zxid: 0x100000005
    [junit] 2015-07-07 19:08:41,985 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/127.0.0.1:11230)(secure=disabled):FastLeaderElection@964] - Adding vote: from=2, proposed leader=1, proposed zxid=0x100000005, proposed election epoch=0x2
    [junit] 2015-07-07 19:08:42,064 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40092, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:42,064 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:42,080 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 0
    [junit] 2015-07-07 19:08:42,080 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:42,080 [myid:0] - DEBUG [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =0 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:42,080 [myid:0] - DEBUG [WorkerSender[myid=0]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:42,112 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 1
    [junit] 2015-07-07 19:08:42,112 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), LEADING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:42,112 [myid:1] - DEBUG [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =1 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:42,112 [myid:1] - DEBUG [WorkerSender[myid=1]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:42,128 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 3
    [junit] 2015-07-07 19:08:42,129 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEPoch), FOLLOWING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:42,129 [myid:3] - DEBUG [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@413] - Sending new notification. My id =3 recipient=2 zxid=0x100000005 leader=1 config version = 100000000
    [junit] 2015-07-07 19:08:42,129 [myid:3] - DEBUG [WorkerSender[myid=3]:QuorumCnxManager@475] - There is a connection already for server 2
    [junit] 2015-07-07 19:08:42,161 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40092
    [junit] 2015-07-07 19:08:42,177 [myid:0] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:42,177 [myid:0] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:42,177 [myid:0] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40092 (no session established for client)
    [junit] 2015-07-07 19:08:42,199 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:42,223 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:42,241 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:42,241 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 0 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:42,321 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:42,321 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), FOLLOWING (n.state), 3 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:42,353 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:42,385 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@341] - Receive new notification message. My id = 2
    [junit] 2015-07-07 19:08:42,385 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@688] - Notification: 2 (message format version), 1 (n.leader), 0x100000005 (n.zxid), 0xffffffffffffffff (n.round), LEADING (n.state), 1 (n.sid), 0x2 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
    [junit] 2015-07-07 19:08:42,523 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:42,545 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38755, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:42,545 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:42,577 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40471
    [junit] 2015-07-07 19:08:42,593 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40471
    [junit] 2015-07-07 19:08:42,594 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40471 (no session established for client)
    [junit] 2015-07-07 19:08:42,609 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38755
    [junit] 2015-07-07 19:08:42,626 [myid:1] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:42,626 [myid:1] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:42,626 [myid:1] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38755 (no session established for client)
    [junit] 2015-07-07 19:08:42,642 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40473, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:42,642 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:42,689 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:42,722 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:42,754 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40473
    [junit] 2015-07-07 19:08:42,770 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:42,770 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:42,770 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40473 (no session established for client)
    [junit] 2015-07-07 19:08:42,866 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:42,898 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33510, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:42,898 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:42,930 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33510
    [junit] 2015-07-07 19:08:42,940 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:42,946 [myid:3] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:42,946 [myid:3] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:42,946 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33510 (no session established for client)
    [junit] 2015-07-07 19:08:42,994 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:43,058 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40475
    [junit] 2015-07-07 19:08:43,075 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40475
    [junit] 2015-07-07 19:08:43,075 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40475 (no session established for client)
    [junit] 2015-07-07 19:08:43,389 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:43,439 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40476
    [junit] 2015-07-07 19:08:43,455 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40476
    [junit] 2015-07-07 19:08:43,455 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40476 (no session established for client)
    [junit] 2015-07-07 19:08:43,769 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:43,817 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40477
    [junit] 2015-07-07 19:08:43,834 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40477
    [junit] 2015-07-07 19:08:43,835 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40477 (no session established for client)
    [junit] 2015-07-07 19:08:43,848 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:43,963 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40100, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:43,963 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:43,979 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40100
    [junit] 2015-07-07 19:08:43,996 [myid:0] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:43,996 [myid:0] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:43,996 [myid:0] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40100 (no session established for client)
    [junit] 2015-07-07 19:08:44,027 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:44,149 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:44,197 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40479
    [junit] 2015-07-07 19:08:44,214 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40479
    [junit] 2015-07-07 19:08:44,214 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40479 (no session established for client)
    [junit] 2015-07-07 19:08:44,294 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:44,343 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38763, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:44,343 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:44,359 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38763
    [junit] 2015-07-07 19:08:44,375 [myid:1] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:44,375 [myid:1] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:44,376 [myid:1] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38763 (no session established for client)
    [junit] 2015-07-07 19:08:44,407 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:44,529 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:44,578 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40481
    [junit] 2015-07-07 19:08:44,594 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40481
    [junit] 2015-07-07 19:08:44,594 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40481 (no session established for client)
    [junit] 2015-07-07 19:08:44,680 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:44,722 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40482, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:44,722 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:44,738 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40482
    [junit] 2015-07-07 19:08:44,754 [myid:2] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:44,754 [myid:2] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:44,754 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40482 (no session established for client)
    [junit] 2015-07-07 19:08:44,775 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:44,786 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:44,850 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33519, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:44,850 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:44,866 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33519
    [junit] 2015-07-07 19:08:44,882 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:44,882 [myid:3] - DEBUG [NIOWorkerThread-6:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:44,883 [myid:3] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33519 (no session established for client)
    [junit] 2015-07-07 19:08:44,908 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:44,914 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:44,995 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40484
    [junit] 2015-07-07 19:08:45,011 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40484
    [junit] 2015-07-07 19:08:45,011 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40484 (no session established for client)
    [junit] 2015-07-07 19:08:45,266 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:45,301 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40107, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:45,301 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:45,317 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40107
    [junit] 2015-07-07 19:08:45,325 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:45,334 [myid:0] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:45,334 [myid:0] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:45,334 [myid:0] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40107 (no session established for client)
    [junit] 2015-07-07 19:08:45,382 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:45,446 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40486
    [junit] 2015-07-07 19:08:45,462 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40486
    [junit] 2015-07-07 19:08:45,462 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40486 (no session established for client)
    [junit] 2015-07-07 19:08:45,776 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:45,787 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:45,842 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38772, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:45,842 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:45,859 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40488
    [junit] 2015-07-07 19:08:45,875 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40488
    [junit] 2015-07-07 19:08:45,875 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40488 (no session established for client)
    [junit] 2015-07-07 19:08:45,907 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38772
    [junit] 2015-07-07 19:08:45,923 [myid:1] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:45,923 [myid:1] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:45,923 [myid:1] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38772 (no session established for client)
    [junit] 2015-07-07 19:08:46,003 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:46,221 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:46,270 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40490
    [junit] 2015-07-07 19:08:46,279 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:46,287 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40490
    [junit] 2015-07-07 19:08:46,288 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40490 (no session established for client)
    [junit] 2015-07-07 19:08:46,384 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40491, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:46,384 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:46,431 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40491
    [junit] 2015-07-07 19:08:46,447 [myid:2] - WARN  [NIOWorkerThread-4:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:46,448 [myid:2] - DEBUG [NIOWorkerThread-4:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:46,448 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40491 (no session established for client)
    [junit] 2015-07-07 19:08:46,479 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:46,547 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:46,579 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40114, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:46,579 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:46,595 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40114
    [junit] 2015-07-07 19:08:46,611 [myid:0] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:46,611 [myid:0] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:46,611 [myid:0] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40114 (no session established for client)
    [junit] 2015-07-07 19:08:46,618 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:46,643 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:46,739 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40493
    [junit] 2015-07-07 19:08:46,755 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40493
    [junit] 2015-07-07 19:08:46,755 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40493 (no session established for client)
    [junit] 2015-07-07 19:08:46,937 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:46,969 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33530, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:46,969 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:46,985 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33530
    [junit] 2015-07-07 19:08:47,001 [myid:3] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:47,001 [myid:3] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:47,002 [myid:3] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33530 (no session established for client)
    [junit] 2015-07-07 19:08:47,033 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:47,069 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:47,117 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40495
    [junit] 2015-07-07 19:08:47,133 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40495
    [junit] 2015-07-07 19:08:47,134 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40495 (no session established for client)
    [junit] 2015-07-07 19:08:47,448 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:47,492 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:47,498 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40496
    [junit] 2015-07-07 19:08:47,514 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40496
    [junit] 2015-07-07 19:08:47,514 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40496 (no session established for client)
    [junit] 2015-07-07 19:08:47,611 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38780, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:47,611 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:47,659 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38780
    [junit] 2015-07-07 19:08:47,675 [myid:1] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:47,675 [myid:1] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:47,675 [myid:1] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38780 (no session established for client)
    [junit] 2015-07-07 19:08:47,707 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:47,845 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:47,893 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40498
    [junit] 2015-07-07 19:08:47,909 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40498
    [junit] 2015-07-07 19:08:47,910 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40498 (no session established for client)
    [junit] 2015-07-07 19:08:47,940 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:48,037 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40499, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:48,037 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:48,054 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40499
    [junit] 2015-07-07 19:08:48,070 [myid:2] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:48,070 [myid:2] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:48,070 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40499 (no session established for client)
    [junit] 2015-07-07 19:08:48,102 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:48,215 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:48,223 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:48,263 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33536, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:48,263 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:48,295 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33536
    [junit] 2015-07-07 19:08:48,311 [myid:3] - WARN  [NIOWorkerThread-8:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:48,311 [myid:3] - DEBUG [NIOWorkerThread-8:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:48,311 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33536 (no session established for client)
    [junit] 2015-07-07 19:08:48,327 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40501
    [junit] 2015-07-07 19:08:48,343 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40501
    [junit] 2015-07-07 19:08:48,343 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40501 (no session established for client)
    [junit] 2015-07-07 19:08:48,391 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:48,677 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:48,706 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:48,710 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40124, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:48,710 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:48,742 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40124
    [junit] 2015-07-07 19:08:48,758 [myid:0] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:48,758 [myid:0] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:48,758 [myid:0] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40124 (no session established for client)
    [junit] 2015-07-07 19:08:48,806 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:48,838 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40503
    [junit] 2015-07-07 19:08:48,854 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40503
    [junit] 2015-07-07 19:08:48,854 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40503 (no session established for client)
    [junit] 2015-07-07 19:08:49,184 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:49,232 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40504
    [junit] 2015-07-07 19:08:49,249 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40504
    [junit] 2015-07-07 19:08:49,249 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40504 (no session established for client)
    [junit] 2015-07-07 19:08:49,342 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:49,377 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38788, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:49,377 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:49,393 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38788
    [junit] 2015-07-07 19:08:49,409 [myid:1] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:49,409 [myid:1] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:49,409 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38788 (no session established for client)
    [junit] 2015-07-07 19:08:49,441 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:49,538 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:49,559 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:49,563 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:49,571 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33542, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:49,571 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:49,619 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33542
    [junit] 2015-07-07 19:08:49,635 [myid:3] - WARN  [NIOWorkerThread-1:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:49,635 [myid:3] - DEBUG [NIOWorkerThread-1:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:49,635 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33542 (no session established for client)
    [junit] 2015-07-07 19:08:49,651 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40507, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:49,651 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:49,699 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:49,731 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40507
    [junit] 2015-07-07 19:08:49,747 [myid:2] - WARN  [NIOWorkerThread-5:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:49,747 [myid:2] - DEBUG [NIOWorkerThread-5:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:49,747 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40507 (no session established for client)
    [junit] 2015-07-07 19:08:49,763 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40508
    [junit] 2015-07-07 19:08:49,779 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40508
    [junit] 2015-07-07 19:08:49,779 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40508 (no session established for client)
    [junit] 2015-07-07 19:08:49,843 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:50,141 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:50,190 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40509
    [junit] 2015-07-07 19:08:50,206 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40509
    [junit] 2015-07-07 19:08:50,206 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40509 (no session established for client)
    [junit] 2015-07-07 19:08:50,520 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:50,556 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:50,568 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40510
    [junit] 2015-07-07 19:08:50,585 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40510
    [junit] 2015-07-07 19:08:50,585 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40510 (no session established for client)
    [junit] 2015-07-07 19:08:50,682 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40133, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:50,682 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:50,730 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40133
    [junit] 2015-07-07 19:08:50,746 [myid:0] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:50,746 [myid:0] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:50,746 [myid:0] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40133 (no session established for client)
    [junit] 2015-07-07 19:08:50,778 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:50,916 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:50,947 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:50,980 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40512
    [junit] 2015-07-07 19:08:50,996 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40512
    [junit] 2015-07-07 19:08:50,997 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40512 (no session established for client)
    [junit] 2015-07-07 19:08:51,028 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33549, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:51,028 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:51,092 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33549
    [junit] 2015-07-07 19:08:51,109 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:51,109 [myid:3] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:51,109 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33549 (no session established for client)
    [junit] 2015-07-07 19:08:51,173 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:51,213 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:51,246 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38797, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:51,246 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:51,262 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38797
    [junit] 2015-07-07 19:08:51,278 [myid:1] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:51,278 [myid:1] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:51,278 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38797 (no session established for client)
    [junit] 2015-07-07 19:08:51,310 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:51,312 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:51,326 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:51,390 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40515, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:51,390 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:51,422 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40515
    [junit] 2015-07-07 19:08:51,438 [myid:2] - WARN  [NIOWorkerThread-2:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:51,438 [myid:2] - DEBUG [NIOWorkerThread-2:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:51,438 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40515 (no session established for client)
    [junit] 2015-07-07 19:08:51,454 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40516
    [junit] 2015-07-07 19:08:51,470 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40516
    [junit] 2015-07-07 19:08:51,470 [myid:2] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40516 (no session established for client)
    [junit] 2015-07-07 19:08:51,518 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:51,831 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:51,882 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40517
    [junit] 2015-07-07 19:08:51,899 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40517
    [junit] 2015-07-07 19:08:51,899 [myid:2] - INFO  [NIOWorkerThread-4:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40517 (no session established for client)
    [junit] 2015-07-07 19:08:52,117 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:52,149 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40140, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:52,150 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:52,165 [myid:0] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11224:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40140
    [junit] 2015-07-07 19:08:52,181 [myid:0] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:52,182 [myid:0] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:52,182 [myid:0] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40140 (no session established for client)
    [junit] 2015-07-07 19:08:52,213 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:52,221 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:52,294 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40519
    [junit] 2015-07-07 19:08:52,309 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:52,310 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40519
    [junit] 2015-07-07 19:08:52,311 [myid:2] - INFO  [NIOWorkerThread-5:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40519 (no session established for client)
    [junit] 2015-07-07 19:08:52,407 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:33556, server: 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:52,407 [myid:] - DEBUG [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11233
    [junit] 2015-07-07 19:08:52,455 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11233:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:33556
    [junit] 2015-07-07 19:08:52,471 [myid:3] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:52,471 [myid:3] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:52,471 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:33556 (no session established for client)
    [junit] 2015-07-07 19:08:52,503 [myid:] - INFO  [main-SendThread(127.0.0.1:11233):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:52,641 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:52,689 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40521
    [junit] 2015-07-07 19:08:52,706 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40521
    [junit] 2015-07-07 19:08:52,706 [myid:2] - INFO  [NIOWorkerThread-6:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40521 (no session established for client)
    [junit] 2015-07-07 19:08:52,835 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11230. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:52,868 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40522, server: 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:52,868 [myid:] - DEBUG [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11230
    [junit] 2015-07-07 19:08:52,884 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40522
    [junit] 2015-07-07 19:08:52,900 [myid:2] - WARN  [NIOWorkerThread-7:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:52,900 [myid:2] - DEBUG [NIOWorkerThread-7:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:52,900 [myid:2] - INFO  [NIOWorkerThread-7:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40522 (no session established for client)
    [junit] 2015-07-07 19:08:52,932 [myid:] - INFO  [main-SendThread(127.0.0.1:11230):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:53,021 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:53,070 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40523
    [junit] 2015-07-07 19:08:53,087 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40523
    [junit] 2015-07-07 19:08:53,087 [myid:2] - INFO  [NIOWorkerThread-8:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40523 (no session established for client)
    [junit] 2015-07-07 19:08:53,316 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:53,349 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:38807, server: 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:53,350 [myid:] - DEBUG [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11227
    [junit] 2015-07-07 19:08:53,366 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11227:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:38807
    [junit] 2015-07-07 19:08:53,383 [myid:1] - WARN  [NIOWorkerThread-3:NIOServerCnxn@369] - Exception causing close of session 0x0: ZooKeeperServer not running
    [junit] 2015-07-07 19:08:53,383 [myid:1] - DEBUG [NIOWorkerThread-3:NIOServerCnxn@372] - IOException stack trace
    [junit] java.io.IOException: ZooKeeperServer not running
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:542)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:331)
    [junit] 	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:530)
    [junit] 	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:162)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
    [junit] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
    [junit] 	at java.lang.Thread.run(Thread.java:745)
    [junit] 2015-07-07 19:08:53,383 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:38807 (no session established for client)
    [junit] 2015-07-07 19:08:53,401 [myid:] - INFO  [main:FourLetterWordMain@84] - connecting to 127.0.0.1 11230
    [junit] 2015-07-07 19:08:53,415 [myid:] - INFO  [main-SendThread(127.0.0.1:11227):ClientCnxn$SendThread@1253] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
    [junit] 2015-07-07 19:08:53,495 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:localhost/127.0.0.1:11230:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /127.0.0.1:40525
    [junit] 2015-07-07 19:08:53,511 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@485] - Processing stat command from /127.0.0.1:40525
    [junit] 2015-07-07 19:08:53,512 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@606] - Closed socket connection for client /127.0.0.1:40525 (no session established for client)
    [junit] 2015-07-07 19:08:53,575 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@98] - TEST METHOD FAILED testCurrentObserverIsParticipantInNewConfig
    [junit] java.lang.AssertionError: waiting for server 2 being up
    [junit] 	at org.junit.Assert.fail(Assert.java:88)
    [junit] 	at org.junit.Assert.assertTrue(Assert.java:41)
    [junit] 	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:540)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:606)
    [junit] 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
    [junit] 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    [junit] 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
    [junit] 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
    [junit] 	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:79)
    [junit] 	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
    [junit] 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    [junit] 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    [junit] 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    [junit] 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    [junit] 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    [junit] 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    [junit] 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    [junit] 	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1179)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1030)
    [junit] 2015-07-07 19:08:53,576 [myid:] - INFO  [main:ZKTestCase$1@70] - FAILED testCurrentObserverIsParticipantInNewConfig
    [junit] java.lang.AssertionError: waiting for server 2 being up
    [junit] 	at org.junit.Assert.fail(Assert.java:88)
    [junit] 	at org.junit.Assert.assertTrue(Assert.java:41)
    [junit] 	at org.apache.zookeeper.server.quorum.ReconfigRecoveryTest.testCurrentObserverIsParticipantInNewConfig(ReconfigRecoveryTest.java:540)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:606)
    [junit] 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
    [junit] 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
    [junit] 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
    [junit] 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
    [junit] 	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:79)
    [junit] 	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
    [junit] 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
    [junit] 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
    [junit] 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
    [junit] 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
    [junit] 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
    [junit] 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
    [junit] 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
    [junit] 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
    [junit] 	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:532)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1179)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1030)
    [junit] 2015-07-07 19:08:53,576 [myid:] - INFO  [main:ZKTestCase$1@60] - FINISHED testCurrentObserverIsParticipantInNewConfig
    [junit] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 97.523 sec
    [junit] 2015-07-07 19:08:53,608 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1138] - Opening socket connection to server 127.0.0.1/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
    [junit] 2015-07-07 19:08:53,640 [myid:] - INFO  [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@980] - Socket connection established, initiating session, client: /127.0.0.1:40149, server: 127.0.0.1/127.0.0.1:11224
    [junit] 2015-07-07 19:08:53,640 [myid:] - DEBUG [main-SendThread(127.0.0.1:11224):ClientCnxn$SendThread@1048] - Session establishment request sent on 127.0.0.1/127.0.0.1:11224
    [junit] Test org.apache.zookeeper.server.quorum.ReconfigRecoveryTest FAILED

BUILD FAILED
/home/suda/WORK/zookeeper/build.xml:1375: Tests failed!

Total time: 1 minute 40 seconds
